import{A as Iu,C as ro,D as dt,G as bu,a as qd,b as Jd,c as bi,d as nu,e as zn,f as ou,g as ru,h as Pi,i as du,j as uu,k as pu,l as Oo,m as mu,n as fu,o as Ro,q as gu,s as hu,t as ba,u as Cu,v as vu,w as Su,x as _u,y as Eu}from"./chunk-B7BS5CTS.js";import{a as yu}from"./chunk-TILH3L57.js";import{a as tu}from"./chunk-GQRMTRA6.js";import{a as gi,b as Pd,c as Ad,d as ln,t as $d,u as Gd,v as Yd,w as Qd}from"./chunk-FDXTBQQ3.js";import{A as Id,B as lt,C as bd,Ca as Rd,D as Ia,E as oo,Ea as Et,F as vi,Fa as Md,G as Ir,J as xd,Ja as kd,K as wd,Ka as Ud,L as Td,La as Fd,Na as Ld,Oa as cn,Pa as Mt,Qa as Bd,Ra as zd,Sa as jd,Ta as Si,Ua as _i,Va as Ei,Wa as Ii,Xa as jt,Ya as xi,b as fd,ea as Dd,f as gd,j as hd,ma as Nd,ra as Od,t as yi,v as X,w as qt,wa as Ay,x as Ed,y as no,z as Ea}from"./chunk-B7CQUWA6.js";import{a as Xd,b as Zd,c as eu,d as wi,e as Ti,f as iu,g as su,h as au,i as cu,j as lu}from"./chunk-WJJ5IHLP.js";import{$ as Ze,$a as In,A as Tl,Ab as Xl,Ba as F,Bb as Zl,Bc as Ci,C as Po,Cb as ed,Cc as yd,Da as Tt,E as Pl,Ea as Hl,Eb as Ln,Ec as Cd,Fa as Wl,Fb as bn,Fc as Bn,G as Al,Gb as pi,Gc as an,H as ai,Ha as J,Hc as vd,I as Dl,Ia as Kl,Ib as he,Ic as Sd,J as xt,Ja as di,Jb as Rt,Jc as _d,K as at,Ka as Pt,Kb as _t,Kc as Vd,L as hr,La as Un,Lb as _r,Lc as Hd,M as yr,Mb as pe,Na as Sr,Nb as td,Nc as Wd,O as oe,Oc as Kd,P as Nl,Pa as fe,Pb as to,Pc as ue,Q as sn,Qa as ql,Ra as W,Rb as nd,S as Ol,Sa as K,T as ci,Ta as Le,U as b,Ua as Oe,Ub as xn,Va as Re,Vb as od,W as Je,Wa as I,X as Xe,Xa as S,Y as li,Ya as E,Yb as ct,Z as Rl,Za as N,_ as Ml,_a as En,aa as wt,ab as Ao,bb as At,ca as kl,cb as Dt,cc as va,db as Ct,e as ii,ea as Kt,eb as nt,ec as mi,fa as Ul,fb as jl,fc as No,ga as Fl,gb as $l,gc as fi,h as El,ha as Ge,hb as ce,i as si,ia as Cr,ib as Gl,ic as rd,j as Il,jb as T,jc as id,k as bl,ka as Ll,kb as Be,kc as sd,l as ha,la as ya,lb as ge,lc as ad,mb as Yl,mc as cd,nb as Nt,nc as ld,o as Fe,ob as vt,p as xl,pa as vr,pb as St,pc as dd,qa as Bl,qc as Sa,ra as _,rb as Ql,rc as _a,s as Ke,sa as Ca,sb as Jl,sc as ud,tb as le,u as fr,ua as zl,ub as Fn,v as wl,va as eo,vb as ui,vc as pd,w as Te,wb as Do,wc as Er,xb as j,xc as md,yb as Ot,yc as _e,z as gr,za as Vl,zb as Pe,zc as hi}from"./chunk-2Q4CPQVZ.js";import{a as y,b as U,d as ri,h as rn}from"./chunk-JGDRNPQP.js";var Vn=class{};var Hp=rn(Er(),1),Wp=rn(md(),1);var xu={arabic:"ar",armenian:"am",bulgarian:"bg",danish:"dk",dutch:"nl",english:"en",finnish:"fi",french:"fr",german:"de",greek:"gr",hungarian:"hu",indian:"in",indonesian:"id",irish:"ie",italian:"it",lithuanian:"lt",nepali:"np",norwegian:"no",portuguese:"pt",romanian:"ro",russian:"ru",serbian:"rs",slovenian:"ru",spanish:"es",swedish:"se",tamil:"ta",turkish:"tr",ukrainian:"uk",sanskrit:"sk"},wu={dutch:/[^A-Za-zàèéìòóù0-9_'-]+/gim,english:/[^A-Za-zàèéìòóù0-9_'-]+/gim,french:/[^a-z0-9äâàéèëêïîöôùüûœç-]+/gim,italian:/[^A-Za-zàèéìòóù0-9_'-]+/gim,norwegian:/[^a-z0-9_æøåÆØÅäÄöÖüÜ]+/gim,portuguese:/[^a-z0-9à-úÀ-Ú]/gim,russian:/[^a-z0-9а-яА-ЯёЁ]+/gim,spanish:/[^a-z0-9A-Zá-úÁ-ÚñÑüÜ]+/gim,swedish:/[^a-z0-9_åÅäÄöÖüÜ-]+/gim,german:/[^a-z0-9A-ZäöüÄÖÜß]+/gim,finnish:/[^a-z0-9äöÄÖ]+/gim,danish:/[^a-z0-9æøåÆØÅ]+/gim,hungarian:/[^a-z0-9áéíóöőúüűÁÉÍÓÖŐÚÜŰ]+/gim,romanian:/[^a-z0-9ăâîșțĂÂÎȘȚ]+/gim,serbian:/[^a-z0-9čćžšđČĆŽŠĐ]+/gim,turkish:/[^a-z0-9çÇğĞıİöÖşŞüÜ]+/gim,lithuanian:/[^a-z0-9ąčęėįšųūžĄČĘĖĮŠŲŪŽ]+/gim,arabic:/[^a-z0-9أ-ي]+/gim,nepali:/[^a-z0-9अ-ह]+/gim,irish:/[^a-z0-9áéíóúÁÉÍÓÚ]+/gim,indian:/[^a-z0-9अ-ह]+/gim,armenian:/[^a-z0-9ա-ֆ]+/gim,greek:/[^a-z0-9α-ωά-ώ]+/gim,indonesian:/[^a-z0-9]+/gim,ukrainian:/[^a-z0-9а-яА-ЯіїєІЇЄ]+/gim,slovenian:/[^a-z0-9čžšČŽŠ]+/gim,bulgarian:/[^a-z0-9а-яА-Я]+/gim,tamil:/[^a-z0-9அ-ஹ]+/gim,sanskrit:/[^a-z0-9A-Zāīūṛḷṃṁḥśṣṭḍṇṅñḻḹṝ]+/gim},br=Object.keys(xu);function Tu(t){return t!==void 0&&br.includes(t)?xu[t]:void 0}var Dy=Date.now().toString().slice(5),Ny=0;var Pu=BigInt(1e3),Au=BigInt(1e6),Du=BigInt(1e9);var xa=65535;function me(t,e){if(e.length<xa)Array.prototype.push.apply(t,e);else{let n=e.length;for(let o=0;o<n;o+=xa)Array.prototype.push.apply(t,e.slice(o,o+xa))}}function Ou(t,...e){return t.replace(/%(?:(?<position>\d+)\$)?(?<width>-?\d*\.?\d*)(?<type>[dfs])/g,function(...n){let o=n[n.length-1],{width:r,type:i,position:s}=o,a=s?e[Number.parseInt(s)-1]:e.shift(),c=r===""?0:Number.parseInt(r);switch(i){case"d":return a.toString().padStart(c,"0");case"f":{let l=a,[d,u]=r.split(".").map(p=>Number.parseFloat(p));return typeof u=="number"&&u>=0&&(l=l.toFixed(u)),typeof d=="number"&&d>=0?l.toString().padStart(c,"0"):l.toString()}case"s":return c<0?a.toString().padEnd(-c," "):a.toString().padStart(c," ");default:return a}})}function Oy(){return typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope}function Ry(){return typeof process<"u"&&process.release&&process.release.name==="node"}function Nu(){return BigInt(Math.floor(performance.now()*1e6))}async function Mo(t){return typeof t=="number"&&(t=BigInt(t)),t<Pu?`${t}ns`:t<Au?`${t/Pu}\u03BCs`:t<Du?`${t/Au}ms`:`${t/Du}s`}async function dn(){var t;return Oy()?Nu():Ry()||typeof process<"u"&&typeof(process==null||(t=process.hrtime)===null||t===void 0?void 0:t.bigint)=="function"?process.hrtime.bigint():typeof performance<"u"?Nu():BigInt(0)}async function Ai(){return`${Dy}-${Ny++}`}function ko(t,e){return Object.hasOwn===void 0?Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0:Object.hasOwn(t,e)?t[e]:void 0}function Ru(t,e){return e[1]===t[1]?t[0]-e[0]:e[1]-t[1]}function Uo(t){if(t.length===0)return[];if(t.length===1)return t[0];for(let n=1;n<t.length;n++)if(t[n].length<t[0].length){let o=t[0];t[0]=t[n],t[n]=o}let e=new Map;for(let n of t[0])e.set(n,1);for(let n=1;n<t.length;n++){let o=0;for(let r of t[n]){let i=e.get(r);i===n&&(e.set(r,i+1),o++)}if(o===0)return[]}return t[0].filter(n=>{let o=e.get(n);return o!==void 0&&e.set(n,0),o===t.length})}async function Di(t,e){let n={},o=e.length;for(let r=0;r<o;r++){let i=e[r],s=i.split("."),a=t,c=s.length;for(let l=0;l<c;l++)if(a=a[s[l]],typeof a=="object"){if(a!==null&&"lat"in a&&"lon"in a&&typeof a.lat=="number"&&typeof a.lon=="number"){a=n[i]=a;break}else if(!Array.isArray(a)&&a!==null&&l===c-1){a=void 0;break}}else if((a===null||typeof a!="object")&&l<c-1){a=void 0;break}typeof a<"u"&&(n[i]=a)}return n}async function Fo(t,e){return(await Di(t,[e]))[e]}var My={cm:.01,m:1,km:1e3,ft:.3048,yd:.9144,mi:1609.344};function Mu(t,e){let n=My[e];if(n===void 0)throw new Error(z("INVALID_DISTANCE_SUFFIX",t).message);return t*n}function Ni(t,e){t.hits=t.hits.map(n=>U(y({},n),{document:y(y({},n.document),e.reduce((o,r)=>{let i=r.split("."),s=i.pop(),a=o;for(let c of i)a[c]=a[c]??{},a=a[c];return a[s]=null,o},n.document))}))}var ky=br.join(`
 - `),Uy={NO_LANGUAGE_WITH_CUSTOM_TOKENIZER:"Do not pass the language option to create when using a custom tokenizer.",LANGUAGE_NOT_SUPPORTED:`Language "%s" is not supported.
Supported languages are:
 - ${ky}`,INVALID_STEMMER_FUNCTION_TYPE:"config.stemmer property must be a function.",MISSING_STEMMER:'As of version 1.0.0 @orama/orama does not ship non English stemmers by default. To solve this, please explicitly import and specify the "%s" stemmer from the package @orama/stemmers. See https://docs.oramasearch.com/open-source/text-analysis/stemming for more information.',CUSTOM_STOP_WORDS_MUST_BE_FUNCTION_OR_ARRAY:"Custom stop words array must only contain strings.",UNSUPPORTED_COMPONENT:'Unsupported component "%s".',COMPONENT_MUST_BE_FUNCTION:'The component "%s" must be a function.',COMPONENT_MUST_BE_FUNCTION_OR_ARRAY_FUNCTIONS:'The component "%s" must be a function or an array of functions.',INVALID_SCHEMA_TYPE:'Unsupported schema type "%s" at "%s". Expected "string", "boolean" or "number" or array of them.',DOCUMENT_ID_MUST_BE_STRING:'Document id must be of type "string". Got "%s" instead.',DOCUMENT_ALREADY_EXISTS:'A document with id "%s" already exists.',DOCUMENT_DOES_NOT_EXIST:'A document with id "%s" does not exists.',MISSING_DOCUMENT_PROPERTY:'Missing searchable property "%s".',INVALID_DOCUMENT_PROPERTY:'Invalid document property "%s": expected "%s", got "%s"',UNKNOWN_INDEX:'Invalid property name "%s". Expected a wildcard string ("*") or array containing one of the following properties: %s',INVALID_BOOST_VALUE:"Boost value must be a number greater than, or less than 0.",INVALID_FILTER_OPERATION:"You can only use one operation per filter, you requested %d.",SCHEMA_VALIDATION_FAILURE:'Cannot insert document due schema validation failure on "%s" property.',INVALID_SORT_SCHEMA_TYPE:'Unsupported sort schema type "%s" at "%s". Expected "string" or "number".',CANNOT_SORT_BY_ARRAY:'Cannot configure sort for "%s" because it is an array (%s).',UNABLE_TO_SORT_ON_UNKNOWN_FIELD:'Unable to sort on unknown field "%s". Allowed fields: %s',SORT_DISABLED:"Sort is disabled. Please read the documentation at https://docs.oramasearch for more information.",UNKNOWN_GROUP_BY_PROPERTY:'Unknown groupBy property "%s".',INVALID_GROUP_BY_PROPERTY:'Invalid groupBy property "%s". Allowed types: "%s", but given "%s".',UNKNOWN_FILTER_PROPERTY:'Unknown filter property "%s".',INVALID_VECTOR_SIZE:'Vector size must be a number greater than 0. Got "%s" instead.',INVALID_VECTOR_VALUE:'Vector value must be a number greater than 0. Got "%s" instead.',INVALID_INPUT_VECTOR:`Property "%s" was declared as a %s-dimensional vector, but got a %s-dimensional vector instead.
Input vectors must be of the size declared in the schema, as calculating similarity between vectors of different sizes can lead to unexpected results.`,WRONG_SEARCH_PROPERTY_TYPE:'Property "%s" is not searchable. Only "string" properties are searchable.',FACET_NOT_SUPPORTED:`Facet doens't support the type "%s".`,INVALID_DISTANCE_SUFFIX:'Invalid distance suffix "%s". Valid suffixes are: cm, m, km, mi, yd, ft.',INVALID_SEARCH_MODE:'Invalid search mode "%s". Valid modes are: "fulltext", "vector", "hybrid".',MISSING_VECTOR_AND_SECURE_PROXY:"No vector was provided and no secure proxy was configured. Please provide a vector or configure an Orama Secure Proxy to perform hybrid search.",MISSING_TERM:'"term" is a required parameter when performing hybrid search. Please provide a search term.',INVALID_VECTOR_INPUT:'Invalid "vector" property. Expected an object with "value" and "property" properties, but got "%s" instead.',PLUGIN_CRASHED:"A plugin crashed during initialization. Please check the error message for more information:"};function z(t,...e){let n=new Error(Ou(Uy[t]??`Unsupported Orama Error code: ${t}`,...e));return n.code=t,"captureStackTrace"in Error.prototype&&Error.captureStackTrace(n),n}async function ku(t){return{raw:Number(t),formatted:await Mo(t)}}async function Uu(t){if(t.id){if(typeof t.id!="string")throw z("DOCUMENT_ID_MUST_BE_STRING",typeof t.id);return t.id}return await Ai()}async function wa(t,e){for(let[n,o]of Object.entries(e)){let r=t[n];if(!(typeof r>"u")&&!(o==="geopoint"&&typeof r=="object"&&typeof r.lon=="number"&&typeof r.lat=="number")&&!(o==="enum"&&(typeof r=="string"||typeof r=="number"))){if(o==="enum[]"&&Array.isArray(r)){let i=r.length;for(let s=0;s<i;s++)if(typeof r[s]!="string"&&typeof r[s]!="number")return n+"."+s;continue}if(wn(o)){let i=Pa(o);if(!Array.isArray(r)||r.length!==i)throw z("INVALID_INPUT_VECTOR",n,i,r.length);continue}if(Lo(o)){if(!Array.isArray(r))return n;let i=Ta(o),s=r.length;for(let a=0;a<s;a++)if(typeof r[a]!==i)return n+"."+a;continue}if(typeof o=="object"){if(!r||typeof r!="object")return n;let i=await wa(r,o);if(i)return n+"."+i;continue}if(typeof r!==o)return n}}}var Fy={string:!1,number:!1,boolean:!1,enum:!1,geopoint:!1,"string[]":!0,"number[]":!0,"boolean[]":!0,"enum[]":!0},Ly={"string[]":"string","number[]":"number","boolean[]":"boolean","enum[]":"enum"};function Fu(t){return t==="geopoint"}function wn(t){return typeof t=="string"&&/^vector\[\d+\]$/.test(t)}function Lo(t){return typeof t=="string"&&Fy[t]}function Ta(t){return Ly[t]}function Pa(t){let e=Number(t.slice(7,-1));switch(!0){case isNaN(e):throw z("INVALID_VECTOR_VALUE",t);case e<=0:throw z("INVALID_VECTOR_SIZE",t);default:return e}}function Lu(){return{idToInternalId:new Map,internalIdToId:[],save:By,load:zy}}function By(t){return{internalIdToId:t.internalIdToId}}function zy(t,e){let{internalIdToId:n}=e;t.internalDocumentIDStore.idToInternalId.clear(),t.internalDocumentIDStore.internalIdToId=[];let o=n.length;for(let r=0;r<o;r++){let i=n[r];t.internalDocumentIDStore.idToInternalId.set(i,r+1),t.internalDocumentIDStore.internalIdToId.push(i)}}function be(t,e){if(typeof e=="string"){let n=t.idToInternalId.get(e);if(n)return n;let o=t.idToInternalId.size+1;return t.idToInternalId.set(e,o),t.internalIdToId.push(e),o}return e>t.internalIdToId.length?be(t,e.toString()):e}function io(t,e){if(t.internalIdToId.length<e)throw new Error(`Invalid internalId ${e}`);return t.internalIdToId[e-1]}async function Vy(t,e){return{sharedInternalDocumentStore:e,docs:{},count:0}}async function Hy(t,e){let n=be(t.sharedInternalDocumentStore,e);return t.docs[n]}async function Wy(t,e){let n=e.length,o=Array.from({length:n});for(let r=0;r<n;r++){let i=be(t.sharedInternalDocumentStore,e[r]);o[r]=t.docs[i]}return o}async function Ky(t){return t.docs}async function qy(t,e,n){let o=be(t.sharedInternalDocumentStore,e);return typeof t.docs[o]<"u"?!1:(t.docs[o]=n,t.count++,!0)}async function jy(t,e){let n=be(t.sharedInternalDocumentStore,e);return typeof t.docs[n]>"u"?!1:(delete t.docs[n],t.count--,!0)}async function $y(t){return t.count}async function Gy(t,e){let n=e;return{docs:n.docs,count:n.count,sharedInternalDocumentStore:t}}async function Yy(t){return{docs:t.docs,count:t.count}}async function Bu(){return{create:Vy,get:Hy,getMultiple:Wy,getAll:Ky,store:qy,remove:jy,count:$y,load:Gy,save:Yy}}var zu=["beforeInsert","afterInsert","beforeRemove","afterRemove","beforeUpdate","afterUpdate","beforeSearch","afterSearch","beforeInsertMultiple","afterInsertMultiple","beforeRemoveMultiple","afterRemoveMultiple","beforeUpdateMultiple","afterUpdateMultiple","beforeLoad","afterLoad","afterCreate"];async function Vu(t,e){var n;let o=[],r=(n=t.plugins)===null||n===void 0?void 0:n.length;if(!r)return o;for(let i=0;i<r;i++)try{let s=await t.plugins[i];typeof s[e]=="function"&&o.push(s[e])}catch(s){throw console.error("Caught error in getAllPluginsByHook:",s),z("PLUGIN_CRASHED")}return o}var Hu=["tokenizer","index","documentsStore","sorter"],Aa=["validateSchema","getDocumentIndexId","getDocumentProperties","formatElapsedTime"];async function Da(t,e,n,o){let r=t.length;for(let i=0;i<r;i++)await t[i](e,n,o)}async function Na(t,e,n){let o=t.length;for(let r=0;r<o;r++)await t[r](e,n)}async function Bo(t,e,n,o,r){let i=t.length;for(let s=0;s<i;s++)await t[s](e,n,o,r)}async function zo(t,e,n,o){let r=t.length;for(let i=0;i<r;i++)await t[i](e,n,o)}async function Wu(t,e){let n=t.length;for(let o=0;o<n;o++)await t[o](e)}function Oa(t){let e=t.r;return t.r=e.l,e.l=t,t.h=Math.max(kt(t.l),kt(t.r))+1,e.h=Math.max(kt(e.l),kt(e.r))+1,e}function Ra(t){let e=t.l;return t.l=e.r,e.r=t,t.h=Math.max(kt(t.l),kt(t.r))+1,e.h=Math.max(kt(e.l),kt(e.r))+1,e}function Ku(t,e,n){let o=[];function r(i){i!==null&&(e<i.k&&r(i.l),i.k>=e&&i.k<=n&&me(o,i.v),n>i.k&&r(i.r))}return r(t.root),o}function Ma(t,e,n=!1){let o=[];if(t===null)return o;let r=[t.root];for(;r.length>0;){let i=r.pop();i&&(n&&i.k>=e&&me(o,i.v),!n&&i.k>e&&me(o,i.v),r.push(i.r),r.push(i.l))}return o}function ka(t,e,n=!1){let o=[];if(t===null)return o;let r=[t.root];for(;r.length>0;){let i=r.pop();i&&(n&&i.k<=e&&me(o,i.v),!n&&i.k<e&&me(o,i.v),r.push(i.r),r.push(i.l))}return o}function qu(t,e){for(;t!==null;)if(e<t.k)t=t.l;else if(e>t.k)t=t.r;else return t;return null}function ju(t,e){return{root:{k:t,v:e,l:null,r:null,h:0}}}function $u(t,e,n){function o(r,i,s){if(r===null)return{k:i,v:s,l:null,r:null,h:0};if(i<r.k)r.l=o(r.l,i,s);else if(i>r.k)r.r=o(r.r,i,s);else{for(let c of s)r.v.push(c);return r}r.h=1+Math.max(kt(r.l),kt(r.r));let a=kt(r.l)-kt(r.r);return a>1&&i<r.l.k?Ra(r):a<-1&&i>r.r.k?Oa(r):a>1&&i>r.l.k?(r.l=Oa(r.l),Ra(r)):a<-1&&i<r.r.k?(r.r=Ra(r.r),Oa(r)):r}t.root=o(t.root,e,n)}function kt(t){return t!==null?t.h:-1}function Gu(t,e){let n=qu(t.root,e);return n===null?null:n.v}function Qy(t,e){if(t===null||t.root===null)return;let n=t.root,o=null;for(;n!=null&&n.k!==e;)o=n,e<n.k?n=n.l:n=n.r;if(n===null)return;(()=>{if(n.l===null&&n.r===null)o===null?t.root=null:o.l===n?o.l=null:o.r=null;else if(n.l!=null&&n.r!=null){let i=n.r,s=n;for(;i.l!=null;)s=i,i=i.l;n.k=i.k,s===n?s.r=i.r:s.l=i.r}else{let i=n.l!=null?n.l:n.r;o===null?t.root=i:o.l===n?o.l=i:o.r=i}})()}function Yu(t,e,n){let o=qu(t.root,n);if(o){if(o.v.length===1){Qy(t,n);return}o.v.splice(o.v.indexOf(e),1)}}function Qu(){return{numberToDocumentId:new Map}}function Ju(t,e,n){return t.numberToDocumentId.has(e)?(t.numberToDocumentId.get(e).push(n),t):(t.numberToDocumentId.set(e,[n]),t)}function Xu(t,e,n){var o,r;t?.numberToDocumentId.set(n,((o=t?.numberToDocumentId.get(n))===null||o===void 0?void 0:o.filter(i=>i!==e))??[]),((r=t?.numberToDocumentId.get(n))===null||r===void 0?void 0:r.length)===0&&t?.numberToDocumentId.delete(n)}function Zu(t,e){let n=Object.keys(e);if(n.length!==1)throw new Error("Invalid operation");let o=n[0];switch(o){case"eq":{let r=e[o];return t.numberToDocumentId.get(r)??[]}case"in":{let r=e[o],i=[];for(let s of r){let a=t.numberToDocumentId.get(s);a!=null&&me(i,a)}return i}case"nin":{let r=e[o],i=[],s=t.numberToDocumentId.keys();for(let a of s){if(r.includes(a))continue;let c=t.numberToDocumentId.get(a);c!=null&&me(i,c)}return i}}throw new Error("Invalid operation")}function ep(t,e){let n=Object.keys(e);if(n.length!==1)throw new Error("Invalid operation");let o=n[0];switch(o){case"containsAll":{let i=e[o].map(s=>t.numberToDocumentId.get(s)??[]);return Uo(i)}}throw new Error("Invalid operation")}function tp(t,e,n){if(t===e)return 0;let o=t;t.length>e.length&&(t=e,e=o);let r=t.length,i=e.length,s=0;for(;s<r&&t.charCodeAt(s)===e.charCodeAt(s);)s++;if(s===r)return 0;for(;r>0&&t.charCodeAt(~-r)===e.charCodeAt(~-i);)r--,i--;if(!r)return i>n?-1:i;if(r-=s,i-=s,r<=n&&i<=n)return r>i?r:i;let a=i-r;if(n>i)n=i;else if(a>n)return-1;let c=0,l=[],d=[];for(;c<n;)d[c]=e.charCodeAt(s+c),l[c]=++c;for(;c<i;)d[c]=e.charCodeAt(s+c),l[c++]=n+1;let u=n-a,p=n<i,m=0,f=n,g=0,C=0,h=0,v=0,x=0;for(c=0;c<r;c++){for(C=c,g=c+1,v=t.charCodeAt(s+c),m+=c>u?1:0,f+=f<i?1:0,x=m;x<f;x++)h=g,g=C,C=l[x],v!==d[x]&&(C<g&&(g=C),h<g&&(g=h),g++),l[x]=g;if(p&&l[c+a]>n)return-1}return g<=n?g:-1}async function Ua(t,e,n){let o=tp(t,e,n);return{distance:o,isBounded:o>=0}}function Fa(t,e,n){let o=tp(t,e,n);return{distance:o,isBounded:o>=0}}var La=class{constructor(e,n,o){this.k=e,this.s=n,this.e=o}c={};d=[];w="";toJSON(){return{w:this.w,s:this.s,c:this.c,d:this.d,e:this.e}}};function Vo(t,e){t.w=e.w+t.s}function Oi(t,e){t.d.push(e)}function Jy(t,e){let n=t.d.indexOf(e);return n===-1?!1:(t.d.splice(n,1),!0)}function Ba(t,e,n,o,r){if(t.e){let{w:i,d:s}=t;if(o&&i!==n)return{};if(ko(e,i)==null&&(r?Math.abs(n.length-i.length)<=r&&Fa(n,i,r).isBounded&&(e[i]=[]):e[i]=[]),ko(e,i)!=null&&s.length>0){let a=new Set(e[i]),c=s.length;for(let l=0;l<c;l++)a.add(s[l]);e[i]=Array.from(a)}}for(let i of Object.keys(t.c))Ba(t.c[i],e,n,o,r);return e}function np(t,e){let n="",o=Math.min(t.length,e.length);for(let r=0;r<o;r++){if(t[r]!==e[r])return n;n+=t[r]}return n}function so(t=!1,e="",n=""){return new La(n,e,t)}function op(t,e,n){let o=e.length;for(let r=0;r<o;r++){let i=e[r],s=e.substring(r),a=t.c[i];if(a){let c=a.s,l=c.length,d=np(c,s),u=d.length;if(c===s){Oi(a,n),a.e=!0;return}let p=c[u];if(u<l&&u===s.length){let m=so(!0,s,i);m.c[p]=a;let f=m.c[p];f.s=c.substring(u),f.k=p,t.c[i]=m,Vo(m,t),Vo(f,m),Oi(m,n);return}if(u<l&&u<s.length){let m=so(!1,d,i);m.c[p]=a,t.c[i]=m;let f=m.c[p];f.s=c.substring(u),f.k=p;let g=s[u],C=so(!0,e.substring(r+u),g);Oi(C,n),m.c[g]=C,Vo(m,t),Vo(C,m),Vo(f,m);return}r+=l-1,t=a}else{let c=so(!0,s,i);Oi(c,n),t.c[i]=c,Vo(c,t);return}}}function xr(t,e,n,o,r,i){if(!(o<0)){if(t.w.startsWith(e)){Ba(t,i,e,!1,0);return}if(t.e){let{w:s,d:a}=t;if(s&&(Fa(e,s,r).isBounded&&(i[s]=[]),ko(i,s)!=null&&a.length>0)){let c=new Set(i[s]),l=a.length;for(let d=0;d<l;d++)c.add(a[d]);i[s]=Array.from(c)}}if(!(n>=e.length)){e[n]in t.c&&xr(t.c[e[n]],e,n+1,o,r,i),xr(t,e,n+1,o-1,r,i);for(let s in t.c)xr(t.c[s],e,n,o-1,r,i);for(let s in t.c)s!==e[n]&&xr(t.c[s],e,n+1,o-1,r,i)}}}function za(t,{term:e,exact:n,tolerance:o}){if(o&&!n){let r={};return o=o||0,xr(t,e,0,o||0,o,r),r}else{let r=e.length;for(let s=0;s<r;s++){let a=e[s];if(a in t.c){let c=t.c[a],l=c.s,d=e.substring(s),p=np(l,d).length;if(p!==l.length&&p!==d.length){if(o)break;return{}}s+=c.s.length-1,t=c}else return{}}let i={};return Ba(t,i,e,n,o),i}}function rp(t,e,n,o=!0){if(!e)return!0;let r=e.length;for(let i=0;i<r;i++){let s=e[i];if(s in t.c){let a=t.c[s];i+=a.s.length-1,t=a,o&&t.w!==e||Jy(t,n)}else return!1}return!0}function ip(){return{root:null}}function sp(t,e,n){let o={point:e,docIDs:n};if(t.root==null){t.root=o;return}let r=t.root,i=0;for(;r!==null;){if(r.point.lon===e.lon&&r.point.lat===e.lat){let a=r.docIDs??[];r.docIDs=Array.from(new Set([...a,...n||[]]));return}if(i%2===0)if(e.lon<r.point.lon){if(r.left==null){r.left=o;return}r=r.left}else{if(r.right==null){r.right=o;return}r=r.right}else if(e.lat<r.point.lat){if(r.left==null){r.left=o;return}r=r.left}else{if(r.right==null){r.right=o;return}r=r.right}i++}}function ap(t,e,n){let o=t.root,r=0,i=null,s=null;for(;o!==null;){if(o?.point.lon===e.lon&&o.point.lat===e.lat){var a;let d=(a=o.docIDs)===null||a===void 0?void 0:a.indexOf(n);if(d!==void 0&&d>-1){var c;(c=o.docIDs)===null||c===void 0||c.splice(d,1),(o.docIDs==null||o.docIDs.length===0)&&(i!=null?s==="left"?i.left=o.left!==null?o.left:o.right:s==="right"&&(i.right=o.right!==null?o.right:o.left):t.root=o.left!==null?o.left:o.right);return}}let l=r%2;i=o,l===0?e.lon<o.point.lon?(o=o?.left,s="left"):(o=o?.right,s="right"):e.lat<o.point.lat?(o=o?.left,s="left"):(o=o?.right,s="right"),r++}}function cp(t,e,n,o=!0,r="asc",i=!1){let s=i?up:dp,a=[{node:t,depth:0}],c=[];for(;a.length>0;){let{node:l,depth:d}=a.pop();if(l===null)continue;let u=s(e,l.point);(o?u<=n:u>n)&&c.push({point:l.point,docIDs:l.docIDs??[]}),l.left!=null&&a.push({node:l.left,depth:d+1}),l.right!=null&&a.push({node:l.right,depth:d+1})}return r&&c.sort((l,d)=>{let u=s(e,l.point),p=s(e,d.point);return r.toLowerCase()==="asc"?u-p:p-u}),c}function lp(t,e,n=!0,o=null,r=!1){let i=[{node:t,depth:0}],s=[];for(;i.length>0;){let c=i.pop();if(c==null||c.node==null)continue;let{node:l,depth:d}=c,u=d+1;l.left!=null&&i.push({node:l.left,depth:u}),l.right!=null&&i.push({node:l.right,depth:u});let p=Zy(e,l.point);p&&n?s.push({point:l.point,docIDs:l.docIDs??[]}):!p&&!n&&s.push({point:l.point,docIDs:l.docIDs??[]})}let a=Xy(e);if(o){let c=r?up:dp;s.sort((l,d)=>{let u=c(a,l.point),p=c(a,d.point);return o.toLowerCase()==="asc"?u-p:p-u})}return s}function Xy(t){let e=0,n=0,o=0,r=t.length;for(let s=0,a=r-1;s<r;a=s++){let c=t[s].lon,l=t[s].lat,d=t[a].lon,u=t[a].lat,p=c*u-d*l;e+=p,n+=(c+d)*p,o+=(l+u)*p}e/=2;let i=6*e;return n/=i,o/=i,{lon:n,lat:o}}function Zy(t,e){let n=!1,o=e.lon,r=e.lat,i=t.length;for(let s=0,a=i-1;s<i;a=s++){let c=t[s].lon,l=t[s].lat,d=t[a].lon,u=t[a].lat;l>r!=u>r&&o<(d-c)*(r-l)/(u-l)+c&&(n=!n)}return n}function dp(t,e){let n=Math.PI/180,o=t.lat*n,r=e.lat*n,i=(e.lat-t.lat)*n,s=(e.lon-t.lon)*n,a=Math.sin(i/2)*Math.sin(i/2)+Math.cos(o)*Math.cos(r)*Math.sin(s/2)*Math.sin(s/2);return 6371e3*(2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a)))}function up(t,e){let o=.0033528106647474805,r=(1-o)*6378137,i=Math.PI/180,s=t.lat*i,a=e.lat*i,c=(e.lon-t.lon)*i,l=Math.atan((1-o)*Math.tan(s)),d=Math.atan((1-o)*Math.tan(a)),u=Math.sin(l),p=Math.cos(l),m=Math.sin(d),f=Math.cos(d),g=c,C,h=1e3,v,x,P,k,O;do{let re=Math.sin(g),ne=Math.cos(g);P=Math.sqrt(f*re*(f*re)+(p*m-u*f*ne)*(p*m-u*f*ne)),k=u*m+p*f*ne,O=Math.atan2(P,k),v=p*f*re/P,x=1-v*v;let $e=k-2*u*m/x,ht=o/16*x*(4+o*(4-3*x));C=g,g=c+(1-ht)*o*v*(O+ht*P*($e+ht*k*(-1+2*$e*$e)))}while(Math.abs(g-C)>1e-12&&--h>0);let w=x*(6378137*6378137-r*r)/(r*r),L=1+w/16384*(4096+w*(-768+w*(320-175*w))),q=w/1024*(256+w*(-128+w*(74-47*w))),Y=q*P*(k-2*u*m/x+q/4*(k*(-1+2*P*P)-q/6*O*(-3+4*P*P)*(-3+4*O*O)));return r*L*(O-Y)}function Ri(t,e,n=1,o){if(e===0)throw z("INVALID_BOOST_VALUE");let r=new Map,i=t.length;for(let h=0;h<i;h++){let v=t[h],x=v.length;for(let P=0;P<x;P++){var s;let[k,O]=v[P],w=O*e,L=(s=r.get(k))===null||s===void 0?void 0:s[0];if(L!==void 0){var a;r.set(k,[L*1.5+w,(((a=r?.get(k))===null||a===void 0?void 0:a[1])||0)+1])}else r.set(k,[w,1])}}let c=[];for(let h of r.entries())c.push([h[0],h[1][0]]);let l=c.sort((h,v)=>v[1]-h[1]);if(n===1)return l;let d=l.length,u=[];for(let h of r.entries())u.push([h[0],h[1][0],h[1][1]]);let p=u.sort((h,v)=>h[2]>v[2]?-1:h[2]<v[2]?1:h[1]>v[1]?-1:h[1]<v[1]?1:0),m;for(let h=0;h<d&&p[h][2]===o;h++)m=h;if(typeof m>"u"){if(n===0)return[];m=0}let f=p.length,g=new Array(f);for(let h=0;h<f;h++)g[h]=[p[h][0],p[h][1]];if(n===0)return g.slice(0,m+1);let C=m+Math.ceil(n*100*(d-m)/100);return g.slice(0,d+C)}function pp(t,e,n,o,r,{k:i,b:s,d:a}){return Math.log(1+(n-e+.5)/(e+.5))*(a+t*(i+1))/(t+i*(1-s+s*o/r))}function Va(t,e){let n=0;for(let o=0;o<e;o++)n+=t[o]*t[o];return Math.sqrt(n)}function Mi(t,e,n,o=.8){let r=Va(t,n),i=[];for(let[s,[a,c]]of Object.entries(e)){let l=0;for(let u=0;u<n;u++)l+=t[u]*c[u];let d=l/(r*a);d>=o&&i.push([s,d])}return i.sort((s,a)=>a[1]-s[1])}async function eC(t,e,n,o,r){let i=be(t.sharedInternalDocumentStore,n);t.avgFieldLength[e]=((t.avgFieldLength[e]??0)*(r-1)+o.length)/r,t.fieldLengths[e][i]=o.length,t.frequencies[e][i]={}}async function tC(t,e,n,o,r){let i=0;for(let c of o)c===r&&i++;let s=be(t.sharedInternalDocumentStore,n),a=i/o.length;t.frequencies[e][s][r]=a,r in t.tokenOccurrences[e]||(t.tokenOccurrences[e][r]=0),t.tokenOccurrences[e][r]=(t.tokenOccurrences[e][r]??0)+1}async function nC(t,e,n,o){let r=be(t.sharedInternalDocumentStore,n);t.avgFieldLength[e]=(t.avgFieldLength[e]*o-t.fieldLengths[e][r])/(o-1),t.fieldLengths[e][r]=void 0,t.frequencies[e][r]=void 0}async function oC(t,e,n){t.tokenOccurrences[e][n]--}async function rC(t,e,n,o,r){let i=Array.from(r),s=e.avgFieldLength[n],a=e.fieldLengths[n],c=e.tokenOccurrences[n],l=e.frequencies[n],d=typeof c[o]=="number"?c[o]??0:0,u=[],p=i.length;for(let f=0;f<p;f++){var m;let g=be(e.sharedInternalDocumentStore,i[f]),C=(l==null||(m=l[g])===null||m===void 0?void 0:m[o])??0,h=pp(C,d,t.docsCount,a[g],s,t.params.relevance);u.push([g,h])}return u}async function fp(t,e,n,o,r=""){o||(o={sharedInternalDocumentStore:e,indexes:{},vectorIndexes:{},searchableProperties:[],searchablePropertiesWithTypes:{},frequencies:{},tokenOccurrences:{},avgFieldLength:{},fieldLengths:{}});for(let[i,s]of Object.entries(n)){let a=`${r}${r?".":""}${i}`;if(typeof s=="object"&&!Array.isArray(s)){fp(t,e,s,o,a);continue}if(wn(s))o.searchableProperties.push(a),o.searchablePropertiesWithTypes[a]=s,o.vectorIndexes[a]={size:Pa(s),vectors:{}};else{let c=/\[/.test(s);switch(s){case"boolean":case"boolean[]":o.indexes[a]={type:"Bool",node:{true:[],false:[]},isArray:c};break;case"number":case"number[]":o.indexes[a]={type:"AVL",node:ju(0,[]),isArray:c};break;case"string":case"string[]":o.indexes[a]={type:"Radix",node:so(),isArray:c},o.avgFieldLength[a]=0,o.frequencies[a]={},o.tokenOccurrences[a]={},o.fieldLengths[a]={};break;case"enum":case"enum[]":o.indexes[a]={type:"Flat",node:Qu(),isArray:c};break;case"geopoint":o.indexes[a]={type:"BKD",node:ip(),isArray:c};break;default:throw z("INVALID_SCHEMA_TYPE",Array.isArray(s)?"array":s,a)}o.searchableProperties.push(a),o.searchablePropertiesWithTypes[a]=s}}return o}function iC(t,e,n,o,r,i,s){return async a=>{let c=be(e.sharedInternalDocumentStore,o),{type:l,node:d}=e.indexes[n];switch(l){case"Bool":{d[a?"true":"false"].push(c);break}case"AVL":{$u(d,a,[c]);break}case"Radix":{let u=await i.tokenize(a,r,n);await t.insertDocumentScoreParameters(e,n,c,u,s);for(let p of u)await t.insertTokenScoreParameters(e,n,c,u,p),op(d,p,c);break}case"Flat":{Ju(d,a,c);break}case"BKD":{sp(d,a,[c]);break}}}}async function sC(t,e,n,o,r,i,s,a,c){if(wn(i))return aC(e,n,r,o);let l=iC(t,e,n,o,s,a,c);if(!Lo(i))return l(r);let d=r,u=d.length;for(let p=0;p<u;p++)await l(d[p])}function aC(t,e,n,o){n instanceof Float32Array||(n=new Float32Array(n));let r=t.vectorIndexes[e].size,i=Va(n,r);t.vectorIndexes[e].vectors[o]=[i,n]}async function mp(t,e,n,o,r,i,s,a,c){let l=be(e.sharedInternalDocumentStore,o);if(wn(i))return delete e.vectorIndexes[n].vectors[o],!0;let{type:d,node:u}=e.indexes[n];switch(d){case"AVL":return Yu(u,l,r),!0;case"Bool":{let m=u[r?"true":"false"].indexOf(l);return u[r?"true":"false"].splice(m,1),!0}case"Radix":{let p=await a.tokenize(r,s,n);await t.removeDocumentScoreParameters(e,n,o,c);for(let m of p)await t.removeTokenScoreParameters(e,n,m),rp(u,m,l);return!0}case"Flat":return Xu(u,l,r),!0;case"BKD":return ap(u,r,l),!1}}async function cC(t,e,n,o,r,i,s,a,c){if(!Lo(i))return mp(t,e,n,o,r,i,s,a,c);let l=Ta(i),d=r,u=d.length;for(let p=0;p<u;p++)await mp(t,e,n,o,d[p],l,s,a,c);return!0}async function lC(t,e,n,o){if(!(n in e.tokenOccurrences))return[];let{node:r,type:i}=e.indexes[n];if(i!=="Radix")throw z("WRONG_SEARCH_PROPERTY_TYPE",n);let{exact:s,tolerance:a}=t.params,c=za(r,{term:o,exact:s,tolerance:a}),l=new Set;for(let d in c)if(ko(c,d))for(let p of c[d])l.add(p);return t.index.calculateResultScores(t,e,n,o,Array.from(l))}async function dC(t,e,n){let o=Object.keys(n),r=o.reduce((s,a)=>y({[a]:[]},s),{});for(let s of o){let a=n[s];if(typeof e.indexes[s]>"u")throw z("UNKNOWN_FILTER_PROPERTY",s);let{node:c,type:l,isArray:d}=e.indexes[s];if(l==="Bool"){let m=c[a.toString()];me(r[s],m);continue}if(l==="BKD"){let p;if("radius"in a)p="radius";else if("polygon"in a)p="polygon";else throw new Error(`Invalid operation ${a}`);if(p==="radius"){let{value:m,coordinates:f,unit:g="m",inside:C=!0,highPrecision:h=!1}=a[p],v=Mu(m,g),x=cp(c.root,f,v,C,void 0,h);me(r[s],x.map(({docIDs:P})=>P).flat())}else{let{coordinates:m,inside:f=!0,highPrecision:g=!1}=a[p],C=lp(c.root,m,f,void 0,g);me(r[s],C.map(({docIDs:h})=>h).flat())}continue}if(l==="Radix"&&(typeof a=="string"||Array.isArray(a))){for(let p of[a].flat()){let m=await t.tokenizer.tokenize(p,t.language,s);for(let f of m){let g=za(c,{term:f,exact:!0});me(r[s],Object.values(g).flat())}}continue}let u=Object.keys(a);if(u.length>1)throw z("INVALID_FILTER_OPERATION",u.length);if(l==="Flat"){d?me(r[s],ep(c,a)):me(r[s],Zu(c,a));continue}if(l==="AVL"){let p=u[0],m=a[p],f=[];switch(p){case"gt":{f=Ma(c,m,!1);break}case"gte":{f=Ma(c,m,!0);break}case"lt":{f=ka(c,m,!1);break}case"lte":{f=ka(c,m,!0);break}case"eq":{f=Gu(c,m)??[];break}case"between":{let[g,C]=m;f=Ku(c,g,C);break}}me(r[s],f)}}return Uo(Object.values(r))}async function uC(t){return t.searchableProperties}async function pC(t){return t.searchablePropertiesWithTypes}function gp(t){let e=so(t.e,t.s,t.k);e.d=t.d,e.w=t.w;for(let n of Object.keys(t.c))e.c[n]=gp(t.c[n]);return e}function mC(t){return{numberToDocumentId:new Map(t)}}function fC(t){return Array.from(t.numberToDocumentId.entries())}async function gC(t,e){let{indexes:n,vectorIndexes:o,searchableProperties:r,searchablePropertiesWithTypes:i,frequencies:s,tokenOccurrences:a,avgFieldLength:c,fieldLengths:l}=e,d={},u={};for(let p of Object.keys(n)){let{node:m,type:f,isArray:g}=n[p];switch(f){case"Radix":d[p]={type:"Radix",node:gp(m),isArray:g};break;case"Flat":d[p]={type:"Flat",node:mC(m),isArray:g};break;default:d[p]=n[p]}}for(let p of Object.keys(o)){let m=o[p].vectors;for(let f in m)m[f]=[m[f][0],new Float32Array(m[f][1])];u[p]={size:o[p].size,vectors:m}}return{sharedInternalDocumentStore:t,indexes:d,vectorIndexes:u,searchableProperties:r,searchablePropertiesWithTypes:i,frequencies:s,tokenOccurrences:a,avgFieldLength:c,fieldLengths:l}}async function hC(t){let{indexes:e,vectorIndexes:n,searchableProperties:o,searchablePropertiesWithTypes:r,frequencies:i,tokenOccurrences:s,avgFieldLength:a,fieldLengths:c}=t,l={};for(let u of Object.keys(n)){let p=n[u].vectors;for(let m in p)p[m]=[p[m][0],Array.from(p[m][1])];l[u]={size:n[u].size,vectors:p}}let d={};for(let u of Object.keys(e)){let{type:p,node:m,isArray:f}=e[u];if(p!=="Flat"){d[u]=e[u];continue}d[u]={type:"Flat",node:fC(m),isArray:f}}return{indexes:d,vectorIndexes:l,searchableProperties:o,searchablePropertiesWithTypes:r,frequencies:i,tokenOccurrences:s,avgFieldLength:a,fieldLengths:c}}async function hp(){return{create:fp,insert:sC,remove:cC,insertDocumentScoreParameters:eC,insertTokenScoreParameters:tC,removeDocumentScoreParameters:nC,removeTokenScoreParameters:oC,calculateResultScores:rC,search:lC,searchByWhereClause:dC,getSearchableProperties:uC,getSearchablePropertiesWithTypes:pC,load:gC,save:hC}}function yp(t,e,n,o,r){let i={language:t.tokenizer.language,sharedInternalDocumentStore:e,enabled:!0,isSorted:!0,sortableProperties:[],sortablePropertiesWithTypes:{},sorts:{}};for(let[s,a]of Object.entries(n)){let c=`${r}${r?".":""}${s}`;if(!o.includes(c)){if(typeof a=="object"&&!Array.isArray(a)){let l=yp(t,e,a,o,c);me(i.sortableProperties,l.sortableProperties),i.sorts=y(y({},i.sorts),l.sorts),i.sortablePropertiesWithTypes=y(y({},i.sortablePropertiesWithTypes),l.sortablePropertiesWithTypes);continue}if(!wn(a))switch(a){case"boolean":case"number":case"string":i.sortableProperties.push(c),i.sortablePropertiesWithTypes[c]=a,i.sorts[c]={docs:new Map,orderedDocsToRemove:new Map,orderedDocs:[],type:a};break;case"geopoint":case"enum":continue;case"enum[]":case"boolean[]":case"number[]":case"string[]":continue;default:throw z("INVALID_SORT_SCHEMA_TYPE",Array.isArray(a)?"array":a,c)}}}return i}async function yC(t,e,n,o){return o?.enabled!==!1?yp(t,e,n,(o||{}).unsortableProperties||[],""):{disabled:!0}}async function CC(t,e,n,o){if(!t.enabled)return;t.isSorted=!1;let r=be(t.sharedInternalDocumentStore,n),i=t.sorts[e];i.orderedDocsToRemove.has(r)&&Ha(t,e),i.docs.set(r,i.orderedDocs.length),i.orderedDocs.push([r,o])}function Cp(t){if(t.isSorted||!t.enabled)return;let e=Object.keys(t.sorts);for(let n of e)EC(t,n);t.isSorted=!0}function vC(t,e,n){return e[1].localeCompare(n[1],Tu(t))}function SC(t,e){return t[1]-e[1]}function _C(t,e){return e[1]?-1:1}function EC(t,e){let n=t.sorts[e],o;switch(n.type){case"string":o=vC.bind(null,t.language);break;case"number":o=SC.bind(null);break;case"boolean":o=_C.bind(null);break}n.orderedDocs.sort(o);let r=n.orderedDocs.length;for(let i=0;i<r;i++){let s=n.orderedDocs[i][0];n.docs.set(s,i)}}function IC(t){let e=Object.keys(t.sorts);for(let n of e)Ha(t,n)}function Ha(t,e){let n=t.sorts[e];n.orderedDocsToRemove.size&&(n.orderedDocs=n.orderedDocs.filter(o=>!n.orderedDocsToRemove.has(o[0])),n.orderedDocsToRemove.clear())}async function bC(t,e,n){if(!t.enabled)return;let o=t.sorts[e],r=be(t.sharedInternalDocumentStore,n);o.docs.get(r)&&(o.docs.delete(r),o.orderedDocsToRemove.set(r,!0))}async function xC(t,e,n){if(!t.enabled)throw z("SORT_DISABLED");let o=n.property,r=n.order==="DESC",i=t.sorts[o];if(!i)throw z("UNABLE_TO_SORT_ON_UNKNOWN_FIELD",o,t.sortableProperties.join(", "));return Ha(t,o),Cp(t),e.sort((s,a)=>{let c=i.docs.get(be(t.sharedInternalDocumentStore,s[0])),l=i.docs.get(be(t.sharedInternalDocumentStore,a[0])),d=typeof c<"u",u=typeof l<"u";return!d&&!u?0:d?u?r?l-c:c-l:-1:1}),e}async function wC(t){return t.enabled?t.sortableProperties:[]}async function TC(t){return t.enabled?t.sortablePropertiesWithTypes:{}}async function PC(t,e){let n=e;if(!n.enabled)return{enabled:!1};let o=Object.keys(n.sorts).reduce((r,i)=>{let{docs:s,orderedDocs:a,type:c}=n.sorts[i];return r[i]={docs:new Map(Object.entries(s).map(([l,d])=>[+l,d])),orderedDocsToRemove:new Map,orderedDocs:a,type:c},r},{});return{sharedInternalDocumentStore:t,language:n.language,sortableProperties:n.sortableProperties,sortablePropertiesWithTypes:n.sortablePropertiesWithTypes,sorts:o,enabled:!0,isSorted:n.isSorted}}async function AC(t){if(!t.enabled)return{enabled:!1};IC(t),Cp(t);let e=Object.keys(t.sorts).reduce((n,o)=>{let{docs:r,orderedDocs:i,type:s}=t.sorts[o];return n[o]={docs:Object.fromEntries(r.entries()),orderedDocs:i,type:s},n},{});return{language:t.language,sortableProperties:t.sortableProperties,sortablePropertiesWithTypes:t.sortablePropertiesWithTypes,sorts:e,enabled:t.enabled,isSorted:t.isSorted}}async function vp(){return{create:yC,insert:CC,remove:bC,save:AC,load:PC,sortBy:xC,getSortableProperties:wC,getSortablePropertiesWithTypes:TC}}var DC=[65,65,65,65,65,65,65,67,69,69,69,69,73,73,73,73,69,78,79,79,79,79,79,null,79,85,85,85,85,89,80,115,97,97,97,97,97,97,97,99,101,101,101,101,105,105,105,105,101,110,111,111,111,111,111,null,111,117,117,117,117,121,112,121,65,97,65,97,65,97,67,99,67,99,67,99,67,99,68,100,68,100,69,101,69,101,69,101,69,101,69,101,71,103,71,103,71,103,71,103,72,104,72,104,73,105,73,105,73,105,73,105,73,105,73,105,74,106,75,107,107,76,108,76,108,76,108,76,108,76,108,78,110,78,110,78,110,110,78,110,79,111,79,111,79,111,79,111,82,114,82,114,82,114,83,115,83,115,83,115,83,115,84,116,84,116,84,116,85,117,85,117,85,117,85,117,85,117,85,117,87,119,89,121,89,90,122,90,122,90,122,115];function NC(t){return t<192||t>383?t:DC[t-192]||t}function Sp(t){let e=[];for(let n=0;n<t.length;n++)e[n]=NC(t.charCodeAt(n));return String.fromCharCode(...e)}var OC={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},RC={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""},MC="[^aeiou]",Ui="[aeiouy]",un=MC+"[^aeiouy]*",wr=Ui+"[aeiou]*",Wa="^("+un+")?"+wr+un,kC="^("+un+")?"+wr+un+"("+wr+")?$",ki="^("+un+")?"+wr+un+wr+un,_p="^("+un+")?"+Ui;function Ep(t){let e,n,o,r,i,s;if(t.length<3)return t;let a=t.substring(0,1);if(a=="y"&&(t=a.toUpperCase()+t.substring(1)),o=/^(.+?)(ss|i)es$/,r=/^(.+?)([^s])s$/,o.test(t)?t=t.replace(o,"$1$2"):r.test(t)&&(t=t.replace(r,"$1$2")),o=/^(.+?)eed$/,r=/^(.+?)(ed|ing)$/,o.test(t)){let c=o.exec(t);o=new RegExp(Wa),o.test(c[1])&&(o=/.$/,t=t.replace(o,""))}else r.test(t)&&(e=r.exec(t)[1],r=new RegExp(_p),r.test(e)&&(t=e,r=/(at|bl|iz)$/,i=new RegExp("([^aeiouylsz])\\1$"),s=new RegExp("^"+un+Ui+"[^aeiouwxy]$"),r.test(t)?t=t+"e":i.test(t)?(o=/.$/,t=t.replace(o,"")):s.test(t)&&(t=t+"e")));if(o=/^(.+?)y$/,o.test(t)){let c=o.exec(t);e=c?.[1],o=new RegExp(_p),e&&o.test(e)&&(t=e+"i")}if(o=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/,o.test(t)){let c=o.exec(t);e=c?.[1],n=c?.[2],o=new RegExp(Wa),e&&o.test(e)&&(t=e+OC[n])}if(o=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,o.test(t)){let c=o.exec(t);e=c?.[1],n=c?.[2],o=new RegExp(Wa),e&&o.test(e)&&(t=e+RC[n])}if(o=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/,r=/^(.+?)(s|t)(ion)$/,o.test(t)){let c=o.exec(t);e=c?.[1],o=new RegExp(ki),e&&o.test(e)&&(t=e)}else if(r.test(t)){let c=r.exec(t);e=c?.[1]??""+c?.[2]??"",r=new RegExp(ki),r.test(e)&&(t=e)}if(o=/^(.+?)e$/,o.test(t)){let c=o.exec(t);e=c?.[1],o=new RegExp(ki),r=new RegExp(kC),i=new RegExp("^"+un+Ui+"[^aeiouwxy]$"),e&&(o.test(e)||r.test(e)&&!i.test(e))&&(t=e)}return o=/ll$/,r=new RegExp(ki),o.test(t)&&r.test(t)&&(o=/.$/,t=t.replace(o,"")),a=="y"&&(t=a.toLowerCase()+t.substring(1)),t}function Ip(t,e){var n;let o=`${this.language}:${t}:${e}`;return this.normalizationCache.has(o)?this.normalizationCache.get(o):!((n=this.stopWords)===null||n===void 0)&&n.includes(e)?(this.normalizationCache.set(o,""),""):(this.stemmer&&!this.stemmerSkipProperties.has(t)&&(e=this.stemmer(e)),e=Sp(e),this.normalizationCache.set(o,e),e)}function UC(t){for(;t[t.length-1]==="";)t.pop();for(;t[0]==="";)t.shift();return t}function bp(t,e,n){if(e&&e!==this.language)throw z("LANGUAGE_NOT_SUPPORTED",e);if(typeof t!="string")return[t];let o;if(n&&this.tokenizeSkipProperties.has(n))o=[this.normalizeToken.bind(this,n??"")(t)];else{let i=wu[this.language];o=t.toLowerCase().split(i).map(this.normalizeToken.bind(this,n??"")).filter(Boolean)}let r=UC(o);return this.allowDuplicates?r:Array.from(new Set(r))}async function Ka(t={}){if(!t.language)t.language="english";else if(!br.includes(t.language))throw z("LANGUAGE_NOT_SUPPORTED",t.language);let e;if(t.stemming||t.stemmer&&!("stemming"in t))if(t.stemmer){if(typeof t.stemmer!="function")throw z("INVALID_STEMMER_FUNCTION_TYPE");e=t.stemmer}else if(t.language==="english")e=Ep;else throw z("MISSING_STEMMER",t.language);let n;if(t.stopWords!==!1){if(n=[],Array.isArray(t.stopWords))n=t.stopWords;else if(typeof t.stopWords=="function")n=await t.stopWords(n);else if(t.stopWords)throw z("CUSTOM_STOP_WORDS_MUST_BE_FUNCTION_OR_ARRAY");if(!Array.isArray(n))throw z("CUSTOM_STOP_WORDS_MUST_BE_FUNCTION_OR_ARRAY");for(let r of n)if(typeof r!="string")throw z("CUSTOM_STOP_WORDS_MUST_BE_FUNCTION_OR_ARRAY")}let o={tokenize:bp,language:t.language,stemmer:e,stemmerSkipProperties:new Set(t.stemmerSkipProperties?[t.stemmerSkipProperties].flat():[]),tokenizeSkipProperties:new Set(t.tokenizeSkipProperties?[t.tokenizeSkipProperties].flat():[]),stopWords:n,allowDuplicates:!!t.allowDuplicates,normalizeToken:Ip,normalizationCache:new Map};return o.tokenize=bp.bind(o),o.normalizeToken=Ip,o}function FC(t){let e={formatElapsedTime:ku,getDocumentIndexId:Uu,getDocumentProperties:Di,validateSchema:wa};for(let n of Aa){let o=n;if(t[o]){if(typeof t[o]!="function")throw z("COMPONENT_MUST_BE_FUNCTION",o)}else t[o]=e[o]}for(let n of Object.keys(t))if(!Hu.includes(n)&&!Aa.includes(n))throw z("UNSUPPORTED_COMPONENT",n)}async function qa({schema:t,sort:e,language:n,components:o,id:r,plugins:i}){o||(o={}),r||(r=await Ai());let s=o.tokenizer,a=o.index,c=o.documentsStore,l=o.sorter;if(s?s.tokenize?s=s:s=await Ka(s):s=await Ka({language:n??"english"}),o.tokenizer&&n)throw z("NO_LANGUAGE_WITH_CUSTOM_TOKENIZER");let d=Lu();a||=await hp(),l||=await vp(),c||=await Bu(),FC(o);let{getDocumentProperties:u,getDocumentIndexId:p,validateSchema:m,formatElapsedTime:f}=o,g={data:{},caches:{},schema:t,tokenizer:s,index:a,sorter:l,documentsStore:c,internalDocumentIDStore:d,getDocumentProperties:u,getDocumentIndexId:p,validateSchema:m,beforeInsert:[],afterInsert:[],beforeRemove:[],afterRemove:[],beforeUpdate:[],afterUpdate:[],beforeSearch:[],afterSearch:[],beforeInsertMultiple:[],afterInsertMultiple:[],beforeRemoveMultiple:[],afterRemoveMultiple:[],afterUpdateMultiple:[],beforeUpdateMultiple:[],afterCreate:[],formatElapsedTime:f,id:r,plugins:i,version:LC()};g.data={index:await g.index.create(g,d,t),docs:await g.documentsStore.create(g,d),sorting:await g.sorter.create(g,d,t,e)};for(let h of zu)g[h]=(g[h]??[]).concat(await Vu(g,h));let C=g.afterCreate;return C&&await Wu(C,g),g}function LC(){return"2.0.17"}var Hn=Symbol("orama.insertions"),BC=Symbol("orama.removals");var ja,zC=((ja=globalThis.process)===null||ja===void 0?void 0:ja.emitWarning)??function(e,n){console.warn(`[WARNING] [${n.code}] ${e}`)};function xp(t){typeof t[Hn]!="number"&&(queueMicrotask(()=>{t[Hn]=void 0}),t[Hn]=0),t[Hn]>1e3?(zC("Orama's insert operation is synchronous. Please avoid inserting a large number of document in a single operation in order not to block the main thread or, in alternative, please use insertMultiple.",{code:"ORAMA0001"}),t[Hn]=-1):t[Hn]>=0&&t[Hn]++}async function wp(t,e,n,o){let r=await t.validateSchema(e,t.schema);if(r)throw z("SCHEMA_VALIDATION_FAILURE",r);return WC(t,e,n,o)}var VC=new Set(["enum","enum[]"]),HC=new Set(["string","number"]);async function WC(t,e,n,o){let{index:r,docs:i}=t.data,s=await t.getDocumentIndexId(e);if(typeof s!="string")throw z("DOCUMENT_ID_MUST_BE_STRING",typeof s);if(!await t.documentsStore.store(i,s,e))throw z("DOCUMENT_ALREADY_EXISTS",s);let a=await t.documentsStore.count(i);o||await Da(t.beforeInsert,t,s,e);let c=await t.index.getSearchableProperties(r),l=await t.index.getSearchablePropertiesWithTypes(r),d=await t.getDocumentProperties(e,c);for(let[v,x]of Object.entries(d)){if(typeof x>"u")continue;let P=typeof x,k=l[v];if(!(Fu(k)&&typeof x=="object"&&typeof x.lon=="number"&&typeof x.lat=="number")&&!(wn(k)&&Array.isArray(x))&&!(Lo(k)&&Array.isArray(x))&&!(VC.has(k)&&HC.has(P))&&P!==k)throw z("INVALID_DOCUMENT_PROPERTY",v,k,P)}for(let v of c){var u,p,m,f;let x=d[v];if(typeof x>"u")continue;let P=l[v];await((p=(u=t.index).beforeInsert)===null||p===void 0?void 0:p.call(u,t.data.index,v,s,x,P,n,t.tokenizer,a)),await t.index.insert(t.index,t.data.index,v,s,x,P,n,t.tokenizer,a),await((f=(m=t.index).afterInsert)===null||f===void 0?void 0:f.call(m,t.data.index,v,s,x,P,n,t.tokenizer,a))}let g=await t.sorter.getSortableProperties(t.data.sorting),C=await t.sorter.getSortablePropertiesWithTypes(t.data.sorting),h=await t.getDocumentProperties(e,g);for(let v of g){let x=h[v];if(typeof x>"u")continue;let P=C[v];await t.sorter.insert(t.data.sorting,v,s,x,P,n)}return o||await Da(t.afterInsert,t,s,e),xp(t),s}async function $a(t,e,n,o,r,i){r||await Na(t.beforeInsertMultiple,t,e);let s=e.length,a=t.schema;for(let c=0;c<s;c++){let l=await t.validateSchema(e[c],a);if(l)throw z("SCHEMA_VALIDATION_FAILURE",l)}return KC(t,e,n,o,r,i)}async function KC(t,e,n,o,r,i){n||(n=1e3),i??=0;let s=[];return await new Promise((a,c)=>{let l=0;async function d(){let u=e.slice(l*n,++l*n);if(!u.length)return a();for(let p of u)try{let m=await wp(t,p,o,r);s.push(m)}catch(m){c(m)}setTimeout(d,i)}setTimeout(d,i)}),r||await Na(t.afterInsertMultiple,t,e),s}var Ga="fulltext",Tp="hybrid",Pp="vector";function Ho(t,e){let n=new Map,o=[];for(let r of t)n.set(r,!0);for(let r of e){let[i]=r;n.has(i)&&(o.push(r),n.delete(i))}return o}function qC(t,e){return t[1]-e[1]}function jC(t,e){return e[1]-t[1]}function $C(t="desc"){return t.toLowerCase()==="asc"?qC:jC}async function Wo(t,e,n){let o={},r=e.map(([l])=>l),i=await t.documentsStore.getMultiple(t.data.docs,r),s=Object.keys(n),a=await t.index.getSearchablePropertiesWithTypes(t.data.index);for(let l of s){let d;if(a[l]==="number"){let{ranges:u}=n[l],p=u.length,m=Array.from({length:p});for(let f=0;f<p;f++){let g=u[f];m[f]=[`${g.from}-${g.to}`,0]}d=Object.fromEntries(m)}o[l]={count:0,values:d??{}}}let c=i.length;for(let l=0;l<c;l++){let d=i[l];for(let u of s){let p=u.includes(".")?await Fo(d,u):d[u],m=a[u],f=o[u].values;switch(m){case"number":{let g=n[u].ranges;Ap(g,f)(p);break}case"number[]":{let g=new Set,C=n[u].ranges,h=Ap(C,f,g);for(let v of p)h(v);break}case"boolean":case"enum":case"string":{Dp(f,m)(p);break}case"boolean[]":case"enum[]":case"string[]":{let h=Dp(f,m==="boolean[]"?"boolean":"string",new Set);for(let v of p)h(v);break}default:throw z("FACET_NOT_SUPPORTED",m)}}}for(let l of s){let d=o[l];if(d.count=Object.keys(d.values).length,a[l]==="string"){let u=n[l],p=$C(u.sort);d.values=Object.fromEntries(Object.entries(d.values).sort(p).slice(u.offset??0,u.limit??10))}}return o}function Ap(t,e,n){return o=>{for(let r of t){let i=`${r.from}-${r.to}`;n?.has(i)||o>=r.from&&o<=r.to&&(e[i]===void 0?e[i]=1:(e[i]++,n?.add(i)))}}}function Dp(t,e,n){let o=e==="boolean"?"false":"";return r=>{let i=r?.toString()??o;n?.has(i)||(t[i]=(t[i]??0)+1,n?.add(i))}}var GC={reducer:(t,e,n,o)=>(e[o]=n,e),getInitialValue:t=>Array.from({length:t})},Np=["string","number","boolean"];async function Ko(t,e,n){let o=n.properties,r=o.length,i=await t.index.getSearchablePropertiesWithTypes(t.data.index);for(let h=0;h<r;h++){let v=o[h];if(typeof i[v]>"u")throw z("UNKNOWN_GROUP_BY_PROPERTY",v);if(!Np.includes(i[v]))throw z("INVALID_GROUP_BY_PROPERTY",v,Np.join(", "),i[v])}let s=e.map(([h])=>io(t.internalDocumentIDStore,h)),a=await t.documentsStore.getMultiple(t.data.docs,s),c=a.length,l=n.maxResult||Number.MAX_SAFE_INTEGER,d=[],u={};for(let h=0;h<r;h++){let v=o[h],x={property:v,perValue:{}},P=new Set;for(let k=0;k<c;k++){let O=a[k],w=await Fo(O,v);if(typeof w>"u")continue;let L=typeof w!="boolean"?w:""+w,q=x.perValue[L]??{indexes:[],count:0};q.count>=l||(q.indexes.push(k),q.count++,x.perValue[L]=q,P.add(w))}d.push(Array.from(P)),u[v]=x}let p=Op(d),m=p.length,f=[];for(let h=0;h<m;h++){let v=p[h],x=v.length,P={values:[],indexes:[]},k=[];for(let O=0;O<x;O++){let w=v[O],L=o[O];k.push(u[L].perValue[typeof w!="boolean"?w:""+w].indexes),P.values.push(w)}P.indexes=Uo(k).sort((O,w)=>O-w),P.indexes.length!==0&&f.push(P)}let g=f.length,C=Array.from({length:g});for(let h=0;h<g;h++){let v=f[h],x=n.reduce||GC,P=v.indexes.map(L=>({id:s[L],score:e[L][1],document:a[L]})),k=x.reducer.bind(null,v.values),O=x.getInitialValue(v.indexes.length),w=P.reduce(k,O);C[h]={values:v.values,result:w}}return C}function Op(t,e=0){if(e+1===t.length)return t[e].map(i=>[i]);let n=t[e],o=Op(t,e+1),r=[];for(let i of n)for(let s of o){let a=[i];me(a,s),r.push(a)}return r}async function Rp(t,e,n){let o=await dn();t.beforeSearch&&await zo(t.beforeSearch,t,e,n),e.relevance=Object.assign(Fi,e.relevance??{});let r=Object.keys(t.data.index.vectorIndexes),i=e.facets&&Object.keys(e.facets).length>0,{limit:s=10,offset:a=0,term:c,properties:l,threshold:d=1,distinctOn:u,includeVectors:p=!1}=e,m=e.preflight===!0,{index:f,docs:g}=t.data,C=await t.tokenizer.tokenize(c??"",n),h=t.caches.propertiesToSearch;if(!h){let Y=await t.index.getSearchablePropertiesWithTypes(f);h=await t.index.getSearchableProperties(f),h=h.filter(we=>Y[we].startsWith("string")),t.caches.propertiesToSearch=h}if(l&&l!=="*"){for(let Y of l)if(!h.includes(Y))throw z("UNKNOWN_INDEX",Y,h.join(", "));h=h.filter(Y=>l.includes(Y))}let v=await ao(t.tokenizer,t.index,t.documentsStore,n,e,h,C,await t.documentsStore.count(g),o),x=Object.keys(e.where??{}).length>0,P=[];x&&(P=await t.index.searchByWhereClause(v,f,e.where));let k=C.length;if(k||l&&l.length>0){let Y=h.length;for(let we=0;we<Y;we++){var O;let re=h[we];if(k!==0)for(let M=0;M<k;M++){let B=C[M],Q=await t.index.search(v,f,re,B);me(v.indexMap[re][B],Q)}else{v.indexMap[re][""]=[];let M=await t.index.search(v,f,re,"");me(v.indexMap[re][""],M)}let ne=v.indexMap[re],$e=Object.values(ne);v.docsIntersection[re]=Ri($e,(e==null||(O=e.boost)===null||O===void 0?void 0:O[re])??1,d,k);let ht=v.docsIntersection[re],R=ht.length;for(let M=0;M<R;M++){let[B,Q]=ht[M],Ie=v.uniqueDocsIDs[B];Ie?v.uniqueDocsIDs[B]=Ie+Q+.5:v.uniqueDocsIDs[B]=Q}}}else C.length===0&&c?v.uniqueDocsIDs={}:v.uniqueDocsIDs=Object.fromEntries(Object.keys(await t.documentsStore.getAll(t.data.docs)).map(Y=>[Y,0]));let w=Object.entries(v.uniqueDocsIDs).map(([Y,we])=>[+Y,we]);if(x&&(w=Ho(P,w)),e.sortBy)if(typeof e.sortBy=="function"){let Y=w.map(([ne])=>ne),re=(await t.documentsStore.getMultiple(t.data.docs,Y)).map((ne,$e)=>[w[$e][0],w[$e][1],ne]);re.sort(e.sortBy),w=re.map(([ne,$e])=>[ne,$e])}else w=await t.sorter.sortBy(t.data.sorting,w,e.sortBy).then(Y=>Y.map(([we,re])=>[be(t.internalDocumentIDStore,we),re]));else w=w.sort(Ru);let L;m||(L=await(u?Mp(t,w,a,s,u):Li(t,w,a,s)));let q={elapsed:{formatted:"",raw:0},hits:[],count:w.length};if(typeof L<"u"&&(q.hits=L.filter(Boolean),p||Ni(q,r)),i){let Y=await Wo(t,w,e.facets);q.facets=Y}return e.groupBy&&(q.groups=await Ko(t,w,e.groupBy)),t.afterSearch&&await Bo(t.afterSearch,t,e,n,q),q.elapsed=await t.formatElapsedTime(await dn()-v.timeStart),q}async function kp(t,e,n="english"){let o=await dn();t.beforeSearch&&await zo(t.beforeSearch,t,e,n);let{vector:r}=e;if(r&&(!("value"in r)||!("property"in r)))throw z("INVALID_VECTOR_INPUT",Object.keys(r).join(", "));let{limit:i=10,offset:s=0,includeVectors:a=!1}=e,c=t.data.index.vectorIndexes[r.property],l=c.size,d=c.vectors,u=e.facets&&Object.keys(e.facets).length>0,p=Object.keys(e.where??{}).length>0,{index:m,docs:f}=t.data;if(r?.value.length!==l)throw z("INVALID_INPUT_VECTOR",r?.property,l,r?.value.length);r instanceof Float32Array||(r.value=new Float32Array(r.value));let g=Mi(r.value,d,l,e.similarity).map(([q,Y])=>[be(t.internalDocumentIDStore,q),Y]),C=t.caches.propertiesToSearch;if(!C){let q=await t.index.getSearchablePropertiesWithTypes(m);C=await t.index.getSearchableProperties(m),C=C.filter(Y=>q[Y].startsWith("string")),t.caches.propertiesToSearch=C}let h=[],v=await ao(t.tokenizer,t.index,t.documentsStore,n,e,C,h,await t.documentsStore.count(f),o),x=[];p&&(x=await t.index.searchByWhereClause(v,m,e.where),g=Ho(x,g));let P=[];u&&(P=await Wo(t,g,e.facets));let k=Array.from({length:i});for(let q=0;q<i;q++){let Y=g[q+s];if(!Y)break;let we=t.data.docs.docs[Y[0]];if(we){a||(we[r.property]=null);let re={id:io(t.internalDocumentIDStore,Y[0]),score:Y[1],document:we};k[q]=re}}let O=[];e.groupBy&&(O=await Ko(t,g,e.groupBy)),t.afterSearch&&await Bo(t.afterSearch,t,e,n,g);let L=await dn()-o;return y(y({count:g.length,hits:k.filter(Boolean),elapsed:{raw:Number(L),formatted:await Mo(L)}},P?{facets:P}:{}),O?{groups:O}:{})}async function Fp(t,e,n){let o=await dn();t.beforeSearch&&await zo(t.beforeSearch,t,e,n);let{offset:r=0,limit:i=10,includeVectors:s=!1}=e,a=e.facets&&Object.keys(e.facets).length>0,[c,l]=await Promise.all([YC(t,e,n),QC(t,e)]),{index:d,docs:u}=t.data,p=e.hybridWeights,m=XC(c,l,e.term??"",p),f=await t.tokenizer.tokenize(e.term??"",n),g=t.caches.propertiesToSearch;if(!g){let L=await t.index.getSearchablePropertiesWithTypes(d);g=await t.index.getSearchableProperties(d),g=g.filter(q=>L[q].startsWith("string")),t.caches.propertiesToSearch=g}if(e.properties&&e.properties!=="*"){for(let L of e.properties)if(!g.includes(L))throw z("UNKNOWN_INDEX",L,g.join(", "));g=g.filter(L=>e.properties.includes(L))}let C=await ao(t.tokenizer,t.index,t.documentsStore,n,e,g,f,await t.documentsStore.count(u),o),h=Object.keys(e.where??{}).length>0,v=[];h&&(v=await t.index.searchByWhereClause(C,d,e.where),m=Ho(v,m).slice(r,r+i));let x;a&&(x=await Wo(t,m,e.facets));let P;e.groupBy&&(P=await Ko(t,m,e.groupBy));let k=(await Li(t,m,r,i)).filter(Boolean);t.afterSearch&&await Bo(t.afterSearch,t,e,n,k);let O=await dn(),w=y(y({count:m.length,elapsed:{raw:Number(O-o),formatted:await Mo(O-o)},hits:k},x?{facets:x}:{}),P?{groups:P}:{});if(!s){let L=Object.keys(t.data.index.vectorIndexes);Ni(w,L)}return w}async function YC(t,e,n){let o=await dn();e.relevance=Object.assign(Fi,e.relevance??{});let{term:r="",properties:i,threshold:s=1}=e,{index:a,docs:c}=t.data,l=await t.tokenizer.tokenize(r,n),d=t.caches.propertiesToSearch;if(!d){let g=await t.index.getSearchablePropertiesWithTypes(a);d=await t.index.getSearchableProperties(a),d=d.filter(C=>g[C].startsWith("string")),t.caches.propertiesToSearch=d}if(i&&i!=="*"){let g=new Set(d),C=new Set(i);for(let h of i)if(!g.has(h))throw z("UNKNOWN_INDEX",h,d.join(", "));d=d.filter(h=>C.has(h))}let u=await ao(t.tokenizer,t.index,t.documentsStore,n,e,d,l,await t.documentsStore.count(c),o),p=l.length;if(p||i&&i.length>0){let g=d.length;for(let C=0;C<g;C++){var m;let h=d[C];if(p!==0)for(let O=0;O<p;O++){let w=l[O],L=await t.index.search(u,a,h,w);me(u.indexMap[h][w],L)}else{let O=[];u.indexMap[h][""]=O;let w=await t.index.search(u,a,h,"");me(O,w)}let v=u.indexMap[h],x=Object.values(v);u.docsIntersection[h]=Ri(x,(e==null||(m=e.boost)===null||m===void 0?void 0:m[h])??1,s,p);let P=u.docsIntersection[h],k=P.length;for(let O=0;O<k;O++){let[w,L]=P[O],q=u.uniqueDocsIDs[w];u.uniqueDocsIDs[w]=q?q+L+.5:L}}}else l.length===0&&r?u.uniqueDocsIDs={}:u.uniqueDocsIDs=Object.fromEntries(Object.keys(await t.documentsStore.getAll(t.data.docs)).map(g=>[g,0]));let f=Object.entries(u.uniqueDocsIDs).map(([g,C])=>[+g,C]).sort((g,C)=>C[1]-g[1]);return Lp(f)}async function QC(t,e){let n=e.vector,o=t.data.index.vectorIndexes[n?.property],r=o.size,i=o.vectors;if(n&&(!n.value||!n.property))throw z("INVALID_VECTOR_INPUT",Object.keys(n).join(", "));if(n.value.length!==r)throw z("INVALID_INPUT_VECTOR",n.property,r,n.value.length);n instanceof Float32Array||(n.value=new Float32Array(n.value));let s=Mi(n.value,i,r,e.similarity).map(([a,c])=>[be(t.internalDocumentIDStore,a),c]);return Lp(s)}function Ya([,t]){return t}function Lp(t){let e=Math.max.apply(Math,t.map(Ya));return t.map(([n,o])=>[n,o/e])}function Up(t,e){return t/e}function JC(t,e){return(n,o)=>n*t+o*e}function XC(t,e,n,o){let r=Math.max.apply(Math,t.map(Ya)),i=Math.max.apply(Math,e.map(Ya)),s=o&&o.text&&o.vector,{text:a,vector:c}=s?o:ZC(n),l=new Map,d=t.length,u=JC(a,c);for(let m=0;m<d;m++){let[f,g]=t[m],C=Up(g,r),h=u(C,0);l.set(f,h)}let p=e.length;for(let m=0;m<p;m++){let[f,g]=e[m],C=Up(g,i),h=l.get(f)??0;l.set(f,h+u(0,C))}return[...l].sort((m,f)=>f[1]-m[1])}function ZC(t){return{text:.5,vector:.5}}var Fi={k:1.2,b:.75,d:.5};async function ao(t,e,n,o,r,i,s,a,c){let l={},d={};for(let u of i){let p={};for(let m of s)p[m]=[];l[u]=p,d[u]=[]}return{timeStart:c,tokenizer:t,index:e,documentsStore:n,language:o,params:r,docsCount:a,uniqueDocsIDs:{},indexMap:l,docsIntersection:d}}async function Qa(t,e,n){let o=e.mode??Ga;if(o===Ga)return Rp(t,e,n);if(o===Pp)return kp(t,e);if(o===Tp)return Fp(t,e);throw z("INVALID_SEARCH_MODE",o)}async function Mp(t,e,n,o,r){let i=t.data.docs,s=new Map,a=[],c=new Set,l=e.length,d=0;for(let u=0;u<l;u++){let p=e[u];if(typeof p>"u")continue;let[m,f]=p;if(c.has(m))continue;let g=await t.documentsStore.get(i,m),C=await Fo(g,r);if(!(typeof C>"u"||s.has(C))&&(s.set(C,!0),d++,!(d<=n)&&(a.push({id:io(t.internalDocumentIDStore,m),score:f,document:g}),c.add(m),d>=n+o)))break}return a}async function Li(t,e,n,o){let r=t.data.docs,i=Array.from({length:o}),s=new Set;for(let a=n;a<o+n;a++){let c=e[a];if(typeof c>"u")break;let[l,d]=c;if(!s.has(l)){let u=await t.documentsStore.get(r,l);i[a]={id:io(t.internalDocumentIDStore,l),score:d,document:u},s.add(l)}}return i}async function Bp(t,e){"positions"in t.data||Object.assign(t.data,{positions:{}}),await zp(t,await t.documentsStore.get(t.data.docs,e),e)}var tv=/[\p{L}0-9_'-]+/gimu;async function zp(t,e,n,o="",r=t.schema){t.data.positions[n]=Object.create(null);for(let i of Object.keys(e)){let s=typeof e[i]=="object",a=typeof r[i]=="object",c=`${o}${String(i)}`;if(s&&i in r&&a&&zp(t,e[i],n,c+".",r[i]),!(typeof e[i]=="string"&&i in r&&!a))continue;t.data.positions[n][c]=Object.create(null);let l=e[i],d;for(;(d=tv.exec(l))!==null;){let u=d[0].toLowerCase(),p=`${t.tokenizer.language}:${u}`,m;t.tokenizer.normalizationCache.has(p)?m=t.tokenizer.normalizationCache.get(p):([m]=await t.tokenizer.tokenize(u),t.tokenizer.normalizationCache.set(p,m)),Array.isArray(t.data.positions[n][c][m])||(t.data.positions[n][c][m]=[]);let f=d.index,g=d[0].length;t.data.positions[n][c][m].push({start:f,length:g})}}}async function Vp(t,e,n){let o=await Qa(t,e,n),r=await t.tokenizer.tokenize(e.term??"",n),i=[];for(let s of o.hits){let a=Object.entries(t.data.positions[s.id]),c=[];for(let[l,d]of a){let u=[],p=Object.entries(d);for(let m of p){let[f]=m;for(let g of r)if(e.tolerance){if((await Ua(f,g,e.tolerance)).isBounded){u.push(m);break}}else if(f.startsWith(g)){u.push(m);break}}c.push([l,Object.fromEntries(u)])}i.push(Object.assign(s,{positions:Object.fromEntries(c)}))}return o.hits=i,o}var Bi=class extends Vn{constructor(e){super(),this.options=e,this.db$=ha(qa({schema:{title:"string",section:"string",content:"string"},plugins:[{name:"highlight",afterInsert:Bp}],components:{tokenizer:{stemmer:e?.stemmer}}})).pipe(at(n=>this.request("assets/ng-doc/indexes.json").pipe(at(o=>$a(n,o)),Fe(()=>n))),ai(1))}search(e){return this.db$.pipe(at(n=>Vp(n,{term:e,boost:{title:4,section:2},threshold:.3,properties:["title","section","content"],tolerance:this.options?.tolerance,exact:this.options?.exact,limit:this.options?.limit??10})),Fe(n=>n.hits.map(o=>{let r=(0,Wp.objectKeys)(o.positions);return{index:o.document,positions:r.reduce((i,s)=>(i[s]=[...(0,Hp.asArray)(i[s]),...Object.values(o.positions[s]).flat()],i),{})}})))}request(e){return ha(fetch(e)).pipe(at(n=>n.json()))}};var nv=["ng-doc-blockquote",""],ov=["*"];function rv(t,e){if(t&1&&N(0,"ng-doc-icon",2),t&2){let n=T(2);I("icon",n.icon)}}function iv(t,e){t&1&&N(0,"ng-doc-icon",3)}function sv(t,e){t&1&&N(0,"ng-doc-icon",4)}function av(t,e){t&1&&N(0,"ng-doc-icon",5)}function cv(t,e){t&1&&N(0,"ng-doc-icon",6)}function lv(t,e){if(t&1&&W(0,iv,1,0,"ng-doc-icon",3)(1,sv,1,0,"ng-doc-icon",4)(2,av,1,0,"ng-doc-icon",5)(3,cv,1,0,"ng-doc-icon",6),t&2){let n,o=T(2);K((n=o.type)==="note"?0:n==="warning"?1:n==="success"?2:n==="alert"?3:-1)}}function dv(t,e){if(t&1&&(S(0,"div",0),W(1,rv,1,1,"ng-doc-icon",2)(2,lv,4,1),E()),t&2){let n=T();_(),K(n.icon?1:2)}}var Kp=(()=>{let e=class e{constructor(){this.type="default"}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=F({type:e,selectors:[["blockquote","ng-doc-blockquote",""]],hostVars:1,hostBindings:function(r,i){r&2&&fe("data-ng-doc-type",i.type)},inputs:{type:"type",icon:"icon"},attrs:nv,ngContentSelectors:ov,decls:3,vars:1,consts:[[1,"ng-doc-blockquote-icon"],[1,"ng-doc-blockquote"],["size","24",3,"icon"],["icon","info","size","24"],["icon","alert-triangle","size","24"],["icon","check","size","24"],["icon","alert-circle","size","24"]],template:function(r,i){r&1&&(Be(),W(0,dv,3,1,"div",0),S(1,"div",1),ge(2),E()),r&2&&K(i.type!=="default"?0:-1)},dependencies:[ue],styles:["[_nghost-%COMP%]{font-family:var(--ng-doc-font-family);font-variant:no-contextual;color:var(--ng-doc-text);line-height:var(--ng-doc-line-height);font-size:var(--ng-doc-font-size);font-weight:var(--ng-doc-font-weight);position:relative;display:flex;padding:calc(var(--ng-doc-base-gutter) * 2);border-radius:var(--ng-doc-base-gutter);margin:var(--ng-doc-blockquote-margin);background:color-mix(in srgb,var(--ng-doc-blockquote-background, var(--ng-doc-base-9)),transparent 90%);border:1px solid color-mix(in srgb,var(--ng-doc-blockquote-border-color, var(--ng-doc-base-9)),transparent 80%);overflow:hidden;--ng-doc-code-margin: var(--ng-doc-base-gutter) 0}[data-ng-doc-type=note][_nghost-%COMP%]{--ng-doc-blockquote-background: var(--ng-doc-info);--ng-doc-blockquote-border-color: var(--ng-doc-info);--ng-doc-icon-color: var(--ng-doc-info)}[data-ng-doc-type=warning][_nghost-%COMP%]{--ng-doc-blockquote-background: var(--ng-doc-warning);--ng-doc-blockquote-border-color: var(--ng-doc-warning);--ng-doc-icon-color: var(--ng-doc-warning)}[data-ng-doc-type=alert][_nghost-%COMP%]{--ng-doc-blockquote-background: var(--ng-doc-alert);--ng-doc-blockquote-border-color: var(--ng-doc-alert);--ng-doc-icon-color: var(--ng-doc-alert)}[data-ng-doc-type=success][_nghost-%COMP%]{--ng-doc-blockquote-background: var(--ng-doc-success);--ng-doc-blockquote-border-color: var(--ng-doc-success);--ng-doc-icon-color: var(--ng-doc-success)}[_nghost-%COMP%]   .ng-doc-blockquote-icon[_ngcontent-%COMP%]{display:flex;margin-right:calc(var(--ng-doc-base-gutter) * 2)}[_nghost-%COMP%]   .ng-doc-blockquote[_ngcontent-%COMP%]{text-decoration:none}[_nghost-%COMP%]     p{margin:0}"],changeDetection:0});let t=e;return t})();var qp=rn(Er(),1);function uv(t,e){if(t&1&&(At(0),j(1),Dt()),t&2){let n=e.polymorpheusOutlet;_(),Pe(" ",n," ")}}function pv(t,e){if(t&1&&(S(0,"ng-doc-option",1),J(1,uv,2,1,"ng-container",2),E()),t&2){let n=e.$implicit,o=T(2);I("value",o.defineValueFn(n))("disabled",o.itemDisabledFn(n)),_(),I("polymorpheusOutlet",o.itemContent)("polymorpheusOutletContext",o.getContext(n))}}function mv(t,e){if(t&1&&Oe(0,pv,2,4,"ng-doc-option",1,ql().trackByFn,!0),t&2){let n=T();Re(n.items)}}function fv(t,e){if(t&1&&(At(0),j(1),Dt()),t&2){let n=e.polymorpheusOutlet;_(),Pe(" ",n," ")}}function gv(t,e){if(t&1&&J(0,fv,2,1,"ng-container",3),t&2){let n=T(2);I("polymorpheusOutlet",n.emptyContent)}}function hv(t,e){if(t&1&&(S(0,"div",0),W(1,gv,1,1,"ng-container"),E()),t&2){let n=T();_(),K(n.emptyContent?1:-1)}}var jp=(()=>{let e=class e{constructor(){this.autofocus=!0,this.items=[],this.itemContent=({$implicit:o})=>Fd(o),this.emptyContent="",this.itemDisabledFn=kd,this.defineValueFn=Ud,this.trackByFn=(o,r)=>r}getContext(o){return{$implicit:o}}getItems(){return(0,qp.asArray)(this.items)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=F({type:e,selectors:[["ng-doc-data-list"]],inputs:{autofocus:"autofocus",items:"items",itemContent:"itemContent",emptyContent:"emptyContent",itemDisabledFn:"itemDisabledFn",defineValueFn:"defineValueFn",trackByFn:"trackByFn"},decls:3,vars:1,consts:[["ng-doc-text","",1,"ng-doc-empty-message"],[3,"value","disabled"],[4,"polymorpheusOutlet","polymorpheusOutletContext"],[4,"polymorpheusOutlet"]],template:function(r,i){r&1&&(S(0,"ng-doc-list"),W(1,mv,2,0)(2,hv,2,1,"div",0),E()),r&2&&(_(),K(i.items&&i.items.length?1:2))},dependencies:[$d,Gd,Mt,cn,jt],styles:["[_nghost-%COMP%]{display:block;height:100%;overflow:auto;max-height:var(--ng-doc-list-size)}.ng-doc-empty-message[_ngcontent-%COMP%]{padding:var(--ng-doc-base-gutter) calc(var(--ng-doc-base-gutter) * 2);--ng-doc-font-size: 14px;--ng-doc-line-height: 22px}ng-doc-checkbox[_ngcontent-%COMP%]{pointer-events:none}"],changeDetection:0});let t=e;return El([jd,si("design:type",Function),si("design:paramtypes",[Object]),si("design:returntype",Object)],t.prototype,"getContext",null),t})();var Ja=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=F({type:e,selectors:[["ng-doc-dot"]],hostVars:2,hostBindings:function(r,i){r&2&&fe("data-ng-doc-color",i.color)("data-ng-doc-size",i.size)},inputs:{color:"color",size:"size"},decls:0,vars:0,template:function(r,i){},styles:["[_nghost-%COMP%]{display:inline;width:var(--ng-doc-dot-size);height:var(--ng-doc-dot-size);border-radius:var(--ng-doc-dot-size);line-height:var(--ng-doc-line-height);background-color:var(--ng-doc-dot-background);transition:var(--ng-doc-transition)}[data-ng-doc-size=small][_nghost-%COMP%]{--ng-doc-dot-size: calc(var(--ng-doc-base-gutter) / 2)}[data-ng-doc-size=medium][_nghost-%COMP%]{--ng-doc-dot-size: var(--ng-doc-base-gutter)}[data-ng-doc-size=large][_nghost-%COMP%]{--ng-doc-dot-size: calc(var(--ng-doc-base-gutter) * 2)}"],changeDetection:0});let t=e;return t})();var yv=["*"];function Cv(t){return t instanceof MouseEvent}function vv(t){return t instanceof WheelEvent}var $p=(()=>{let e=class e{constructor(){this.x=Kt(0),this.y=Kt(0),this.scale=Kt(1),this.drag=Kt(!1),this.document=b(Ze),this.element=b(Ge).nativeElement,this.ngZone=b(Pt),this.destroyRef=b(wt),this.transform=to(()=>{let o=this.scale(),r=this.x(),i=this.y();return`matrix(${o}, 0, 0, ${o}, ${r*o}, ${i*o})`})}ngOnInit(){Ke(this.element,"mousedown").pipe(at(o=>(o.preventDefault(),this.drag.set(!0),Ke(this.document,"mousemove").pipe(Te(Cv),hr(Ke(this.document,"mouseup")),yr({complete:()=>this.drag.set(!1)})))),_e(this.destroyRef)).subscribe(o=>{this.x.update(r=>r+o.movementX/this.scale()),this.y.update(r=>r+o.movementY/this.scale())}),Ke(this.element,"wheel").pipe(Te(vv),_e(this.destroyRef)).subscribe(o=>{o.preventDefault(),this.scale.update(r=>Math.max(r*(1+o.deltaY/1e3),1))})}incrementX(o){this.x.update(r=>r+o/this.scale())}incrementY(o){this.y.update(r=>r+o/this.scale())}zoom(o){this.scale.update(r=>Math.max(r*(1+o/1e3),1))}reset(){this.x.set(0),this.y.set(0),this.scale.set(1)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=F({type:e,selectors:[["ng-doc-magnifier"]],hostVars:1,hostBindings:function(r,i){r&2&&fe("data-drag",i.drag())},ngContentSelectors:yv,decls:2,vars:2,consts:[[1,"ng-doc-magnifier-container"]],template:function(r,i){r&1&&(Be(),En(0,"div",0),ge(1),In()),r&2&&Fn("transform",i.transform())},styles:["[_nghost-%COMP%]{display:block;overflow:hidden;cursor:default}[data-drag=true][_nghost-%COMP%]{cursor:move}"],changeDetection:0});let t=e;return t})();var Gp=(()=>{let e=class e{constructor(){this.magnifier=xn.required()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=F({type:e,selectors:[["ng-doc-magnifier-controller"]],inputs:{magnifier:[1,"magnifier"]},decls:17,vars:7,consts:[[1,"ng-doc-controls-row"],["ng-doc-button-icon-raised","",1,"ng-doc-button-up",3,"click","rounded"],["icon","chevron-right"],["ng-doc-button-icon-raised","",1,"ng-doc-button-zoom-in",3,"click","rounded"],["icon","zoom-in"],["ng-doc-button-icon-raised","",1,"ng-doc-button-left",3,"click","rounded"],["ng-doc-button-icon-raised","",1,"ng-doc-button-center",3,"click","rounded"],["icon","maximize"],["ng-doc-button-icon-raised","",1,"ng-doc-button-right",3,"click","rounded"],["ng-doc-button-icon-raised","",1,"ng-doc-button-down",3,"click","rounded"],["ng-doc-button-icon-raised","",1,"ng-doc-button-zoom-out",3,"click","rounded"],["icon","zoom-out"]],template:function(r,i){r&1&&(S(0,"div",0)(1,"button",1),ce("click",function(){return i.magnifier().incrementY(50)}),N(2,"ng-doc-icon",2),E(),S(3,"button",3),ce("click",function(){return i.magnifier().zoom(200)}),N(4,"ng-doc-icon",4),E()(),S(5,"div",0)(6,"button",5),ce("click",function(){return i.magnifier().incrementX(50)}),N(7,"ng-doc-icon",2),E(),S(8,"button",6),ce("click",function(){return i.magnifier().reset()}),N(9,"ng-doc-icon",7),E(),S(10,"button",8),ce("click",function(){return i.magnifier().incrementX(-50)}),N(11,"ng-doc-icon",2),E()(),S(12,"div",0)(13,"button",9),ce("click",function(){return i.magnifier().incrementY(-50)}),N(14,"ng-doc-icon",2),E(),S(15,"button",10),ce("click",function(){return i.magnifier().zoom(-200)}),N(16,"ng-doc-icon",11),E()()),r&2&&(_(),I("rounded",!1),_(2),I("rounded",!1),_(3),I("rounded",!1),_(2),I("rounded",!1),_(2),I("rounded",!1),_(3),I("rounded",!1),_(2),I("rounded",!1))},dependencies:[ln,ue],styles:["[_nghost-%COMP%]{display:inline-flex;flex-direction:column;gap:var(--ng-doc-base-gutter)}[_nghost-%COMP%]   .ng-doc-controls-row[_ngcontent-%COMP%]{display:flex;gap:var(--ng-doc-base-gutter);justify-content:center}[_nghost-%COMP%]   .ng-doc-controls-row[_ngcontent-%COMP%]:first-child, [_nghost-%COMP%]   .ng-doc-controls-row[_ngcontent-%COMP%]:last-child{justify-content:flex-end}[_nghost-%COMP%]   button.ng-doc-button-up[_ngcontent-%COMP%]   ng-doc-icon[icon=chevron-right][_ngcontent-%COMP%]{transform:rotate(270deg)}[_nghost-%COMP%]   button.ng-doc-button-down[_ngcontent-%COMP%]   ng-doc-icon[icon=chevron-right][_ngcontent-%COMP%]{transform:rotate(90deg)}[_nghost-%COMP%]   button.ng-doc-button-left[_ngcontent-%COMP%]   ng-doc-icon[icon=chevron-right][_ngcontent-%COMP%]{transform:rotate(180deg)}"],changeDetection:0});let t=e;return t})();var Sv=["resizer"],_v=[[["","ngDocPaneBack",""]],[["","ngDocPaneFront",""]]],Ev=["[ngDocPaneBack]","[ngDocPaneFront]"],Yp=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Tt({type:e,selectors:[["","ngDocPaneFront",""]]});let t=e;return t})(),Qp=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Tt({type:e,selectors:[["","ngDocPaneBack",""]]});let t=e;return t})(),Jp=(()=>{let e=class e{constructor(){this.document=b(Ze),this.changeDetectorRef=b(ct),this.elementRef=b(Ge),this.ngZone=b(Pt),this.expanded=!1,this.width="0%",this.dragging=!1;let o=b(wt);Un(()=>{if(this.resizer){let r=Ke(this.resizer.nativeElement,"mousedown").pipe(yr(()=>{this.dragging=!0,this.changeDetectorRef.markForCheck()})),i=Ke(this.document,"mouseup").pipe(yr(()=>{this.dragging=!1,this.changeDetectorRef.markForCheck()})),s=Ke(this.document,"mousemove").pipe(Fe(a=>a.clientX),Pl(),Fe(([a,c])=>c-a));r.pipe(at(()=>{let a=s.pipe(hr(i)),c=i.pipe(Fe(()=>null),hr(s),Tl(1));return fr(a,c)}),Te(a=>a!==0),Et(this.ngZone),_e(o)).subscribe(a=>{a===null?this.toggle():this.addDelta(a)})}Ke(window,"resize").pipe(gr(100),Et(this.ngZone),_e(o)).subscribe(()=>this.addDelta(0))}),this.addDelta(0)}ngOnChanges({expanded:o}){o&&(o.currentValue?this.addDelta(this.elementRef.nativeElement.offsetWidth):this.addDelta(-this.elementRef.nativeElement.offsetWidth))}toggle(){if(this.resizer){let o=this.elementRef.nativeElement.offsetWidth/2;this.resizer.nativeElement.offsetLeft<o?this.addDelta(this.elementRef.nativeElement.offsetWidth):this.addDelta(-this.elementRef.nativeElement.offsetWidth)}}addDelta(o){if(this.resizer){let r=this.elementRef.nativeElement.offsetWidth-this.resizer.nativeElement.offsetWidth;this.width=`${Math.min(r,Math.max(0,this.resizer.nativeElement.offsetLeft+o))}px`,this.changeDetectorRef.detectChanges()}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=F({type:e,selectors:[["ng-doc-pane"]],viewQuery:function(r,i){if(r&1&&Nt(Sv,7),r&2){let s;vt(s=St())&&(i.resizer=s.first)}},hostVars:1,hostBindings:function(r,i){r&2&&fe("data-ng-doc-dragging",i.dragging)},inputs:{expanded:"expanded"},features:[Ul],ngContentSelectors:Ev,decls:8,vars:2,consts:[["resizer",""],[1,"ng-doc-pane-back"],[1,"ng-doc-pane-content"],[1,"ng-doc-pane-resizer"],[1,"ng-doc-pane-front"]],template:function(r,i){r&1&&(Be(_v),En(0,"div",1)(1,"div",2),ge(2),In()(),Ao(3,"div",3,0),En(5,"div",4)(6,"div",2),ge(7,1),In()()),r&2&&Fn("width",i.width)},styles:['[_nghost-%COMP%]{position:relative;display:flex;width:100%;border-radius:var(--ng-doc-pane-border-radius, var(--ng-doc-base-gutter));border:var(--ng-doc-pane-border, 1px solid var(--ng-doc-border-color));overflow:hidden}[data-ng-doc-dragging=false][_nghost-%COMP%]   .ng-doc-pane-back[_ngcontent-%COMP%]{transition:var(--ng-doc-transition) width}[_nghost-%COMP%]   .ng-doc-pane-front[_ngcontent-%COMP%]{position:relative;display:flex;width:100%;background-color:var(--ng-doc-pane-front-background, var(--ng-doc-pane-background, var(--ng-doc-base-1)));overflow:hidden;border-top-right-radius:var(--ng-doc-base-gutter);border-bottom-right-radius:var(--ng-doc-base-gutter);border:var(--ng-doc-pane-front-border, var(--ng-doc-pane-border))}[_nghost-%COMP%]   .ng-doc-pane-back[_ngcontent-%COMP%]{position:relative;display:flex;flex-shrink:0;width:100%;background-color:var(--ng-doc-pane-back-background, var(--ng-doc-pane-background, var(--ng-doc-base-1)));overflow:hidden;border-top-left-radius:var(--ng-doc-base-gutter);border-bottom-left-radius:var(--ng-doc-base-gutter);border:var(--ng-doc-pane-back-border, var(--ng-doc-pane-border))}[_nghost-%COMP%]   .ng-doc-pane-resizer[_ngcontent-%COMP%]{position:relative;flex-shrink:0;transform:translateZ(0);background-color:var(--ng-doc-base-3);width:16px;display:block;cursor:ew-resize}[_nghost-%COMP%]   .ng-doc-pane-resizer[_ngcontent-%COMP%]:after{content:"";display:flex;background:var(--ng-doc-base-10);border-radius:50px;position:absolute;width:4px;height:20%;top:50%;left:50%;transform:translateY(-50%) translate(-50%);opacity:1;transition:var(--ng-doc-transition) height}[_nghost-%COMP%]   .ng-doc-pane-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-shrink:0;width:100%;height:100%;min-width:var(--ng-doc-pane-content-min-width, 200px)}'],changeDetection:0});let t=e;return t})();var Iv=["*"];function bv(t,e){t&1&&Ct(0)}function xv(t,e){if(t&1){let n=nt();S(0,"div",5),ce("click",function(){Je(n);let r=T();return Xe(r.closeEvent.emit())}),E()}t&2&&I("@backdropFade",void 0)}var Xa=(()=>{let e=class e{constructor(){this.sidebar="",this.opened=!0,this.hasBackdrop=!0,this.closeEvent=new di}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=F({type:e,selectors:[["ng-doc-sidenav"]],hostVars:2,hostBindings:function(r,i){r&2&&fe("data-ng-doc-sidebar",!!i.sidebar)("data-ng-doc-opened",i.opened)},inputs:{sidebar:"sidebar",opened:"opened",hasBackdrop:"hasBackdrop"},outputs:{closeEvent:"closeEvent"},ngContentSelectors:Iv,decls:6,vars:2,consts:[[1,"ng-doc-sidenav-wrapper"],[1,"ng-doc-sidenav"],[4,"polymorpheusOutlet"],[1,"ng-doc-sidenav-content"],[1,"ng-doc-backdrop"],[1,"ng-doc-backdrop",3,"click"]],template:function(r,i){r&1&&(Be(),S(0,"div",0)(1,"div",1),J(2,bv,1,0,"ng-container",2),E(),S(3,"div",3),W(4,xv,1,1,"div",4),ge(5),E()()),r&2&&(_(2),I("polymorpheusOutlet",i.sidebar),_(2),K(i.opened&&i.hasBackdrop?4:-1))},dependencies:[Mt,cn],styles:["[_nghost-%COMP%]{width:100%}[data-ng-doc-sidebar=false][_nghost-%COMP%]   .ng-doc-sidenav-content[_ngcontent-%COMP%]{margin-left:0;width:100%}[_nghost-%COMP%]   .ng-doc-sidenav-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;width:100%}[_nghost-%COMP%]   .ng-doc-sidenav[_ngcontent-%COMP%]{position:fixed;top:var(--ng-doc-navbar-height);width:var(--ng-doc-sidenav-width);flex-shrink:0;z-index:10;transition:left var(--ng-doc-transition)}[_nghost-%COMP%]   .ng-doc-sidenav-content[_ngcontent-%COMP%]{margin-left:var(--ng-doc-sidenav-width);width:calc(100% - var(--ng-doc-sidenav-width));padding:var(--ng-doc-sidenav-content-padding);transition:margin-left var(--ng-doc-transition)}[_nghost-%COMP%]   .ng-doc-backdrop[_ngcontent-%COMP%]{position:fixed!important;left:0;top:0;width:100%;height:100%;z-index:9}[_nghost-%COMP%]   .ng-doc-backdrop[_ngcontent-%COMP%]:not(nothing){background:color-mix(in srgb,rgba(0,0,0,.2) 60%,transparent);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px)}@supports not ((-webkit-backdrop-filter: none) or (backdrop-filter: none)){[_nghost-%COMP%]   .ng-doc-backdrop[_ngcontent-%COMP%]{background-color:#0003}}[_nghost-%COMP%]   .ng-doc-backdropnothing[_ngcontent-%COMP%]{background-color:#0003}@media (max-width: 1024px){[data-ng-doc-opened=true][_nghost-%COMP%]   .ng-doc-sidenav[_ngcontent-%COMP%]{right:0;transition:right var(--ng-doc-transition);--ng-doc-sidebar-shadow: var(--ng-doc-shadow-color) -5px 5px 20px -5px}[_nghost-%COMP%]   .ng-doc-sidenav[_ngcontent-%COMP%]{transition:unset;left:unset;right:calc(var(--ng-doc-sidenav-width) * -1);top:var(--ng-doc-navbar-height)}[_nghost-%COMP%]   .ng-doc-sidenav-content[_ngcontent-%COMP%]{margin-left:0;width:100%}}"],data:{animation:[Ed("backdropFade",[bd(":enter",[lt({opacity:0}),no("220ms cubic-bezier(0.25, 0.8, 0.25, 1)",lt({opacity:1}))])])]},changeDetection:0});let t=e;return t})();var Vi=(()=>{let e=class e{constructor(){this.size="medium"}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=F({type:e,selectors:[["ng-doc-spinner"]],hostVars:1,hostBindings:function(r,i){r&2&&fe("data-ng-doc-size",i.size)},inputs:{size:"size"},decls:2,vars:0,consts:[["viewBox","0 0 50 50",1,"ng-doc-spinner"],["cx","25","cy","25","r","20","fill","none","stroke-width","5",1,"ng-doc-spinner-path"]],template:function(r,i){r&1&&(li(),En(0,"svg",0),Ao(1,"circle",1),In())},styles:["[_nghost-%COMP%]{display:inline-block}[data-ng-doc-size=small][_nghost-%COMP%]{width:calc(var(--ng-doc-base-gutter) * 3);height:calc(var(--ng-doc-base-gutter) * 3)}[data-ng-doc-size=medium][_nghost-%COMP%]{width:calc(var(--ng-doc-base-gutter) * 5);height:calc(var(--ng-doc-base-gutter) * 5)}[data-ng-doc-size=large][_nghost-%COMP%]{width:calc(var(--ng-doc-base-gutter) * 8);height:calc(var(--ng-doc-base-gutter) * 8)}[_nghost-%COMP%]   .ng-doc-spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotate 2s linear infinite}[_nghost-%COMP%]   .ng-doc-spinner[_ngcontent-%COMP%]   .ng-doc-spinner-path[_ngcontent-%COMP%]{stroke:var(--ng-doc-spinner-color, var(--ng-doc-primary));stroke-linecap:round;animation:_ngcontent-%COMP%_dash 1.5s ease-in-out infinite}@keyframes _ngcontent-%COMP%_rotate{to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_dash{0%{stroke-dasharray:1,150;stroke-dashoffset:0}50%{stroke-dasharray:90,150;stroke-dashoffset:-35}to{stroke-dasharray:90,150;stroke-dashoffset:-124}}"],changeDetection:0});let t=e;return t})();var wv=["headerTab"],Xp=()=>({});function Tv(t,e){if(t&1&&(At(0),j(1),Dt()),t&2){let n=T().$implicit;_(),Ot(n.label)}}function Pv(t,e){if(t&1){let n=nt();S(0,"div",6,0),ce("click",function(){let r=Je(n).$implicit,i=T();return Xe(i.selectTab(r))}),S(2,"div",7),J(3,Tv,2,1,"ng-container",5),E()()}if(t&2){let n=e.$implicit,o=T();ui("selected",n===o.selectedTab),I("ngDocSelectionOrigin",n===o.selectedTab),_(3),I("polymorpheusOutlet",n.label)("polymorpheusOutletContext",bn(5,Xp))}}function Av(t,e){if(t&1&&(S(0,"div"),j(1),E()),t&2){let n=e.polymorpheusOutlet;I("@tabFadeAnimation",void 0),_(),Pe(" ",n," ")}}var co=(()=>{let e=class e{constructor(){this.label="",this.id=0,this.content=""}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=F({type:e,selectors:[["ng-doc-tab"],["a","ng-doc-tab",""]],inputs:{label:"label",id:"id",content:"content"},decls:0,vars:0,template:function(r,i){},encapsulation:2,changeDetection:0});let t=e;return t})(),qo=(()=>{let e=class e{constructor(){this.changeDetectorRef=b(ct),this.tabElements=new Cr,this.tabs=new Cr,this.destroyRef=b(wt)}ngAfterContentInit(){this.tabs.changes.pipe(xt(this.tabs),_e(this.destroyRef)).subscribe(()=>{let o=this.openedTab?this.tabs.find(r=>r.id===this.openedTab):this.tabs.get(0);o&&this.selectTab(o),this.changeDetectorRef.markForCheck()})}ngAfterViewInit(){this.tabElements.changes.pipe(xt(this.tabElements),_e(this.destroyRef)).subscribe(()=>this.changeDetectorRef.detectChanges())}get selectedIndex(){return this.selectedTab?this.tabs.toArray().indexOf(this.selectedTab):-1}get selectedHeaderTab(){return this.selectedTab?this.tabElements.get(this.selectedIndex)??null:null}selectTab(o){this.selectedTab=o}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=F({type:e,selectors:[["ng-doc-tab-group"]],contentQueries:function(r,i,s){if(r&1&&Yl(s,co,4),r&2){let a;vt(a=St())&&(i.tabs=a)}},viewQuery:function(r,i){if(r&1&&Nt(wv,5),r&2){let s;vt(s=St())&&(i.tabElements=s)}},inputs:{openedTab:"openedTab"},decls:7,vars:4,consts:[["headerTab",""],["ngDocSelectionHost","",1,"ng-doc-tabs-wrapper"],[1,"ng-doc-tab",3,"selected","ngDocSelectionOrigin"],[1,"ng-doc-body-wrapper"],[3,"trigger"],[4,"polymorpheusOutlet","polymorpheusOutletContext"],[1,"ng-doc-tab",3,"click","ngDocSelectionOrigin"],[1,"ng-doc-tab-text"]],template:function(r,i){r&1&&(S(0,"div",1),N(1,"ng-doc-selection"),Oe(2,Pv,4,6,"div",2,Le),E(),S(4,"div",3)(5,"ng-doc-smooth-resize",4),J(6,Av,2,2,"div",5),E()()),r&2&&(_(2),Re(i.tabs),_(3),I("trigger",(i.selectedTab==null?null:i.selectedTab.content)??""),_(),I("polymorpheusOutlet",(i.selectedTab==null?null:i.selectedTab.content)??"")("polymorpheusOutletContext",bn(3,Xp)))},dependencies:[Xd,Zd,eu,Mt,cn,bi],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;background:var(--ng-doc-tab-group-header-background, var(--ng-doc-tab-group-background));border-radius:var(--ng-doc-tab-group-border-radius);border:var(--ng-doc-tab-group-border);overflow:hidden}[_nghost-%COMP%]   .ng-doc-tabs-wrapper[_ngcontent-%COMP%]{font-family:var(--ng-doc-font-family);font-variant:no-contextual;color:var(--ng-doc-text);line-height:var(--ng-doc-line-height);font-size:var(--ng-doc-font-size);font-weight:var(--ng-doc-font-weight);position:relative;width:100%;display:inline-flex;overflow-x:auto;line-height:18px;font-size:14px;flex-shrink:0;background:var(--ng-doc-tab-group-tabs-background)}[_nghost-%COMP%]   .ng-doc-tabs-wrapper[_ngcontent-%COMP%]   .ng-doc-tab[_ngcontent-%COMP%]{position:relative;padding:var(--ng-doc-base-gutter) calc(var(--ng-doc-base-gutter) * 2);cursor:pointer;white-space:nowrap}[_nghost-%COMP%]   .ng-doc-tabs-wrapper[_ngcontent-%COMP%]   .ng-doc-tab[_ngcontent-%COMP%]   .ng-doc-tab-text[_ngcontent-%COMP%]{font-family:var(--ng-doc-font-family);font-variant:no-contextual;color:var(--ng-doc-text);line-height:var(--ng-doc-line-height);font-size:var(--ng-doc-font-size);font-weight:var(--ng-doc-font-weight);position:relative;--ng-doc-font-size: 13px;--ng-doc-font-weight: 500}[_nghost-%COMP%]   .ng-doc-body-wrapper[_ngcontent-%COMP%]{position:relative;background-color:var(--ng-doc-tab-group-background);height:100%;overflow:hidden;border-top:1px solid var(--ng-doc-border-color)}"],data:{animation:[Td]},changeDetection:0});let t=e;return t})();var Dv=["*"],jo=(()=>{let e=class e{constructor(){this.color="primary",this.size="medium",this.mod="default"}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=F({type:e,selectors:[["ng-doc-tag"]],hostVars:3,hostBindings:function(r,i){r&2&&fe("data-ng-doc-color",i.color)("data-ng-doc-size",i.size)("data-ng-doc-mod",i.mod)},inputs:{color:"color",size:"size",mod:"mod"},ngContentSelectors:Dv,decls:1,vars:0,template:function(r,i){r&1&&(Be(),ge(0))},styles:["[_nghost-%COMP%]{font-family:var(--ng-doc-font-family);font-variant:no-contextual;color:var(--ng-doc-text);line-height:var(--ng-doc-line-height);font-size:var(--ng-doc-font-size);font-weight:var(--ng-doc-font-weight);display:inline-block;padding:0 var(--ng-doc-base-gutter);border-radius:calc(var(--ng-doc-base-gutter) / 2);border:var(--ng-doc-tag-border);color:var(--ng-doc-tag-color);background:color-mix(in srgb,var(--ng-doc-tag-background) var(--ng-doc-tag-background-opacity, 100%),transparent);--ng-doc-icon-color: var(--ng-doc-tag-color);--ng-doc-font-size: 14px}[data-ng-doc-size=small][_nghost-%COMP%]{padding:0 calc(var(--ng-doc-base-gutter) / 2);border-radius:6px;--ng-doc-font-size: 10px;--ng-doc-line-height: calc(var(--ng-doc-base-gutter) * 2)}[data-ng-doc-color=info][_nghost-%COMP%]{--ng-doc-tag-background: var(--ng-doc-info);--ng-doc-tag-color: var(--ng-doc-info-text)}[data-ng-doc-color=warning][_nghost-%COMP%]{--ng-doc-tag-background: var(--ng-doc-warning);--ng-doc-tag-color: var(--ng-doc-warning-text)}[data-ng-doc-color=alert][_nghost-%COMP%]{--ng-doc-tag-background: var(--ng-doc-alert);--ng-doc-tag-color: var(--ng-doc-alert-text)}[data-ng-doc-color=link][_nghost-%COMP%]{--ng-doc-tag-background: var(--ng-doc-link-color);--ng-doc-tag-color: var(--ng-doc-primary-text)}[data-ng-doc-color=success][_nghost-%COMP%]{--ng-doc-tag-background: var(--ng-doc-success);--ng-doc-tag-color: var(--ng-doc-success-text)}[data-ng-doc-mod=light][_nghost-%COMP%]{--ng-doc-tag-background-opacity: 15%}[data-ng-doc-mod=light][data-ng-doc-color=primary][_nghost-%COMP%]{--ng-doc-tag-color: var(--ng-doc-primary)}[data-ng-doc-mod=light][data-ng-doc-color=info][_nghost-%COMP%]{--ng-doc-tag-color: var(--ng-doc-info)}[data-ng-doc-mod=light][data-ng-doc-color=warning][_nghost-%COMP%]{--ng-doc-tag-color: var(--ng-doc-warning)}[data-ng-doc-mod=light][data-ng-doc-color=alert][_nghost-%COMP%]{--ng-doc-tag-color: var(--ng-doc-alert)}[data-ng-doc-mod=light][data-ng-doc-color=link][_nghost-%COMP%]{--ng-doc-tag-color: var(--ng-doc-link-color)}[data-ng-doc-mod=light][data-ng-doc-color=success][_nghost-%COMP%]{--ng-doc-tag-color: var(--ng-doc-success)}"],changeDetection:0});let t=e;return t})();var Zp=(()=>{let e=class e extends Od{constructor(){let o=b(Ge);super(o),this.origin=o}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Tt({type:e,selectors:[["","ngDocDropdownOrigin",""]],exportAs:["ngDocDropdownOrigin"],features:[Ln([{provide:Ad,useExisting:e}]),Wl]});let t=e;return t})();var em=rn(Ay(),1),tm=rn(md(),1);var nm=(()=>{let e=class e{constructor(){this.ngZone=b(Pt),this.callback=new di;let o=b(wt);Un(()=>{Ke(document,"keyup").pipe(Te(em.isKeyboardEvent),Te(r=>(0,tm.objectKeys)(this.hotkey??{}).every(i=>this.hotkey&&this.hotkey[i]===r[i])),Te(r=>r.target instanceof HTMLElement?!["input","textarea","select"].includes(r.target.tagName.toLowerCase()):!0),Et(this.ngZone),_e(o)).subscribe(r=>{r.preventDefault(),this.callback.emit()})})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Tt({type:e,selectors:[["","ngDocHotkey",""]],inputs:{hotkey:[0,"ngDocHotkey","hotkey"]},outputs:{callback:"ngDocHotkey"}});let t=e;return t})();var om=(()=>{let e=class e{constructor(){this.rotated=!1,this.from=0,this.to=90}get transform(){return`rotateZ(${this.rotated?this.to:this.from}deg)`}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Tt({type:e,selectors:[["","ngDocRotator",""]],hostVars:2,hostBindings:function(r,i){r&2&&Fn("transform",i.transform)},inputs:{rotated:[0,"ngDocRotator","rotated"],from:"from",to:"to"}});let t=e;return t})();var rm=(()=>{let e=class e{constructor(){this.document=b(Ze),this.viewportRuler=b(Dd),this.scrollStrategy=new Nd(this.viewportRuler,this.document)}block(){this.scrollStrategy.enable()}unblock(){this.scrollStrategy.disable()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=sn({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var im=(()=>{let e=class e{transform(o,r){return r.sort((i,s)=>s.start-i.start).forEach(i=>{let{start:s,length:a}=i,c=s+a;o=`${o.slice(0,s)}<mark class="ng-doc-mark">${o.slice(s,c)}</mark>${o.slice(c)}`}),o}};e.\u0275fac=function(r){return new(r||e)},e.\u0275pipe=Hl({name:"ngDocHighlighterPipe",type:e,pure:!0});let t=e;return t})();function sm(t){return[{provide:Hd,useValue:t?.assetsPath??"assets/ng-doc/ui-kit"},{provide:Kd,useValue:t?.customIconsPath??"assets/icons"},{provide:dd,useClass:Vd,multi:!0}]}var Hi=class extends Ld{constructor(e,n){super(e),this.component=e,this.injectorRef=n}createInjector(e,n){return Ml.create({parent:this.injectorRef||e,providers:[{provide:Wd,useValue:n}]})}};function Nv(t,e){t&1&&N(0,"ng-doc-icon",0)}function Ov(t,e){if(t&1&&(W(0,Nv,1,0,"ng-doc-icon",0),j(1)),t&2){let n=e.$implicit,o=e.$index;K(o!==0?0:-1),_(),Pe(" ",n,`
`)}}var am=(()=>{let e=class e{constructor(){this.breadcrumbs=[]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=F({type:e,selectors:[["ng-doc-breadcrumb"]],inputs:{breadcrumbs:"breadcrumbs"},decls:2,vars:0,consts:[["icon","chevron-right"]],template:function(r,i){r&1&&Oe(0,Ov,2,2,null,null,Le),r&2&&Re(i.breadcrumbs)},dependencies:[ue],styles:["[_nghost-%COMP%]{display:flex;align-items:center;flex-wrap:wrap;gap:var(--ng-doc-base-gutter);margin-bottom:calc(var(--ng-doc-base-gutter) * 2);opacity:.9}[_nghost-%COMP%]   .ng-doc-breadcrumb[_ngcontent-%COMP%]{font-family:var(--ng-doc-font-family);font-variant:no-contextual;color:var(--ng-doc-text);line-height:var(--ng-doc-line-height);font-size:var(--ng-doc-font-size);font-weight:var(--ng-doc-font-weight);display:flex;align-items:center}"],changeDetection:0});let t=e;return t})();var Wi=(()=>{let e=class e{constructor(){this.expanded=new ii(!1),this.document=b(Ze),this.window=b(Pi),this.router=b(Bn),this.scroll=b(rm);let o=Ke(this.window,"resize").pipe(_e(),xt(null),Al());o.pipe(Te(()=>this.expanded.value&&this.isMobile),Et(),_e()).subscribe(()=>this.hide()),o.pipe(Te(()=>!this.expanded.value&&!this.isMobile),Et(),_e()).subscribe(()=>this.show()),o.pipe(Te(()=>this.expanded.value&&!this.isMobile),Et(),_e()).subscribe(()=>this.scroll.unblock()),this.router.events.pipe(Te(r=>r instanceof Ci&&this.expanded.value&&this.isMobile),_e()).subscribe(()=>this.hide())}get isMobile(){return this.window.innerWidth<1024}isExpanded(){return this.expanded.asObservable()}show(){this.expanded.value||(this.expanded.next(!0),this.isMobile&&this.scroll.block())}hide(){this.expanded.value&&(this.expanded.next(!1),this.isMobile&&this.scroll.unblock())}toggle(){this.expanded.value?this.hide():this.show()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=sn({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ki=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=F({type:e,selectors:[["ng-doc-fullscreen-button"]],inputs:{route:"route"},decls:4,vars:1,consts:[["ng-doc-button-text","","target","_blank",3,"routerLink"],["ng-doc-text",""],["icon","external-link","ngDocTextRight",""]],template:function(r,i){r&1&&(S(0,"a",0)(1,"span",1),j(2," Open demo in a new tab "),N(3,"ng-doc-icon",2),E()()),r&2&&I("routerLink",i.route)},dependencies:[an,jt,ue,Ii,qd],styles:["[_nghost-%COMP%]{display:flex;align-items:center;justify-content:center;padding:calc(var(--ng-doc-base-gutter) * 2) calc(var(--ng-doc-base-gutter) * 2)}"],changeDetection:0});let t=e;return t})();var cm=rn(Er(),1);function Rv(t,e){t&1&&Ct(0)}function Mv(t,e){if(t&1&&N(0,"ng-doc-code",7),t&2){let n=e.$implicit;I("html",n.code)}}function kv(t,e){if(t&1&&Oe(0,Mv,1,1,"ng-doc-code",7,Le),t&2){let n=T(3);Re(n.assets)}}function Uv(t,e){if(t&1&&N(0,"ng-doc-icon",9),t&2){let n=T(2).$implicit;I("customIcon",n.icon)}}function Fv(t,e){if(t&1&&(W(0,Uv,1,1,"ng-doc-icon",9),j(1)),t&2){let n=T().$implicit;K(n.icon?0:-1),_(),Pe(" ",n.title," ")}}function Lv(t,e){if(t&1&&N(0,"ng-doc-code",7),t&2){let n=T().$implicit;I("html",n.code)}}function Bv(t,e){if(t&1&&(S(0,"ng-doc-tab",8),J(1,Fv,2,2,"ng-template",null,2,pe)(3,Lv,1,1,"ng-template",null,3,pe),E()),t&2){let n=e.$implicit,o=le(2),r=le(4);I("id",n.title)("label",o)("content",r)}}function zv(t,e){if(t&1&&(S(0,"ng-doc-tab-group",6),he(1,"execute"),Oe(2,Bv,5,3,"ng-doc-tab",8,Le),E()),t&2){let n=T(3);I("openedTab",_t(1,1,n.getOpenedAssetId,n.assets)??n.options.defaultTab),_(2),Re(n.assets)}}function Vv(t,e){if(t&1&&(W(0,kv,2,0),W(1,zv,4,4,"ng-doc-tab-group",6)),t&2){let n=T(2);K(n.assets.length===1?0:-1),_(),K(n.assets.length>1?1:-1)}}function Hv(t,e){if(t&1&&(S(0,"ng-doc-demo-displayer",4),J(1,Rv,1,0,"ng-container",5)(2,Vv,2,2,"ng-template",null,1,pe),E()),t&2){let n=le(3),o=T(),r=le(3);I("codeContent",n)("expanded",!!o.options.expanded),_(),I("ngTemplateOutlet",r)}}function Wv(t,e){if(t&1&&N(0,"ng-doc-fullscreen-button",10),t&2){let n=T(2);I("route",n.options.fullscreenRoute)}}function Kv(t,e){t&1&&Ct(0)}function qv(t,e){if(t&1&&J(0,Kv,1,0,"ng-container",11),t&2){let n=T(2);I("ngComponentOutlet",n.demo)("ngComponentOutletInputs",n.options.inputs)}}function jv(t,e){if(t&1&&W(0,Wv,1,1,"ng-doc-fullscreen-button",10)(1,qv,1,2,"ng-container"),t&2){let n=T();K(n.options.fullscreenRoute?0:n.demo?1:-1)}}function $v(t,e){if(t&1&&N(0,"ng-doc-fullscreen-button",10),t&2){let n=T(2);I("route",n.options.fullscreenRoute)}}function Gv(t,e){t&1&&Ct(0)}function Yv(t,e){if(t&1&&J(0,Gv,1,0,"ng-container",11),t&2){let n=T(2);I("ngComponentOutlet",n.demo)("ngComponentOutletInputs",n.options.inputs)}}function Qv(t,e){if(t&1&&W(0,$v,1,1,"ng-doc-fullscreen-button",10)(1,Yv,1,2,"ng-container"),t&2){let n=T();K(n.options.fullscreenRoute?0:n.demo?1:-1)}}var lm=(()=>{let e=class e{constructor(){this.rootPage=b(gi),this.options={},this.assets=[]}get classes(){return this.options.class??""}ngOnInit(){this.demo=this.getDemo(),this.assets=this.getAssets()}getOpenedAssetId(o){return o.find(r=>r.opened)?.title}getDemo(){if(this.componentName)return this.rootPage.page?.demos&&this.rootPage.page.demos[this.componentName]}getAssets(){return this.componentName?((this.rootPage.demoAssets&&this.rootPage.demoAssets[this.componentName])??[]).filter(o=>!this.options.tabs?.length||(0,cm.asArray)(this.options.tabs).includes(o.title)):[]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=F({type:e,selectors:[["ng-doc-demo"]],hostVars:2,hostBindings:function(r,i){r&2&&Do(i.classes)},inputs:{componentName:"componentName",options:"options"},decls:4,vars:1,consts:[["demoTemplate",""],["codeContent",""],["label",""],["assetContent",""],[3,"codeContent","expanded"],[4,"ngTemplateOutlet"],[3,"openedTab"],[3,"html"],[3,"id","label","content"],[3,"customIcon"],[3,"route"],[4,"ngComponentOutlet","ngComponentOutletInputs"]],template:function(r,i){r&1&&(W(0,Hv,4,3,"ng-doc-demo-displayer",4)(1,jv,2,1),J(2,Qv,2,1,"ng-template",null,0,pe)),r&2&&K(i.options.container??!0?0:1)},dependencies:[fu,No,Oo,qo,co,ue,zn,Ki,mi],styles:["[_nghost-%COMP%]{display:block;margin:var(--ng-doc-demo-margin);--ng-doc-tab-group-background: var(--ng-doc-code-background);--ng-doc-tab-group-tabs-background: var(--ng-doc-base-2);--ng-doc-tab-group-border-radius: 0;--ng-doc-tab-group-border: none;--ng-doc-code-border-radius: 0;--ng-doc-code-border: none}[_nghost-%COMP%]   .ng-doc-example[_ngcontent-%COMP%]{padding:calc(var(--ng-doc-base-gutter) * 3)}[_nghost-%COMP%]   ng-doc-icon[_ngcontent-%COMP%]{margin-right:calc(var(--ng-doc-base-gutter) / 2)}[_nghost-%COMP%]   ng-doc-tab-group[_ngcontent-%COMP%]{border-top:1px solid var(--ng-doc-border-color)}"],changeDetection:0});let t=e;return t})();var dm=rn(Er(),1);function Jv(t,e){t&1&&Ct(0,6)}function Xv(t,e){t&1&&Ct(0,7)}function Zv(t,e){if(t&1&&N(0,"ng-doc-fullscreen-button",8),t&2){let n=T(2);I("route",n.options.fullscreenRoute)}}function e0(t,e){t&1&&Ct(0)}function t0(t,e){if(t&1&&J(0,e0,1,0,"ng-container",9),t&2){let n=T(2);I("ngComponentOutlet",n.demo)("ngComponentOutletInputs",n.options.inputs)}}function n0(t,e){if(t&1&&W(0,Zv,1,1,"ng-doc-fullscreen-button",8)(1,t0,1,2,"ng-container"),t&2){let n=T();K(n.options.fullscreenRoute?0:n.demo?1:-1)}}function o0(t,e){if(t&1&&N(0,"ng-doc-code",11),t&2){let n=e.$implicit;I("html",n.code)}}function r0(t,e){if(t&1&&Oe(0,o0,1,1,"ng-doc-code",11,Le),t&2){let n=T(2);Re(n.assets)}}function i0(t,e){if(t&1&&N(0,"ng-doc-code",11),t&2){let n=T().$implicit;I("html",n.code)}}function s0(t,e){if(t&1&&(S(0,"ng-doc-tab",12),J(1,i0,1,1,"ng-template",null,2,pe),E()),t&2){let n=e.$implicit,o=le(2);I("id",n.title)("label",n.title)("content",o)}}function a0(t,e){if(t&1&&(S(0,"ng-doc-tab-group",10),Oe(1,s0,3,3,"ng-doc-tab",12,Le),E()),t&2){let n=T(2);I("openedTab",n.options.defaultTab),_(),Re(n.assets)}}function c0(t,e){if(t&1&&(W(0,r0,2,0),W(1,a0,3,1,"ng-doc-tab-group",10)),t&2){let n=T();K(n.assets.length===1?0:-1),_(),K(n.assets.length>1?1:-1)}}var um=(()=>{let e=class e{constructor(){this.rootPage=b(gi),this.options={},this.assets=[]}get classes(){return this.options.class??""}ngOnInit(){this.demo=this.getDemo(),this.assets=this.getAssets()}getDemo(){if(this.componentName)return this.rootPage.page?.demos&&this.rootPage.page.demos[this.componentName]}getAssets(){return this.componentName?((this.rootPage.demoAssets&&this.rootPage.demoAssets[this.componentName])??[]).filter(o=>!this.options.tabs?.length||(0,dm.asArray)(this.options.tabs).includes(o.title)):[]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=F({type:e,selectors:[["ng-doc-demo-pane"]],hostVars:2,hostBindings:function(r,i){r&2&&Do(i.classes)},inputs:{componentName:"componentName",options:"options"},decls:7,vars:3,consts:[["demoTemplate",""],["codeContent",""],["assetContent",""],[3,"expanded"],["ngDocPaneBack","",4,"ngTemplateOutlet"],["ngDocPaneFront","",4,"ngTemplateOutlet"],["ngDocPaneBack",""],["ngDocPaneFront",""],[3,"route"],[4,"ngComponentOutlet","ngComponentOutletInputs"],[3,"openedTab"],[3,"html"],[3,"id","label","content"]],template:function(r,i){if(r&1&&(S(0,"ng-doc-pane",3),J(1,Jv,1,0,"ng-container",4)(2,Xv,1,0,"ng-container",5),E(),J(3,n0,2,1,"ng-template",null,0,pe)(5,c0,2,2,"ng-template",null,1,pe)),r&2){let s=le(4),a=le(6);I("expanded",i.options.expanded??!1),_(),I("ngTemplateOutlet",a),_(),I("ngTemplateOutlet",s)}},dependencies:[Jp,No,Qp,Yp,Oo,qo,co,Ki,mi],styles:["[_nghost-%COMP%]{display:block;height:var(--ng-doc-demo-pane-height);margin:var(--ng-doc-demo-pane-margin);--ng-doc-code-margin: 0;--ng-doc-code-border-radius: 0;--ng-doc-code-border: none;--ng-doc-smooth-resize-height: var(--ng-doc-demo-pane-height);--ng-doc-smooth-resize-max-height: 100%;--ng-doc-tab-group-tabs-background: var(--ng-doc-base-2);--ng-doc-tab-group-border: none;--ng-doc-tab-group-border-radius: 0}[_nghost-%COMP%]   ng-doc-tab-group[_ngcontent-%COMP%], [_nghost-%COMP%]   ng-doc-code[_ngcontent-%COMP%], [_nghost-%COMP%]   ng-doc-pane[_ngcontent-%COMP%]{width:100%;height:100%}"],changeDetection:0});let t=e;return t})();var pm=(()=>{let e=class e{constructor(){this.classes=[],this.location=b(du)}get href(){let{origin:o,pathname:r}=this.location;return`${o}${r}#${this.anchor}`}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=F({type:e,selectors:[["ng-doc-heading-anchor"]],hostVars:2,hostBindings:function(r,i){r&2&&Do(i.classes)},inputs:{anchor:"anchor",classes:"classes"},decls:2,vars:1,consts:[[3,"text"],["icon","link-2"]],template:function(r,i){r&1&&(S(0,"ng-doc-copy-button",0),N(1,"ng-doc-icon",1),E()),r&2&&I("text",i.href)},dependencies:[ue,ou],encapsulation:2,changeDetection:0});let t=e;return t})();var l0=["image"],d0=["*"];function u0(t,e){if(t&1){let n=nt();En(0,"div",1),Gl("click",function(){Je(n);let r=T();return Xe(r.overlayRef==null?null:r.overlayRef.close())}),Ao(1,"img",2),In()}if(t&2){let n=T();_(),jl("src",n.src(),Bl)("alt",n.alt())}}var mm=(()=>{let e=class e{constructor(){this.src=xn.required(),this.alt=xn.required(),this.image=od("image",{read:Ca}),this.overlay=b(zd),this.element=b(Ge).nativeElement,this.changeDetectorRef=b(ct)}clickEvent(){this.overlayRef?.close();let{width:o,height:r,top:i,left:s}=this.element.getBoundingClientRect(),a=window.innerWidth,c=window.innerHeight,l=Math.min(a/o,c/r),d=o*l,u=r*l;this.overlayRef=this.overlay.open(this.image(),{overlayContainer:Bd,positionStrategy:this.overlay.globalPositionStrategy().centerHorizontally().centerVertically(),scrollStrategy:this.overlay.scrollStrategy().block(),hasBackdrop:!0,backdropClass:"ng-doc-blur-backdrop",openAnimation:[lt({position:"fixed",width:o,height:r,top:i,left:s,transform:"translate(0%, 0)"}),Ea([no("300ms cubic-bezier(0.25, 0.8, 0.25, 1)",lt({width:`${d}px`,height:`${u}px`,top:"50%",left:"50%",transform:"translate(-50%, -50%)"})),Ia(".ng-doc-image-container",[lt({padding:0}),no("300ms cubic-bezier(0.25, 0.8, 0.25, 1)",lt({padding:"16px"}))])])],closeAnimation:[lt({position:"fixed",width:`${d}px`,height:`${u}px`,top:"50%",left:"50%",transform:"translate(-50%, -50%)"}),Ea([no("300ms cubic-bezier(0.25, 0.8, 0.25, 1)",lt({width:o,height:r,top:i,left:s,transform:"translate(0%, 0)"})),Ia(".ng-doc-image-container",no("300ms cubic-bezier(0.25, 0.8, 0.25, 1)",lt({padding:0})))])]}),this.overlayRef.afterClose().subscribe(()=>{this.overlayRef=void 0,this.changeDetectorRef.markForCheck()})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=F({type:e,selectors:[["ng-doc-image-viewer"]],viewQuery:function(r,i){r&1&&Ql(i.image,l0,5,Ca),r&2&&Jl()},hostVars:1,hostBindings:function(r,i){r&1&&ce("click",function(){return i.clickEvent()}),r&2&&fe("data-opened",!!i.overlayRef)},inputs:{src:[1,"src"],alt:[1,"alt"]},ngContentSelectors:d0,decls:3,vars:0,consts:[["image",""],[1,"ng-doc-image-container",3,"click"],[1,"ng-doc-scaled-image",3,"src","alt"]],template:function(r,i){r&1&&(Be(),ge(0),Kl(1,u0,2,2,"ng-template",null,0,pe))},styles:["[_nghost-%COMP%]{display:inline-block;cursor:zoom-in;transition:var(--ng-doc-transition)}[data-opened=true][_nghost-%COMP%] >   img{opacity:0}[_nghost-%COMP%] >   img{max-width:100%;vertical-align:middle;border-radius:var(--ng-doc-base-gutter);overflow:hidden}.ng-doc-image-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:calc(var(--ng-doc-base-gutter) * 2);width:100%;height:100%}.ng-doc-image-container[_ngcontent-%COMP%]   .ng-doc-scaled-image[_ngcontent-%COMP%]{cursor:zoom-out;width:100%;height:100%}"],changeDetection:0});let t=e;return t})();function p0(t,e){t&1&&(S(0,"div",1),N(1,"ng-doc-spinner"),E())}function m0(t,e){if(t&1&&(S(0,"div",2),j(1),E()),t&2){let n=T();_(),Ot(n.error())}}function f0(t,e){if(t&1&&(S(0,"ng-doc-magnifier",null,0),N(2,"div",3),he(3,"ngDocSanitizeHtml"),E(),N(4,"ng-doc-magnifier-controller",4)),t&2){let n=le(1),o=T();_(2),I("innerHTML",Rt(3,2,o.html()),vr),_(2),I("magnifier",n)}}var g0=0,fm=(()=>{let e=class e{constructor(){this.graph=xn.required(),this.html=Kt(""),this.pending=Kt(!0),this.error=Kt(null),this.changeDetectorRef=b(ct),this.platform=b(Ll),this.id=`ng-doc-mermaid-viewer-${g0++}`;let o=b(iu,{optional:!0});if(!o)throw new Error('Mermaid is not provided. Make sure that you provided mermaid using "provideMermaid" function.');this.mermaid=o,b(Ro).themeChanges().subscribe(async()=>{let{svg:r}=await this.mermaid.render(this.id,this.graph());this.html.set(r)})}async ngOnInit(){if(id(this.platform))try{let{svg:o}=await this.mermaid.render(this.id,this.graph());this.html.set(o),this.pending.set(!1)}catch(o){this.error.set(o),this.pending.set(!1)}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=F({type:e,selectors:[["ng-doc-mermaid-viewer"]],inputs:{graph:[1,"graph"]},decls:3,vars:1,consts:[["magnifier",""],[1,"ng-doc-mermaid-preloader"],[1,"ng-doc-mermaid-error"],[1,"ng-doc-mermaid-container",3,"innerHTML"],[3,"magnifier"]],template:function(r,i){r&1&&W(0,p0,2,0,"div",1)(1,m0,2,1,"div",2)(2,f0,5,4),r&2&&K(i.pending()?0:i.error()?1:2)},dependencies:[$p,Gp,wi,Vi],styles:["[_nghost-%COMP%]{position:relative;display:block;border:var(--ng-doc-mermaid-viewer-border, 1px solid var(--ng-doc-border-color));margin:var(--ng-doc-mermaid-viewer-margin, var(--ng-doc-page-block-margin));background:var(--ng-doc-mermaid-viewer-background, var(--ng-doc-base-8));border-radius:var(--ng-doc-mermaid-viewer-border-radius, var(--ng-doc-base-gutter));min-height:150px}[_nghost-%COMP%]   ng-doc-magnifier-controller[_ngcontent-%COMP%]{position:absolute;bottom:calc(var(--ng-doc-base-gutter) * 2);right:calc(var(--ng-doc-base-gutter) * 2)}[_nghost-%COMP%]   .ng-doc-mermaid-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:calc(var(--ng-doc-base-gutter) * 2)}[_nghost-%COMP%]   .ng-doc-mermaid-preloader[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;height:120px}[_nghost-%COMP%]   .ng-doc-mermaid-error[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:120px;color:var(--ng-doc-alert)}"],changeDetection:0});let t=e;return t})();var h0=["inputElement"],y0=["resultContent"],C0=()=>[];function v0(t,e){t&1&&(S(0,"span",15)(1,"b"),j(2,"\u2022"),E()())}function S0(t,e){if(t&1&&(S(0,"span"),j(1),E(),W(2,v0,3,0,"span",15)),t&2){let n=e.$implicit,o=e.$index,r=T().$implicit;_(),Ot(n),_(),K(o!==r.index.breadcrumbs.length-1?2:-1)}}function _0(t,e){if(t&1&&(N(0,"div",14),he(1,"execute"),he(2,"ngDocHighlighterPipe"),he(3,"ngDocSanitizeHtml")),t&2){let n=T().$implicit,o=T(2);I("innerHTML",Rt(3,8,_t(2,5,n.index.content,_r(1,1,o.getPositions,"content",n))),vr)}}function E0(t,e){if(t&1){let n=nt();S(0,"a",9),ce("click",function(){Je(n);let r=T(2);return Xe(r.overlayRef.close())}),S(1,"div",10)(2,"ng-doc-tag",11),j(3),E(),S(4,"span",12),Oe(5,S0,3,2,null,null,Le),E()(),N(7,"h5",13),he(8,"execute"),he(9,"ngDocHighlighterPipe"),he(10,"ngDocSanitizeHtml"),W(11,_0,4,10,"div",14),E()}if(t&2){let n=e.$implicit,o=T(2);I("routerLink",n.index.route)("fragment",n.index.fragment),_(2),fe("data-ng-doc-page-type",n.index.pageType),_(),Pe(" ",n.index.pageType," "),_(2),Re(n.index.breadcrumbs),_(2),I("innerHTML",Rt(10,13,_t(9,10,n.index.section,_r(8,6,o.getPositions,"section",n)))||n.index.title,vr),_(4),K(n.index.content?11:-1)}}function I0(t,e){t&1&&j(0," Nothing found ")}function b0(t,e){t&1&&j(0," Please enter your search query ")}function x0(t,e){if(t&1&&(S(0,"div",16),W(1,I0,1,0),W(2,b0,1,0),E()),t&2){let n=T(3);_(),K(n.searchTerm.length?1:-1),_(),K(n.searchTerm.length?-1:2)}}function w0(t,e){t&1&&(S(0,"div",17),N(1,"ng-doc-spinner",11),j(2," Searching... "),E())}function T0(t,e){if(t&1&&(W(0,x0,3,2,"div",16),W(1,w0,3,0,"div",17)),t&2){let n=T();K(n!=null&&n.pending?-1:0),_(),K(n!=null&&n.pending?1:-1)}}function P0(t,e){if(t&1&&(S(0,"div",7,1)(2,"ng-doc-data-list",8),J(3,E0,12,15,"ng-template",null,2,pe)(5,T0,2,2,"ng-template",null,3,pe),E()()),t&2){let n=e,o=le(4),r=le(6);_(2),I("items",(n==null?null:n.result)??bn(3,C0))("itemContent",o)("emptyContent",r)}}var gm=(()=>{let e=class e{constructor(){this.searchTerm="",this.elementRef=b(Ge),this.overlayRef=b(Md),this.data=b(Yd),this.searchTerm=this.data.term}search(o){this.data.search(o),this.resultContent&&(this.resultContent.nativeElement.scrollTop=0)}getPositions(o,r){return r.positions[o]??[]}get listHostOrigin(){return this.inputElement??this.elementRef}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=F({type:e,selectors:[["ng-doc-search-dialog"]],viewQuery:function(r,i){if(r&1&&(Nt(h0,5,Ge),Nt(y0,5,Ge)),r&2){let s;vt(s=St())&&(i.inputElement=s.first),vt(s=St())&&(i.resultContent=s.first)}},hostVars:1,hostBindings:function(r,i){r&2&&$l("@popupAnimation",!0)},features:[Ln([{provide:Pd,useExisting:Nl(()=>e)}])],decls:7,vars:5,consts:[["inputElement",""],["resultContent",""],["itemContent",""],["emptyContent",""],[1,"ng-doc-search-dialog-container"],["icon","search","ngDocInputWrapperLeft",""],["ngDocInputString","","ngDocAutofocus","","placeholder","Find or ask anything...",3,"ngModelChange","selectAll","ngModel"],[1,"ng-doc-search-result-content"],[3,"items","itemContent","emptyContent"],[1,"ng-doc-search-option",3,"click","routerLink","fragment"],[1,"ng-doc-search-option-header"],["size","small"],["ng-doc-text","",1,"ng-doc-search-option-breadcrumbs"],["ng-doc-text","",1,"ng-doc-search-section-title",3,"innerHTML"],["ng-doc-text","",1,"ng-doc-search-content",3,"innerHTML"],[1,"ng-doc-search-option-breadcrumb-divider"],[1,"ng-doc-search-empty"],[1,"ng-doc-search-progress"]],template:function(r,i){if(r&1){let s=nt();S(0,"div",4)(1,"ng-doc-input-wrapper"),N(2,"ng-doc-icon",5),S(3,"input",6,0),ed("ngModelChange",function(c){return Je(s),Zl(i.searchTerm,c)||(i.searchTerm=c),Xe(c)}),ce("ngModelChange",function(c){return Je(s),Xe(i.search(c))}),E()(),W(5,P0,7,4,"div",7),he(6,"async"),E()}if(r&2){let s;_(3),I("selectAll",!0),Xl("ngModel",i.searchTerm),_(2),K((s=Rt(6,3,i.data.searchResults))?5:-1,s)}},dependencies:[rd,fi,Si,_i,tu,ue,jp,an,jo,jt,im,wi,Vi,zn,yi,fd,gd,hd],styles:["[_nghost-%COMP%]{display:block;width:800px;max-width:100%;--ng-doc-search-border-radius: var(--ng-doc-floated-border-radius);--ng-doc-input-height: calc(var(--ng-doc-base-gutter) * 7);--ng-doc-input-border: 1px solid var(--ng-doc-base-1);--ng-doc-input-border-hover: 1px solid var(--ng-doc-base-1);--ng-doc-floated-focus-border-color: transparent}@media (max-width: 1024px){[_nghost-%COMP%]{padding:calc(var(--ng-doc-base-gutter) * 5)}}@media (max-width: 768px){[_nghost-%COMP%]{padding:calc(var(--ng-doc-base-gutter) * 2)}}[_nghost-%COMP%]   ng-doc-icon[icon=search][_ngcontent-%COMP%]{--ng-doc-icon-width: calc(var(--ng-doc-base-gutter) * 6)}[_nghost-%COMP%]   ng-doc-input-wrapper[_ngcontent-%COMP%]:not(:last-child){--ng-doc-floated-border-radius: var(--ng-doc-search-border-radius) var(--ng-doc-search-border-radius) 0 0}[_nghost-%COMP%]   .ng-doc-search-dialog-container[_ngcontent-%COMP%]{box-shadow:#0000 0 0,#0000 0 0,#00000040 0 25px 50px -12px}[_nghost-%COMP%]   .ng-doc-search-result-content[_ngcontent-%COMP%]{max-height:70vh;overflow:auto;background-color:var(--ng-doc-background);border-radius:0 0 var(--ng-doc-search-border-radius) var(--ng-doc-search-border-radius);--ng-doc-option-padding: 0}[_nghost-%COMP%]   .ng-doc-search-result-content[data-ng-doc-mod=icon][_ngcontent-%COMP%]   .ng-doc-search-wrapper[_ngcontent-%COMP%]{padding:calc(var(--ng-doc-base-gutter) * 2) 0}[_nghost-%COMP%]   .ng-doc-search-result-content[data-ng-doc-mod=icon][_ngcontent-%COMP%]   .ng-doc-search-option[_ngcontent-%COMP%]{padding:12px 16px}[_nghost-%COMP%]   .ng-doc-search-option[_ngcontent-%COMP%]{display:block;padding:12px 36px;text-decoration:none}[_nghost-%COMP%]   .ng-doc-search-option[_ngcontent-%COMP%]   .ng-doc-search-option-header[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:calc(var(--ng-doc-base-gutter) / 2)}[_nghost-%COMP%]   .ng-doc-search-option[_ngcontent-%COMP%]   .ng-doc-search-option-header[_ngcontent-%COMP%]   ng-doc-tag[_ngcontent-%COMP%]{text-transform:uppercase;margin-right:var(--ng-doc-base-gutter);--ng-doc-font-weight: 500}[_nghost-%COMP%]   .ng-doc-search-option[_ngcontent-%COMP%]   .ng-doc-search-option-header[_ngcontent-%COMP%]   ng-doc-tag[data-ng-doc-page-type=guide][_ngcontent-%COMP%]{--ng-doc-tag-color: var(--ng-doc-guide-tag-color);--ng-doc-tag-background: var(--ng-doc-guide-tag-background)}[_nghost-%COMP%]   .ng-doc-search-option[_ngcontent-%COMP%]   .ng-doc-search-option-header[_ngcontent-%COMP%]   ng-doc-tag[data-ng-doc-page-type=api][_ngcontent-%COMP%]{--ng-doc-tag-color: var(--ng-doc-api-tag-color);--ng-doc-tag-background: var(--ng-doc-api-tag-background)}[_nghost-%COMP%]   .ng-doc-search-option[_ngcontent-%COMP%]   .ng-doc-search-option-header[_ngcontent-%COMP%]   .ng-doc-search-option-breadcrumbs[_ngcontent-%COMP%]{--ng-doc-text: var(--ng-doc-text-muted);--ng-doc-font-size: 12px;--ng-doc-line-height: 16px}[_nghost-%COMP%]   .ng-doc-search-option[_ngcontent-%COMP%]   .ng-doc-search-option-header[_ngcontent-%COMP%]   .ng-doc-search-option-breadcrumbs[_ngcontent-%COMP%]   .ng-doc-search-option-breadcrumb-divider[_ngcontent-%COMP%]{margin:0 6px}[_nghost-%COMP%]   .ng-doc-search-option[_ngcontent-%COMP%]   .ng-doc-search-section-title[_ngcontent-%COMP%]{display:block;color:var(--ng-doc-search-result-header-color, var(--ng-doc-text));--ng-doc-line-height: 20px;margin:4px 0}[_nghost-%COMP%]   .ng-doc-search-option[_ngcontent-%COMP%]   .ng-doc-search-content[_ngcontent-%COMP%]{display:block;color:var(--ng-doc-search-result-color, var(--ng-doc-text));--ng-doc-font-size: 14px;--ng-doc-line-height: 19px}[_nghost-%COMP%]   .ng-doc-search-empty[_ngcontent-%COMP%]{padding:0 22px}[_nghost-%COMP%]   .ng-doc-search-progress[_ngcontent-%COMP%]{display:flex;align-items:center}[_nghost-%COMP%]   .ng-doc-search-progress[_ngcontent-%COMP%]   ng-doc-spinner[_ngcontent-%COMP%]{margin-right:var(--ng-doc-base-gutter)}"],data:{animation:[xd]},changeDetection:0});let t=e;return t})();var A0=()=>({ctrlKey:!1,altKey:!1,shiftKey:!1,code:"Slash"}),hm=(()=>{let e=class e{constructor(){if(this.query=new ii(""),this.dialog=b(Qd),this.searchEngine=b(Vn,{optional:!0}),!this.searchEngine)throw new Error(`NgDoc: Search engine is not provided,
			please check this article: https://ng-doc.com/docs/getting-started/installation#configuring-application
			to learn how to provide it.`);this.searchResults=this.query.pipe(Dl(1),at(o=>this.searchEngine?.search(o).pipe(Rd())??wl),ai(1),_e())}open(){this.dialog.open(new Hi(gm),{hasBackdrop:!0,backdropClass:"ng-doc-blur-backdrop",panelClass:"ng-doc-transparent-dialog",positionStrategy:this.dialog.positionStrategy().centerHorizontally().top("5vh"),data:{term:this.query.value,search:o=>this.query.next(o),searchResults:this.searchResults}})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=F({type:e,selectors:[["ng-doc-search"]],decls:8,vars:3,consts:[[3,"ngDocHotkey"],["ng-doc-button-icon","","size","large","ngDocDropdownOrigin","",3,"click"],["icon","search",3,"size"],["ngDocDropdownOrigin",""],["icon","search","ngDocInputWrapperLeft",""],["ngDocInputString","","readonly","","placeholder","Search...",3,"click"],["ngDocInputWrapperRight","",1,"search-hotkey"]],template:function(r,i){r&1&&(At(0,0),ce("ngDocHotkey",function(){return i.open()}),S(1,"button",1),ce("click",function(){return i.open()}),N(2,"ng-doc-icon",2),E(),S(3,"ng-doc-input-wrapper",3),N(4,"ng-doc-icon",4),S(5,"input",5),ce("click",function(){return i.open()}),E(),S(6,"ng-doc-tag",6),j(7,"/"),E()(),Dt()),r&2&&(I("ngDocHotkey",bn(2,A0)),_(2),I("size",24))},dependencies:[ln,Zp,ue,Si,_i,yi,nm,jo],styles:["[_nghost-%COMP%]{--ng-doc-floated-border-radius: var(--ng-doc-base-gutter);--ng-doc-input-background-color: var(--ng-doc-base-1);--ng-doc-input-border: none;--ng-doc-input-border-hover: none;--ng-doc-icon-color: var(--ng-doc-base-7)}[_nghost-%COMP%]   ng-doc-input-wrapper[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]   ng-doc-input-wrapper[_ngcontent-%COMP%]   ng-doc-icon[_ngcontent-%COMP%], [_nghost-%COMP%]   ng-doc-input-wrapper[_ngcontent-%COMP%]   ng-doc-tag[_ngcontent-%COMP%]{cursor:pointer}@media (max-width: 1024px){[_nghost-%COMP%]   ng-doc-input-wrapper[_ngcontent-%COMP%]{display:none}}@media (min-width: 1024px){[_nghost-%COMP%]{width:240px}[_nghost-%COMP%]   button[ng-doc-button-icon][_ngcontent-%COMP%]{display:none}}.search-hotkey[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:calc(var(--ng-doc-base-gutter) * 3);height:calc(var(--ng-doc-base-gutter) * 3);margin-right:var(--ng-doc-base-gutter);--ng-doc-tag-border: 1px solid var(--ng-doc-base-6);--ng-doc-tag-color: var(--ng-doc-base-6);--ng-doc-tag-background: transparent}"],changeDetection:0});let t=e;return t})();var D0=[[["","ngDocNavbarLeft",""]],[["","ngDocNavbarRight",""]]],N0=["[ngDocNavbarLeft]","[ngDocNavbarRight]"];function O0(t,e){t&1&&N(0,"ng-doc-search")}var ym=(()=>{let e=class e{constructor(){this.window=b(Pi),this.ngZone=b(Pt),this.changeDetectorRef=b(ct),this.sidebarService=b(Wi),this.search=!0,this.hamburger=!0,this.glassEffect=!0,this.hasBorder=!1;let o=b(wt);Un(()=>{xl([Ke(this.window,"scroll").pipe(Fe(r=>(r.target?.scrollingElement?.scrollTop??0)>0),Po(),xt(!1),Et(this.ngZone)),this.sidebarService.isExpanded()]).pipe(Fe(([r,i])=>r||i&&this.sidebarService.isMobile),_e(o)).subscribe(r=>{this.hasBorder=r,this.changeDetectorRef.markForCheck()})})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=F({type:e,selectors:[["ng-doc-navbar"]],hostVars:3,hostBindings:function(r,i){r&2&&(fe("data-glass-effect",i.glassEffect),ui("has-border",i.hasBorder))},inputs:{search:"search",hamburger:"hamburger",glassEffect:"glassEffect"},ngContentSelectors:N0,decls:8,vars:2,consts:[[1,"navbar-container"],[1,"ng-doc-navbar-left"],[1,"ng-doc-navbar-right"],["ng-doc-button-icon","","size","large",1,"ng-doc-menu",3,"click"],["icon","menu",3,"size"]],template:function(r,i){r&1&&(Be(D0),S(0,"div",0)(1,"div",1),ge(2),E(),S(3,"div",2),W(4,O0,1,0,"ng-doc-search"),ge(5,1),S(6,"button",3),ce("click",function(){return i.sidebarService.toggle()}),N(7,"ng-doc-icon",4),E()()()),r&2&&(_(4),K(i.search?4:-1),_(3),I("size",24))},dependencies:[Mt,hm,ln,ue],styles:["[_nghost-%COMP%]{position:relative;display:flex;justify-content:center;height:100%;border-bottom:1px solid transparent;transition:var(--ng-doc-transition) border}[_nghost-%COMP%]:not([data-glass-effect=false]){background:color-mix(in srgb,var(--ng-doc-navbar-background) 60%,transparent);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px)}@supports not ((-webkit-backdrop-filter: none) or (backdrop-filter: none)){[_nghost-%COMP%]{background-color:var(--ng-doc-navbar-background)}}[data-glass-effect=false][_nghost-%COMP%]{background-color:var(--ng-doc-navbar-background)}.has-border[_nghost-%COMP%]{border-bottom:var(--ng-doc-navbar-border, );box-shadow:var(--ng-doc-shadow-color) 0 5px 20px -5px}[_nghost-%COMP%]   .navbar-container[_ngcontent-%COMP%]{display:flex;height:100%;width:100%;padding:0 var(--ng-doc-navbar-horizontal-padding);z-index:10;max-width:var(--ng-doc-app-max-width)}[_nghost-%COMP%]   .ng-doc-navbar-left[_ngcontent-%COMP%], [_nghost-%COMP%]   .ng-doc-navbar-right[_ngcontent-%COMP%]{display:flex;align-items:center}[_nghost-%COMP%]   .ng-doc-navbar-left[_ngcontent-%COMP%]{justify-content:flex-start;width:100%;max-width:var(--ng-doc-navbar-left-width)}[_nghost-%COMP%]   .ng-doc-navbar-right[_ngcontent-%COMP%]{justify-content:flex-end;margin-left:auto}[_nghost-%COMP%]   .ng-doc-menu[_ngcontent-%COMP%]{margin-left:calc(var(--ng-doc-base-gutter) * 2)}@media (min-width: 1024px){[_nghost-%COMP%]   .ng-doc-menu[_ngcontent-%COMP%]{display:none}}"],changeDetection:0});let t=e;return t})();var vm=rn(pd(),1);function R0(t,e){if(t&1&&N(0,"ng-doc-icon",5),t&2){let n=T(2).$implicit;I("customIcon",n.icon)}}function M0(t,e){if(t&1&&(W(0,R0,1,1,"ng-doc-icon",5),j(1)),t&2){let n=T().$implicit;K(n.icon?0:-1),_(),Pe(" ",n.title," ")}}function k0(t,e){if(t&1&&(S(0,"div",null,2),j(2),he(3,"execute"),E()),t&2){let n=le(1),o=T().$implicit,r=T();_(2),Pe(" ",_r(3,1,r.appendElement,o.content,n)," ")}}function U0(t,e){if(t&1&&(S(0,"ng-doc-tab",4),J(1,M0,2,2,"ng-template",null,0,pe)(3,k0,4,5,"ng-template",null,1,pe),E()),t&2){let n=e.$index,o=le(2),r=le(4);I("label",o)("content",r)("id",n)}}var Cm=(()=>{let e=class e{constructor(){this.tabs=[]}getActiveIndex(o){return Math.max(o.findIndex(r=>r.active),0)}appendElement(o,r){r.appendChild(o)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=F({type:e,selectors:[["ng-doc-tabs"]],inputs:{tabs:"tabs"},decls:4,vars:4,consts:[["label",""],["content",""],["element",""],[3,"openedTab"],[3,"label","content","id"],[3,"customIcon"]],template:function(r,i){r&1&&(S(0,"ng-doc-tab-group",3),he(1,"execute"),Oe(2,U0,5,3,"ng-doc-tab",4,Le),E()),r&2&&(I("openedTab",_t(1,1,i.getActiveIndex,i.tabs)),_(2),Re(i.tabs))},dependencies:[qo,co,zn,ue],styles:["[_nghost-%COMP%]{display:block;border-radius:var(--ng-doc-tabs-border-radius);border:var(--ng-doc-tabs-border);margin:var(--ng-doc-tabs-margin);overflow:hidden;--ng-doc-code-margin: 0;--ng-doc-code-border-radius: 0;--ng-doc-code-border: none;--ng-doc-tab-group-header-background: var(--ng-doc-base-2)}[_nghost-%COMP%]   ng-doc-icon[_ngcontent-%COMP%]{margin-right:calc(var(--ng-doc-base-gutter) / 2)}"],changeDetection:0});let t=e;return t})();var Sm={component:Kp,selector:"ng-doc-blockquote",extractOptions:t=>({content:[Array.from(t.childNodes)],inputs:{type:t.getAttribute("type")||"default",icon:t.getAttribute("icon")??void 0}})},_m={component:Oo,selector:"pre code",nodeToReplace:t=>t.closest("pre")??t,extractOptions:t=>({inputs:{name:t.parentElement?.getAttribute("name")||void 0,icon:t.parentElement?.getAttribute("icon")||void 0},content:[[t.closest("pre")??t]]})},Em={component:lm,selector:"ng-doc-demo",extractOptions:t=>({inputs:{componentName:t.getAttribute("componentName")||void 0,options:JSON.parse(t.querySelector("#options")?.textContent??"{}")}})},Im={component:um,selector:"ng-doc-demo-pane",extractOptions:t=>({inputs:{componentName:t.getAttribute("componentName")||void 0,options:JSON.parse(t.querySelector("#options")?.textContent??"")||{}}})},bm={component:pm,selector:"ng-doc-heading-anchor",extractOptions:t=>({inputs:{classes:t.getAttribute("class")?.split(" ")||[],anchor:t.getAttribute("anchor")||""}})},xm={component:ue,selector:"ng-doc-icon",extractOptions:t=>({inputs:{icon:t.getAttribute("icon")??"",size:Number(t.getAttribute("size"))||16}})},wm={component:mm,selector:'img:not([zoom="false"])',nodeToReplace:(t,e)=>{let o=e.get(eo).createElement("div");return t.parentNode?.insertBefore(o,t)??t},extractOptions:t=>({inputs:{src:t.getAttribute("src")??"",alt:t.getAttribute("alt")??""},content:[[t]]})},Tm={component:fm,selector:"pre.mermaid",extractOptions:t=>({inputs:{graph:t.textContent??""}})},Pm={component:gu,selector:"ng-doc-playground",extractOptions:t=>({inputs:{id:t.getAttribute("id")||void 0,properties:JSON.parse(t.querySelector("#data")?.textContent?.replace(/\n/g,"\\n")??"")||void 0,pipeName:t.querySelector("#pipeName")?.textContent||void 0,selectors:(t.querySelector("#selectors")?.textContent||"").split(",").map(e=>e.trim()).filter(vm.isPresent),options:JSON.parse(t.querySelector("#options")?.textContent??"")||{}}})},Am={component:Cm,selector:"ng-doc-tab",nodeToReplace:(t,e)=>{let o=e.get(eo).createElement("div");return t.parentNode?.insertBefore(o,t)??t},extractOptions:(t,e)=>{let n=t.getAttribute("group")??"",o=Array.from(e.querySelectorAll(`ng-doc-tab[group="${n}"]`)),r=o.map(i=>({title:i.getAttribute("name")??"",content:i,icon:i.getAttribute("icon")||void 0,active:i.hasAttribute("active")}));return o.forEach(i=>i.remove()),{inputs:{tabs:r}}}};function F0(t,e){if(t&1&&(S(0,"a",1)(1,"div",3),N(2,"ng-doc-icon",4),j(3," Previous "),E(),S(4,"div",5),j(5),E()()),t&2){let n=T();I("routerLink",n.prevPage.route),_(5),Ot(n.prevPage.title)}}function L0(t,e){if(t&1&&(S(0,"a",2)(1,"div",3),j(2," Next "),N(3,"ng-doc-icon",6),E(),S(4,"div",5),j(5),E()()),t&2){let n=T();I("routerLink",n.nextPage.route),_(5),Ot(n.nextPage.title)}}var Dm=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=F({type:e,selectors:[["ng-doc-page-navigation"]],inputs:{prevPage:"prevPage",nextPage:"nextPage"},decls:3,vars:2,consts:[[1,"ng-doc-navigation-controls"],[1,"ng-doc-prev-page",3,"routerLink"],[1,"ng-doc-next-page",3,"routerLink"],["ng-doc-text","","size","small",1,"ng-doc-navigation-page-label"],["icon","arrow-left","ngDocTextLeft",""],["ng-doc-text","",1,"ng-doc-navigation-page-title"],["icon","arrow-right","ngDocTextRight",""]],template:function(r,i){r&1&&(S(0,"div",0),W(1,F0,6,2,"a",1),W(2,L0,6,2,"a",2),E()),r&2&&(_(),K(i.prevPage?1:-1),_(),K(i.nextPage?2:-1))},dependencies:[ue,jt,Ei,Ii,an],styles:["[_nghost-%COMP%]   .ng-doc-navigation-controls[_ngcontent-%COMP%]{display:flex;margin-top:calc(var(--ng-doc-base-gutter) * 12);border-top:1px solid var(--ng-doc-base-2);padding-top:calc(var(--ng-doc-base-gutter) * 2)}[_nghost-%COMP%]   .ng-doc-navigation-controls[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-decoration:unset;transition:var(--ng-doc-transition);--ng-doc-button-hover-background: var(--ng-doc-base-1);--ng-doc-button-active-background: var(--ng-doc-base-2);--ng-doc-text: var(--ng-doc-base-9);--ng-doc-icon-color: var(--ng-doc-text)}[_nghost-%COMP%]   .ng-doc-navigation-controls[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{opacity:.6}[_nghost-%COMP%]   .ng-doc-navigation-controls[_ngcontent-%COMP%]   a.ng-doc-next-page[_ngcontent-%COMP%]{margin-left:auto}[_nghost-%COMP%]   .ng-doc-navigation-controls[_ngcontent-%COMP%]   a.ng-doc-prev-page[_ngcontent-%COMP%]{align-items:flex-start}[_nghost-%COMP%]   .ng-doc-navigation-controls[_ngcontent-%COMP%]   a.ng-doc-next-page[_ngcontent-%COMP%]{align-items:flex-end}[_nghost-%COMP%]   .ng-doc-navigation-controls[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .ng-doc-navigation-page-title[_ngcontent-%COMP%]{--ng-doc-text: var(--ng-doc-link-color)}"],changeDetection:0});let t=e;return t})();var B0=[[["ng-doc-navbar"]],[["","ngDocCustomNavbar",""]],"*",[["ng-doc-sidebar"]],[["","ngDocCustomSidebar",""]]],z0=["ng-doc-navbar","[ngDocCustomNavbar]","*","ng-doc-sidebar","[ngDocCustomSidebar]"];function V0(t,e){t&1&&(ge(0,3),ge(1,4))}function H0(t,e){if(t&1&&(At(0),j(1),Dt()),t&2){let n=e.polymorpheusOutlet;_(),Pe(" ",n)}}function W0(t,e){if(t&1&&(S(0,"footer"),J(1,H0,2,1,"ng-container",4),E()),t&2){let n=T();_(),I("polymorpheusOutlet",n.footerContent)}}var Nm=(()=>{let e=class e{constructor(){this.sidebar=!0,this.footerContent="",this.noWidthLimit=!1,this.sidebarService=b(Wi)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=F({type:e,selectors:[["ng-doc-root"]],viewQuery:function(r,i){if(r&1&&Nt(Xa,5),r&2){let s;vt(s=St())&&(i.sidenav=s.first)}},hostVars:1,hostBindings:function(r,i){r&2&&fe("data-ng-doc-no-width-limit",i.noWidthLimit)},inputs:{sidebar:"sidebar",footerContent:"footerContent",noWidthLimit:"noWidthLimit"},features:[Ln([])],ngContentSelectors:z0,decls:12,vars:6,consts:[["sidebarContent",""],[1,"ng-doc-root-wrapper"],[1,"ng-doc-header"],[3,"closeEvent","sidebar","opened","hasBackdrop"],[4,"polymorpheusOutlet"]],template:function(r,i){if(r&1){let s=nt();Be(B0),At(0),S(1,"div",1)(2,"div",2),ge(3),ge(4,1),E(),S(5,"main")(6,"ng-doc-sidenav",3),he(7,"async"),ce("closeEvent",function(){return Je(s),Xe(i.sidebarService.hide())}),J(8,V0,2,0,"ng-template",null,0,pe),ge(10,2),E()(),W(11,W0,2,1,"footer"),E(),Dt()}if(r&2){let s=le(9);_(6),I("sidebar",i.sidebar?s:null)("opened",Rt(7,4,i.sidebarService.isExpanded())??!0)("hasBackdrop",i.sidebarService.isMobile),_(5),K(i.footerContent?11:-1)}},dependencies:[Xa,Mt,cn,fi],styles:["[data-ng-doc-no-width-limit=true][_nghost-%COMP%]   .ng-doc-root-wrapper[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]{max-width:none}[_nghost-%COMP%]   .ng-doc-root-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}[_nghost-%COMP%]   .ng-doc-root-wrapper[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]{display:flex;width:100%;margin-left:auto;margin-right:auto;max-width:var(--ng-doc-app-max-width);padding:var(--ng-doc-main-padding);--ng-doc-sidenav-top: var(--ng-doc-navbar-height);--ng-doc-sidenav-width: var(--ng-doc-sidebar-width);--ng-doc-sidenav-content-padding: var(--ng-doc-page-padding)}[_nghost-%COMP%]   .ng-doc-root-wrapper[_ngcontent-%COMP%]   footer[_ngcontent-%COMP%]{margin-top:auto}[_nghost-%COMP%]   .ng-doc-root-wrapper[_ngcontent-%COMP%]   .ng-doc-header[_ngcontent-%COMP%]{position:fixed;top:0;height:var(--ng-doc-navbar-height);width:100%;z-index:15}"],changeDetection:0});let t=e;return t})();var Za=rn(Er(),1);var Om=(()=>{let e=class e{constructor(){this.link="",this.activeClass=[],this.matchOptions={fragment:"exact",paths:"subset",queryParams:"exact",matrixParams:"exact"};let o=b(Ge),r=b(Bn),i=b(eo);r.events.pipe(Te(s=>s instanceof Ci),Fe(()=>r.isActive(this.link,this.matchOptions)),Po(),_e()).subscribe(s=>{s?(0,Za.asArray)(this.activeClass).forEach(a=>i.addClass(o.nativeElement,a)):(0,Za.asArray)(this.activeClass).forEach(a=>i.removeClass(o.nativeElement,a))})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Tt({type:e,selectors:[["","ngDocRouteActive",""]],inputs:{link:[0,"ngDocRouteActive","link"],activeClass:"activeClass",matchOptions:"matchOptions"}});let t=e;return t})();var K0=["*"];function q0(t,e){t&1&&N(0,"ng-doc-dot")}function j0(t,e){if(t&1&&N(0,"ng-doc-icon",5),t&2){let n=T();I("ngDocRotator",n.expanded)}}function $0(t,e){if(t&1&&(At(0),j(1),Dt()),t&2){let n=e.polymorpheusOutlet;_(),Ot(n)}}function G0(t,e){if(t&1&&(S(0,"div",7),ge(1),J(2,$0,2,1,"ng-container",8),E()),t&2){let n=T();_(2),I("polymorpheusOutlet",n.content)}}var Y0=t=>[t];function Q0(t,e){if(t&1&&(S(0,"ng-doc-tag",2),j(1),E()),t&2){let n=e.$implicit;I("color",n.type||"success"),_(),Ot(n.text)}}var J0=t=>({item:t,root:!0}),X0=t=>({item:t,root:!1});function Z0(t,e){t&1&&Ct(0)}function eS(t,e){if(t&1&&J(0,Z0,1,0,"ng-container",3),t&2){let n=e.$implicit;T();let o=le(6);I("ngTemplateOutlet",o)("ngTemplateOutletContext",pi(2,J0,n))}}function tS(t,e){if(t&1&&(N(0,"ng-doc-sidebar-category",4),he(1,"bind"),he(2,"execute")),t&2){T();let n=le(2),o=T(),r=o.item,i=o.root,s=T();I("category",r)("expandable",!!(r!=null&&r.expandable))("expanded",!!(r!=null&&r.expanded)||!(r!=null&&r.expandable)||_t(2,8,_t(1,5,s.matchRoute,s),r.route))("isRoot",!!i)("content",n)}}function nS(t,e){t&1&&Ct(0)}function oS(t,e){if(t&1&&J(0,nS,1,0,"ng-container",3),t&2){let n=e.$implicit;T(4);let o=le(6);I("ngTemplateOutlet",o)("ngTemplateOutletContext",pi(2,X0,n))}}function rS(t,e){if(t&1&&(Oe(0,oS,1,4,"ng-container",null,Le),he(2,"bind"),he(3,"execute")),t&2){let n=T(2).item,o=T();Re(_t(3,3,_t(2,0,o.getNavigation,o),n))}}function iS(t,e){if(t&1&&(W(0,tS,3,11,"ng-doc-sidebar-category",4),J(1,rS,4,6,"ng-template",null,1,pe)),t&2){let n=T().item;K(n.hidden?-1:0)}}function sS(t,e){if(t&1&&N(0,"ng-doc-sidebar-item",5),t&2){let n=T(2).item;I("item",n)}}function aS(t,e){if(t&1&&W(0,sS,1,1,"ng-doc-sidebar-item",5),t&2){let n=T().item;K(n.hidden?-1:0)}}function cS(t,e){if(t&1&&W(0,iS,3,1)(1,aS,1,1),t&2){let n=e.item;K(n.children!=null&&n.children.length?0:1)}}var lS=(()=>{let e=class e{constructor(){this.isRoot=!1,this.content="",this.expandable=!0,this.expanded=!0,this.location=b(va),this.changeDetectorRef=b(ct),this.location.onUrlChange(()=>{this.location.path().includes(this.category.route??"",0)&&this.expand()})}toggle(){this.expanded?this.collapse():this.expand()}expand(){this.category?.expandable&&(this.expanded=!0,this.changeDetectorRef.markForCheck())}collapse(){this.category?.expandable&&(this.expanded=!1,this.changeDetectorRef.markForCheck())}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=F({type:e,selectors:[["ng-doc-sidebar-category"]],hostVars:2,hostBindings:function(r,i){r&2&&fe("data-ng-doc-is-root",i.isRoot)("data-ng-doc-expandable",i.expandable)},inputs:{category:"category",isRoot:"isRoot",content:"content",expandable:"expandable",expanded:"expanded"},ngContentSelectors:K0,decls:10,vars:6,consts:[["contentTemplate",""],[1,"ng-doc-sidebar-category-wrapper"],[1,"ng-doc-sidebar-category-button",3,"click"],["activeClass","active",1,"ng-doc-sidebar-category",3,"ngDocRouteActive"],["ng-doc-text",""],["icon","chevron-right","ngDocTextLeft","",3,"ngDocRotator"],["collapseMod","hide",3,"expanded","content"],[1,"ng-doc-sidebar-category-children"],[4,"polymorpheusOutlet"]],template:function(r,i){if(r&1){let s=nt();Be(),S(0,"div",1)(1,"button",2),ce("click",function(){return Je(s),Xe(i.toggle())}),S(2,"div",3),W(3,q0,1,0,"ng-doc-dot"),S(4,"span",4),W(5,j0,1,1,"ng-doc-icon",5),j(6),E()()(),N(7,"ng-doc-expander",6),J(8,G0,3,1,"ng-template",null,0,pe),E()}if(r&2){let s=le(9);_(2),I("ngDocRouteActive",i.category.route),_(),K(i.expandable?-1:3),_(2),K(i.category.expandable?5:-1),_(),Pe(" ",i.category.title," "),_(),I("expanded",i.expanded)("content",s)}},dependencies:[Om,Ja,jt,ue,Ei,om,Jd,Mt,cn],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;--ng-doc-sidebar-category-indent: calc( var(--ng-doc-sidebar-item-indent) + calc(var(--ng-doc-base-gutter) * 2) );--ng-doc-icon-color: var(--ng-doc-text)}[data-ng-doc-expandable=false][_nghost-%COMP%]   .ng-doc-sidebar-category-button[_ngcontent-%COMP%]{padding:var(--ng-doc-sidebar-vetical-padding) var(--ng-doc-base-gutter) var(--ng-doc-sidebar-vetical-padding) var(--ng-doc-sidebar-item-indent)}[data-ng-doc-expandable=true][_nghost-%COMP%]   .ng-doc-sidebar-category-button[_ngcontent-%COMP%]{padding:var(--ng-doc-sidebar-vetical-padding) var(--ng-doc-base-gutter) var(--ng-doc-sidebar-vetical-padding) var(--ng-doc-sidebar-item-indent);cursor:pointer;border-radius:var(--ng-doc-base-gutter)}[data-ng-doc-expandable=true][_nghost-%COMP%]   .ng-doc-sidebar-category-button[_ngcontent-%COMP%]:hover{background-color:var(--ng-doc-base-1)}[_nghost-%COMP%]   .ng-doc-sidebar-category-button[_ngcontent-%COMP%]{display:flex;flex-direction:column;border:unset;background-color:unset;width:100%}[_nghost-%COMP%]   .ng-doc-sidebar-category-button[_ngcontent-%COMP%]   .ng-doc-sidebar-category[_ngcontent-%COMP%]{display:flex;align-items:center;--ng-doc-dot-background: var(--ng-doc-base-4);--ng-doc-text: var(--ng-doc-heading-color)}[_nghost-%COMP%]   .ng-doc-sidebar-category-button[_ngcontent-%COMP%]   .ng-doc-sidebar-category[_ngcontent-%COMP%]   ng-doc-dot[_ngcontent-%COMP%]{margin-right:calc(var(--ng-doc-base-gutter) * 2)}[_nghost-%COMP%]   .ng-doc-sidebar-category-button[_ngcontent-%COMP%]   .ng-doc-sidebar-category.active[_ngcontent-%COMP%]{--ng-doc-font-weight: 600;--ng-doc-dot-background: var(--ng-doc-primary)}[_nghost-%COMP%]   .ng-doc-sidebar-category-button[_ngcontent-%COMP%]   span[ng-doc-text][_ngcontent-%COMP%]{flex-shrink:0;margin-right:var(--ng-doc-base-gutter)}[_nghost-%COMP%]   .ng-doc-sidebar-category-children[_ngcontent-%COMP%]{padding-bottom:calc(var(--ng-doc-base-gutter) * 2);--ng-doc-sidebar-item-indent: var(--ng-doc-sidebar-category-indent)}"],changeDetection:0});let t=e;return t})(),dS=(()=>{let e=class e{constructor(){this.item=xn.required(),this.statuses=to(()=>(this.item().metadata?.tags.status??[]).map(r=>{let[i,s]=r.split(/\s+(.+)/);return{type:i.replace(/^:/,""),text:s}}))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=F({type:e,selectors:[["ng-doc-sidebar-item"]],inputs:{item:[1,"item"]},decls:6,vars:5,consts:[["routerLinkActive","active",1,"ng-doc-sidebar-link",3,"routerLink"],["ng-doc-text","",3,"absoluteContent"],["size","small","mod","light",3,"color"]],template:function(r,i){r&1&&(S(0,"a",0),N(1,"ng-doc-dot"),S(2,"span",1),j(3),Oe(4,Q0,2,2,"ng-doc-tag",2,Le),E()()),r&2&&(I("routerLink",pi(3,Y0,i.item().route)),_(2),I("absoluteContent",!0),_(),Pe(" ",i.item().title," "),_(),Re(i.statuses()))},dependencies:[vd,an,Ja,jt,jo],styles:["[_nghost-%COMP%]{display:block}.ng-doc-sidebar-link[_ngcontent-%COMP%]{font-family:var(--ng-doc-heading-font-family);font-variant:no-contextual;color:var(--ng-doc-text);line-height:var(--ng-doc-line-height);font-size:var(--ng-doc-font-size);font-weight:var(--ng-doc-font-weight);display:flex;align-items:center;gap:var(--ng-doc-base-gutter);padding:var(--ng-doc-sidebar-vetical-padding) var(--ng-doc-sidebar-horizontal-padding) var(--ng-doc-sidebar-vetical-padding) var(--ng-doc-sidebar-item-indent);text-decoration:inherit;cursor:pointer;border-radius:var(--ng-doc-base-gutter);--ng-doc-icon-color: var(--ng-doc-text);--ng-doc-dot-background: var(--ng-doc-base-4);--ng-doc-font-weight: 400}.ng-doc-sidebar-link[_ngcontent-%COMP%]   ng-doc-dot[_ngcontent-%COMP%]{margin-right:var(--ng-doc-base-gutter);z-index:1}.ng-doc-sidebar-link[_ngcontent-%COMP%]:hover:not(.active){background:var(--ng-doc-base-1)}.ng-doc-sidebar-link.active[_ngcontent-%COMP%]{background:color-mix(in srgb,var(--ng-doc-primary) 7%,transparent);--ng-doc-text: var(--ng-doc-primary);--ng-doc-dot-background: var(--ng-doc-primary)}.ng-doc-sidebar-link.active[_ngcontent-%COMP%]   ng-doc-dot[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_animation .5s ease-out}@keyframes _ngcontent-%COMP%_animation{0%{transform:scale(1)}50%{transform:scale(2)}to{transform:scale(1)}}.ng-doc-sidebar-link[_ngcontent-%COMP%]   ng-doc-tag[_ngcontent-%COMP%]{vertical-align:middle;margin-left:var(--ng-doc-base-gutter);font-weight:600}"],changeDetection:0});let t=e;return t})(),Rm=(()=>{let e=class e{constructor(){this.location=b(va),this.context=b(Ti)}getNavigation(o){return o?o.children??[]:this.context.navigation}matchRoute(o){return this.location.path().includes(o??"",0)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=F({type:e,selectors:[["ng-doc-sidebar"]],decls:7,vars:5,consts:[["sidebarTemplate",""],["categoryContent",""],[1,"ng-doc-side-bar-wrapper"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"category","expandable","expanded","isRoot","content"],[3,"item"]],template:function(r,i){r&1&&(S(0,"div",2),Oe(1,eS,1,4,"ng-container",null,Le),he(3,"bind"),he(4,"execute"),J(5,cS,2,1,"ng-template",null,0,pe),E()),r&2&&(_(),Re(Rt(4,3,_t(3,0,i.getNavigation,i))))},dependencies:[No,lS,dS,zn,nu],styles:["[_nghost-%COMP%]{display:block;height:calc(100vh - var(--ng-doc-navbar-height));width:100%;overflow:hidden;padding:var(--ng-doc-sidebar-padding) 0;background:var(--ng-doc-sidebar-background);box-shadow:var(--ng-doc-sidebar-shadow);--ng-doc-sidebar-category-indent: var(--ng-doc-sidebar-horizontal-padding);--ng-doc-sidebar-item-indent: var(--ng-doc-sidebar-horizontal-padding)}[_nghost-%COMP%]   .ng-doc-side-bar-wrapper[_ngcontent-%COMP%]{position:relative;overflow:auto;max-height:100%}"],changeDetection:0});let t=e;return t})();function uS(t,e){if(t&1&&(S(0,"ng-doc-smooth-resize",5),j(1),E()),t&2){let n=T();I("trigger",n.currentTheme.name),_(),Pe(' "',n.currentTheme.name,'" theme ')}}function pS(t,e){t&1&&(S(0,"div",2),j(1,"A"),E())}function mS(t,e){t&1&&N(0,"ng-doc-icon",3)}function fS(t,e){t&1&&N(0,"ng-doc-icon",4)}var Mm=(()=>{let e=class e{constructor(){this.themes=[{name:"Auto",theme:"auto"},{name:"Light",theme:null},{name:"Dark",theme:"dark"}],this.documentElement=b(Ze).documentElement,this.themeService=b(Ro)}get currentTheme(){let o=this.documentElement.getAttribute("data-theme");return this.themes.find(({theme:r})=>r===o)??this.themes[0]}get nextTheme(){let o=this.themes.findIndex(({theme:r})=>r===this.currentTheme.theme);return this.themes[(o+1)%this.themes.length]}toggleTheme(){let{theme:o}=this.nextTheme;this.themeService.set(o??void 0)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=F({type:e,selectors:[["ng-doc-theme-toggle"]],decls:6,vars:2,consts:[["tooltipContent",""],["ng-doc-button-icon","","size","large",3,"click","ngDocTooltip"],[1,"letter"],["icon","sun","size","24"],["icon","moon","size","24"],[3,"trigger"]],template:function(r,i){if(r&1){let s=nt();S(0,"button",1),ce("click",function(){return Je(s),Xe(i.toggleTheme())}),J(1,uS,2,2,"ng-template",null,0,pe),W(3,pS,2,0,"div",2)(4,mS,1,0,"ng-doc-icon",3)(5,fS,1,0,"ng-doc-icon",4),E()}if(r&2){let s=le(2);I("ngDocTooltip",s),_(3),K(i.currentTheme===i.themes[0]?3:i.currentTheme===i.themes[1]?4:5)}},dependencies:[ln,xi,ue,bi],styles:["[_nghost-%COMP%]{display:inline-block;height:40px;width:40px}[_nghost-%COMP%]   .letter[_ngcontent-%COMP%]{font-family:var(--ng-doc-font-family);font-variant:no-contextual;color:var(--ng-doc-text);line-height:var(--ng-doc-line-height);font-size:var(--ng-doc-font-size);font-weight:var(--ng-doc-font-weight);--ng-doc-font-size: 26px;--ng-doc-font-weight: 600}"],changeDetection:0});let t=e;return t})();var qi=rn(pd(),1);var gS=["ng-doc-toc-element",""],hS=["*"],yS=()=>[],CS=["selection"];function vS(t,e){if(t&1&&(S(0,"li",5),j(1),E()),t&2){let n=e.$implicit,o=T();I("path",n.path)("hash",n.hash)("level",n.level)("selected",n===o.activeItem()),_(),Pe(" ",n.title," ")}}var km=(()=>{let e=class e{constructor(){this.path="",this.hash="",this.selected=!1,this.level=1,this.elementRef=b(Ge)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=F({type:e,selectors:[["li","ng-doc-toc-element",""]],hostVars:2,hostBindings:function(r,i){r&2&&fe("data-ng-doc-selected",i.selected)("data-ng-doc-level",i.level)},inputs:{path:"path",hash:"hash",selected:"selected",level:"level"},attrs:gS,ngContentSelectors:hS,decls:3,vars:7,consts:[[3,"routerLink","fragment"]],template:function(r,i){r&1&&(Be(),S(0,"a",0),he(1,"decodeUriComponent"),ge(2),E()),r&2&&(Fn("padding-left","calc(var(--ng-doc-toc-indent) * "+i.level+")"),I("routerLink",bn(6,yS))("fragment",Rt(1,4,i.hash)))},dependencies:[an,ru],styles:['[_nghost-%COMP%]{display:flex;margin:0;color:var(--ng-doc-text)}[data-ng-doc-level="1"][_nghost-%COMP%]   a[_ngcontent-%COMP%]{padding-left:var(--ng-doc-base-gutter)}[data-ng-doc-selected=true][_nghost-%COMP%]{color:var(--ng-doc-primary)}[_nghost-%COMP%]:hover{cursor:pointer;color:var(--ng-doc-primary)}[_nghost-%COMP%]   a[_ngcontent-%COMP%]{font-family:var(--ng-doc-font-family);font-variant:no-contextual;color:var(--ng-doc-text);line-height:var(--ng-doc-line-height);font-size:var(--ng-doc-font-size);font-weight:var(--ng-doc-font-weight);padding:calc(var(--ng-doc-base-gutter) / 2);color:inherit;width:100%;text-decoration:none;word-break:break-word;--ng-doc-font-size: 14px}'],changeDetection:0});let t=e;return t})(),Um=(()=>{let e=class e{constructor(){this.tableOfContent=[],this.elements=new Cr,this.activeItem=Kt(void 0),this.document=b(Ze),this.ngZone=b(Pt),this.changeDetectorRef=b(ct),this.renderer=b(eo),this.router=b(Bn),this.destroyRef=b(wt),Un({write:()=>{let o=Ke(this.document,"scroll").pipe(Te(()=>!!this.tableOfContent.length),Fe(s=>s.target.scrollingElement),xt(this.document.scrollingElement),Fe(s=>{let a=s.scrollTop*100/(s.scrollHeight-s.offsetHeight),c=s.scrollTop+s.offsetHeight*a/100;return this.tableOfContent.length?this.tableOfContent.reduce((l,d)=>{let u=l.element.getBoundingClientRect().top+s.scrollTop,p=d.element.getBoundingClientRect().top+s.scrollTop;return Math.abs(p-c)<Math.abs(u-c)?d:l}):null}),Te(qi.isPresent)),r=this.router.events.pipe(Fe(s=>{if(s instanceof yd){let a=this.tableOfContent.find(c=>c.path.includes(s.routerEvent.url));if(a)return a}return null}),Te(qi.isPresent),gr(20)),i=this.elements.changes.pipe(Fe(()=>this.activeItem()),Te(qi.isPresent));fr(fr(o,r).pipe(Po()),i).pipe(gr(0),Et(this.ngZone),_e(this.destroyRef)).subscribe(this.select.bind(this))}})}ngOnInit(){this.activeItem.set(this.tableOfContent[0])}select(o){let r=this.tableOfContent.indexOf(o);if(this.selection){let i=this.elements.toArray()[r]?.elementRef.nativeElement;i&&(this.renderer.setStyle(this.selection.nativeElement,"top",`${i.offsetTop}px`),this.renderer.setStyle(this.selection.nativeElement,"height",`${i.offsetHeight}px`),i.scrollIntoView({block:"nearest"}))}this.activeItem.set(o)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=F({type:e,selectors:[["ng-doc-toc"]],viewQuery:function(r,i){if(r&1&&(Nt(CS,5,Ge),Nt(km,5)),r&2){let s;vt(s=St())&&(i.selection=s.first),vt(s=St())&&(i.elements=s)}},inputs:{tableOfContent:"tableOfContent"},decls:7,vars:0,consts:[["selection",""],[1,"ng-doc-toc-wrapper"],[1,"ng-doc-toc-container"],[1,"ng-doc-toc-selection"],[1,"ng-doc-toc"],["ng-doc-toc-element","",3,"path","hash","level","selected"]],template:function(r,i){r&1&&(S(0,"div",1)(1,"div",2),N(2,"div",3,0),S(4,"ul",4),Oe(5,vS,2,5,"li",5,Le),E()()()),r&2&&(_(5),Re(i.tableOfContent))},dependencies:[km],styles:["[_nghost-%COMP%]   .ng-doc-toc-wrapper[_ngcontent-%COMP%]{position:relative;width:var(--ng-doc-toc-width)}[_nghost-%COMP%]   .ng-doc-toc-wrapper[_ngcontent-%COMP%]   .ng-doc-toc-container[_ngcontent-%COMP%]{position:fixed;top:calc(var(--ng-doc-navbar-height) + var(--ng-doc-toc-top-padding));overflow-y:auto;height:calc(100% - var(--ng-doc-navbar-height) - var(--ng-doc-base-gutter) * 5);width:var(--ng-doc-toc-width)}[_nghost-%COMP%]   .ng-doc-toc-wrapper[_ngcontent-%COMP%]   .ng-doc-toc-selection[_ngcontent-%COMP%]{position:absolute;transform:translate(-50%);width:3px;border-radius:calc(var(--ng-doc-base-gutter) / 2);background-color:var(--ng-doc-primary);left:calc(var(--ng-doc-toc-margin) + 1px);transition:var(--ng-doc-transition)}[_nghost-%COMP%]   .ng-doc-toc-wrapper[_ngcontent-%COMP%]   .ng-doc-toc[_ngcontent-%COMP%]{list-style:none;margin:0 0 0 var(--ng-doc-toc-margin);border-left:1px solid var(--ng-doc-base-3);padding:0 0 0 var(--ng-doc-base-gutter)}@media (max-width: 1200px){[_nghost-%COMP%]   .ng-doc-toc-wrapper[_ngcontent-%COMP%]{display:none}}"],changeDetection:0});let t=e;return t})();var Fm=[uu,xm,bm,Sm,pu,Tm,_m,Em,Im,Pm,Am,wm];var Lm={breadcrumbs:am,navigation:Dm,toc:Um};function Bm(t){return[Sr(()=>{b(sd).setOffset([0,120])}),Sr(async()=>{await b(mu).initialize(t?.shiki)}),...sm(t?.uiKit)]}function zm(t){return[{provide:au,useValue:t}]}function Vm(t,...e){return{provide:Vn,useFactory:()=>new t(...e)}}function Hm(){return[{provide:Ti,useValue:{navigation:[{title:"Getting Started",route:"/getting-started",expandable:!0,expanded:!1,hidden:!1,metadata:{description:"",tags:{}},children:[{title:"What is OmniAuth?",route:"/getting-started/what-is-omni-auth",hidden:!1,metadata:{description:"",tags:{}}},{title:"Installation",route:"/getting-started/installation",order:5,hidden:!1,metadata:{description:"",tags:{}}},{title:"Support and Compatibility",route:"/getting-started/support-and-compatibility",order:50,hidden:!1,metadata:{description:"",tags:{}}}]},{title:"Live Demo",route:"/demo",expandable:!0,expanded:!1,order:5,hidden:!1,metadata:{description:"",tags:{}},children:[{title:"Cognito with Material",route:"/demo/cognito-with-material",hidden:!1,metadata:{description:"",tags:{}}}]},{title:"Contribution",route:"/contribution",order:90,hidden:!1,metadata:{description:"",tags:{}}},{title:"API References",route:"/api",order:99,hidden:!1,metadata:{description:"",tags:{}}}]}},{provide:cu,useValue:""},{provide:lu,useValue:{light:"",dark:""}}]}var Wm=[{path:"api",title:"API References",loadChildren:()=>import("./chunk-ZPOQEI4M.js")},{path:"api/type-aliases/omni-auth-core/AuthConfig",title:"AuthConfig",loadChildren:()=>import("./chunk-PKTIJFP4.js")},{path:"api/variables/omni-auth-core/AUTH_CONFIG",title:"AUTH_CONFIG",loadChildren:()=>import("./chunk-XLNOC6ZU.js")},{path:"api/variables/omni-auth-core/configureAuth",title:"configureAuth",loadChildren:()=>import("./chunk-EONFVXW6.js")},{path:"api/classes/omni-auth-core/JwtToken",title:"JwtToken",loadChildren:()=>import("./chunk-FOGI6TTH.js")},{path:"api/classes/omni-auth-core/TokenProxy",title:"TokenProxy",loadChildren:()=>import("./chunk-6KS2IS36.js")},{path:"api/type-aliases/omni-auth-core/TokenFetcher",title:"TokenFetcher",loadChildren:()=>import("./chunk-NKYCLFG5.js")},{path:"api/variables/omni-auth-core/jwtInterceptor",title:"jwtInterceptor",loadChildren:()=>import("./chunk-AGBQFL6K.js")},{path:"api/variables/omni-auth-core/emailToFullName",title:"emailToFullName",loadChildren:()=>import("./chunk-JD3RQQ64.js")},{path:"api/classes/omni-auth-core/ErrorMessagePipe",title:"ErrorMessagePipe",loadChildren:()=>import("./chunk-SWIJPELR.js")},{path:"api/classes/omni-auth-core/RuntimeError",title:"RuntimeError",loadChildren:()=>import("./chunk-4B52XZUC.js")},{path:"api/classes/omni-auth-core/ActionErrorCollectorService",title:"ActionErrorCollectorService",loadChildren:()=>import("./chunk-I53MWLSG.js")},{path:"api/classes/omni-auth-core/FlowError",title:"FlowError",loadChildren:()=>import("./chunk-3QFXLF3O.js")},{path:"api/classes/omni-auth-core/OmniAuthError",title:"OmniAuthError",loadChildren:()=>import("./chunk-EADFFD64.js")},{path:"api/type-aliases/omni-auth-core/AuthState",title:"AuthState",loadChildren:()=>import("./chunk-FZ6FHXKM.js")},{path:"api/classes/omni-auth-core/OmniAuthService",title:"OmniAuthService",loadChildren:()=>import("./chunk-FPJJKRM2.js")},{path:"api/variables/omni-auth-core/isError",title:"isError",loadChildren:()=>import("./chunk-OHLLU4EY.js")},{path:"api/type-aliases/omni-auth-core/SocialSignInProviderKey",title:"SocialSignInProviderKey",loadChildren:()=>import("./chunk-46IVBANE.js")},{path:"api/type-aliases/omni-auth-core/CustomSignInProviderKey",title:"CustomSignInProviderKey",loadChildren:()=>import("./chunk-XEYLJQQ3.js")},{path:"api/type-aliases/omni-auth-core/SignInProviderKey",title:"SignInProviderKey",loadChildren:()=>import("./chunk-PGCWNVHV.js")},{path:"api/type-aliases/omni-auth-core/ContentConfig",title:"ContentConfig",loadChildren:()=>import("./chunk-MAOA4EHC.js")},{path:"api/variables/omni-auth-core/defaultContent",title:"defaultContent",loadChildren:()=>import("./chunk-AL735I7L.js")},{path:"api/variables/omni-auth-core/onlyAuthenticated",title:"onlyAuthenticated",loadChildren:()=>import("./chunk-6FXD3P4K.js")},{path:"api/variables/omni-auth-core/onlyGuest",title:"onlyGuest",loadChildren:()=>import("./chunk-HQQDNXV7.js")},{path:"api/classes/omni-auth-core/AuthRouteService",title:"AuthRouteService",loadChildren:()=>import("./chunk-JIP7KFLS.js")},{path:"api/type-aliases/omni-auth-core/JwtPayloadType",title:"JwtPayloadType",loadChildren:()=>import("./chunk-URQ4Q4MJ.js")},{path:"api/type-aliases/omni-auth-core/JwtPayloadStandardClaims",title:"JwtPayloadStandardClaims",loadChildren:()=>import("./chunk-E4374NN5.js")},{path:"api/variables/omni-auth-core/passwordPattern",title:"passwordPattern",loadChildren:()=>import("./chunk-MFD6ZPUU.js")},{path:"api/variables/omni-auth-core/emailPattern",title:"emailPattern",loadChildren:()=>import("./chunk-XXB62UCY.js")},{path:"api/type-aliases/omni-auth-core/ActionErrorCode",title:"ActionErrorCode",loadChildren:()=>import("./chunk-SMA2FQ6X.js")},{path:"api/classes/omni-auth-cognito/AuthAwsCognitoService",title:"AuthAwsCognitoService",loadChildren:()=>import("./chunk-LAJL2EBB.js")},{path:"api/classes/omni-auth-cognito/CognitoAuthState",title:"CognitoAuthState",loadChildren:()=>import("./chunk-GQ3EFXYA.js")},{path:"api/type-aliases/omni-auth-cognito/AuthCognitoConfig",title:"AuthCognitoConfig",loadChildren:()=>import("./chunk-367AWAJE.js")},{path:"api/variables/omni-auth-cognito/AUTH_COGNITO_CONFIG",title:"AUTH_COGNITO_CONFIG",loadChildren:()=>import("./chunk-L3GTMSAN.js")},{path:"api/variables/omni-auth-cognito/configureAuthCognitoConnector",title:"configureAuthCognitoConnector",loadChildren:()=>import("./chunk-7IMIEB7L.js")},{path:"api/type-aliases/omni-auth-ui-material/AuthComponentConfig",title:"AuthComponentConfig",loadChildren:()=>import("./chunk-SFWGKGZ2.js")},{path:"api/classes/omni-auth-ui-material/AuthComponent",title:"AuthComponent",loadChildren:()=>import("./chunk-SZNWMWEF.js")},{path:"api/classes/omni-auth-ui-material/SocialButtonsComponent",title:"SocialButtonsComponent",loadChildren:()=>import("./chunk-VKXXZCXL.js")},{path:"api/classes/omni-auth-ui-material/AuthenticatedComponent",title:"AuthenticatedComponent",loadChildren:()=>import("./chunk-J2IDZNGR.js")},{path:"api/classes/omni-auth-ui-material/ConfirmSignUpComponent",title:"ConfirmSignUpComponent",loadChildren:()=>import("./chunk-MMW4A4PR.js")},{path:"api/classes/omni-auth-ui-material/PrintErrorComponent",title:"PrintErrorComponent",loadChildren:()=>import("./chunk-DT7BFYTR.js")},{path:"api/classes/omni-auth-ui-material/ResetPasswordComponent",title:"ResetPasswordComponent",loadChildren:()=>import("./chunk-3PY7RR2B.js")},{path:"api/type-aliases/omni-auth-ui-material/SignInComponentConfig",title:"SignInComponentConfig",loadChildren:()=>import("./chunk-WDARH2AA.js")},{path:"api/classes/omni-auth-ui-material/SignInComponent",title:"SignInComponent",loadChildren:()=>import("./chunk-XTMOKYMV.js")},{path:"api/type-aliases/omni-auth-ui-material/SignUpComponentConfig",title:"SignUpComponentConfig",loadChildren:()=>import("./chunk-3MM7Y6YR.js")},{path:"api/classes/omni-auth-ui-material/SignUpComponent",title:"SignUpComponent",loadChildren:()=>import("./chunk-SENDGEYS.js")},{path:"api/type-aliases/omni-auth-ui-material/SignInProvider",title:"SignInProvider",loadChildren:()=>import("./chunk-LYT2P2MY.js")},{path:"api/classes/omni-auth-ui-material/HostStateMatcher",title:"HostStateMatcher",loadChildren:()=>import("./chunk-7YQL2RCH.js")},{path:"api/classes/omni-auth-ui-material/ReplacePipe",title:"ReplacePipe",loadChildren:()=>import("./chunk-56QU5D6X.js")},{path:"api/classes/omni-auth-ui-material/ButtonComponent",title:"ButtonComponent",loadChildren:()=>import("./chunk-DIW3NA6Z.js")},{path:"api/classes/omni-auth-ui-material/InputComponent",title:"InputComponent",loadChildren:()=>import("./chunk-ZKCET7LT.js")},{path:"api/classes/omni-auth-ui-material/LoaderOverlayDirective",title:"LoaderOverlayDirective",loadChildren:()=>import("./chunk-XA6VVCXW.js")},{path:"api/classes/omni-auth-ui-material/LoaderComponent",title:"LoaderComponent",loadChildren:()=>import("./chunk-SEMB3QZU.js")},{path:"api/type-aliases/omni-auth-ui-material/MessageType",title:"MessageType",loadChildren:()=>import("./chunk-WHYJYQGH.js")},{path:"api/classes/omni-auth-ui-material/MessageComponent",title:"MessageComponent",loadChildren:()=>import("./chunk-TXFPTAXX.js")},{path:"demo",title:"Live Demo",providers:[...hu.providers??[]],children:[{path:"",redirectTo:"cognito-with-material",pathMatch:"full"},{path:"cognito-with-material",title:"Cognito with Material",loadChildren:()=>import("./chunk-7QHOUG35.js")}]},{path:"getting-started",title:"Getting Started",providers:[...yu.providers??[]],children:[{path:"",redirectTo:"installation",pathMatch:"full"},{path:"installation",title:"Installation",loadChildren:()=>import("./chunk-RQYYY35V.js")},{path:"what-is-omni-auth",title:"What is OmniAuth?",loadChildren:()=>import("./chunk-N2BG2ZBO.js")},{path:"support-and-compatibility",title:"Support and Compatibility",loadChildren:()=>import("./chunk-SKJNLRE7.js")}]},{path:"contribution",title:"Contribution",loadChildren:()=>import("./chunk-OTGPNVKZ.js")}];function Km(t){return new oe(3e3,!1)}function SS(){return new oe(3100,!1)}function _S(){return new oe(3101,!1)}function ES(t){return new oe(3001,!1)}function IS(t){return new oe(3003,!1)}function bS(t){return new oe(3004,!1)}function jm(t,e){return new oe(3005,!1)}function $m(){return new oe(3006,!1)}function Gm(){return new oe(3007,!1)}function Ym(t,e){return new oe(3008,!1)}function Qm(t){return new oe(3002,!1)}function Jm(t,e,n,o,r){return new oe(3010,!1)}function Xm(){return new oe(3011,!1)}function Zm(){return new oe(3012,!1)}function ef(){return new oe(3200,!1)}function tf(){return new oe(3202,!1)}function nf(){return new oe(3013,!1)}function of(t){return new oe(3014,!1)}function rf(t){return new oe(3015,!1)}function sf(t){return new oe(3016,!1)}function af(t,e){return new oe(3404,!1)}function xS(t){return new oe(3502,!1)}function cf(t){return new oe(3503,!1)}function lf(){return new oe(3300,!1)}function df(t){return new oe(3504,!1)}function uf(t){return new oe(3301,!1)}function pf(t,e){return new oe(3302,!1)}function mf(t){return new oe(3303,!1)}function ff(t,e){return new oe(3400,!1)}function gf(t){return new oe(3401,!1)}function hf(t){return new oe(3402,!1)}function yf(t,e){return new oe(3505,!1)}function Tn(t){switch(t.length){case 0:return new oo;case 1:return t[0];default:return new vi(t)}}function oc(t,e,n=new Map,o=new Map){let r=[],i=[],s=-1,a=null;if(e.forEach(c=>{let l=c.get("offset"),d=l==s,u=d&&a||new Map;c.forEach((p,m)=>{let f=m,g=p;if(m!=="offset")switch(f=t.normalizePropertyName(f,r),g){case Ir:g=n.get(m);break;case qt:g=o.get(m);break;default:g=t.normalizeStyleValue(m,f,g,r);break}u.set(f,g)}),d||i.push(u),a=u,s=l}),r.length)throw xS(r);return i}function ji(t,e,n,o){switch(e){case"start":t.onStart(()=>o(n&&ec(n,"start",t)));break;case"done":t.onDone(()=>o(n&&ec(n,"done",t)));break;case"destroy":t.onDestroy(()=>o(n&&ec(n,"destroy",t)));break}}function ec(t,e,n){let o=n.totalTime,r=!!n.disabled,i=$i(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,o??t.totalTime,r),s=t._data;return s!=null&&(i._data=s),i}function $i(t,e,n,o,r="",i=0,s){return{element:t,triggerName:e,fromState:n,toState:o,phaseName:r,totalTime:i,disabled:!!s}}function ut(t,e,n){let o=t.get(e);return o||t.set(e,o=n),o}function rc(t){let e=t.indexOf(":"),n=t.substring(1,e),o=t.slice(e+1);return[n,o]}var wS=typeof document>"u"?null:document.documentElement;function Gi(t){let e=t.parentNode||t.host||null;return e===wS?null:e}function TS(t){return t.substring(1,6)=="ebkit"}var lo=null,qm=!1;function Cf(t){lo||(lo=PS()||{},qm=lo.style?"WebkitAppearance"in lo.style:!1);let e=!0;return lo.style&&!TS(t)&&(e=t in lo.style,!e&&qm&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in lo.style)),e}function PS(){return typeof document<"u"?document.body:null}function ic(t,e){for(;e;){if(e===t)return!0;e=Gi(e)}return!1}function sc(t,e,n){if(n)return Array.from(t.querySelectorAll(e));let o=t.querySelector(e);return o?[o]:[]}var AS=1e3,ac="{{",DS="}}",cc="ng-enter",Yi="ng-leave",Tr="ng-trigger",Pr=".ng-trigger",lc="ng-animating",Qi=".ng-animating";function pn(t){if(typeof t=="number")return t;let e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:tc(parseFloat(e[1]),e[2])}function tc(t,e){switch(e){case"s":return t*AS;default:return t}}function Ar(t,e,n){return t.hasOwnProperty("duration")?t:NS(t,e,n)}function NS(t,e,n){let o=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,i=0,s="";if(typeof t=="string"){let a=t.match(o);if(a===null)return e.push(Km(t)),{duration:0,delay:0,easing:""};r=tc(parseFloat(a[1]),a[2]);let c=a[3];c!=null&&(i=tc(parseFloat(c),a[4]));let l=a[5];l&&(s=l)}else r=t;if(!n){let a=!1,c=e.length;r<0&&(e.push(SS()),a=!0),i<0&&(e.push(_S()),a=!0),a&&e.splice(c,0,Km(t))}return{duration:r,delay:i,easing:s}}function vf(t){return t.length?t[0]instanceof Map?t:t.map(e=>new Map(Object.entries(e))):[]}function $t(t,e,n){e.forEach((o,r)=>{let i=Ji(r);n&&!n.has(r)&&n.set(r,t.style[i]),t.style[i]=o})}function Wn(t,e){e.forEach((n,o)=>{let r=Ji(o);t.style[r]=""})}function $o(t){return Array.isArray(t)?t.length==1?t[0]:Id(t):t}function Sf(t,e,n){let o=e.params||{},r=dc(t);r.length&&r.forEach(i=>{o.hasOwnProperty(i)||n.push(ES(i))})}var nc=new RegExp(`${ac}\\s*(.+?)\\s*${DS}`,"g");function dc(t){let e=[];if(typeof t=="string"){let n;for(;n=nc.exec(t);)e.push(n[1]);nc.lastIndex=0}return e}function Go(t,e,n){let o=`${t}`,r=o.replace(nc,(i,s)=>{let a=e[s];return a==null&&(n.push(IS(s)),a=""),a.toString()});return r==o?t:r}var OS=/-+([a-z0-9])/g;function Ji(t){return t.replace(OS,(...e)=>e[1].toUpperCase())}function _f(t,e){return t===0||e===0}function Ef(t,e,n){if(n.size&&e.length){let o=e[0],r=[];if(n.forEach((i,s)=>{o.has(s)||r.push(s),o.set(s,i)}),r.length)for(let i=1;i<e.length;i++){let s=e[i];r.forEach(a=>s.set(a,Xi(t,a)))}}return e}function pt(t,e,n){switch(e.type){case X.Trigger:return t.visitTrigger(e,n);case X.State:return t.visitState(e,n);case X.Transition:return t.visitTransition(e,n);case X.Sequence:return t.visitSequence(e,n);case X.Group:return t.visitGroup(e,n);case X.Animate:return t.visitAnimate(e,n);case X.Keyframes:return t.visitKeyframes(e,n);case X.Style:return t.visitStyle(e,n);case X.Reference:return t.visitReference(e,n);case X.AnimateChild:return t.visitAnimateChild(e,n);case X.AnimateRef:return t.visitAnimateRef(e,n);case X.Query:return t.visitQuery(e,n);case X.Stagger:return t.visitStagger(e,n);default:throw bS(e.type)}}function Xi(t,e){return window.getComputedStyle(t)[e]}var Tc=(()=>{class t{validateStyleProperty(n){return Cf(n)}containsElement(n,o){return ic(n,o)}getParentElement(n){return Gi(n)}query(n,o,r){return sc(n,o,r)}computeStyle(n,o,r){return r||""}animate(n,o,r,i,s,a=[],c){return new oo(r,i)}static \u0275fac=function(o){return new(o||t)};static \u0275prov=sn({token:t,factory:t.\u0275fac})}return t})(),po=class{static NOOP=new Tc},mo=class{};var RS=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),os=class extends mo{normalizePropertyName(e,n){return Ji(e)}normalizeStyleValue(e,n,o,r){let i="",s=o.toString().trim();if(RS.has(n)&&o!==0&&o!=="0")if(typeof o=="number")i="px";else{let a=o.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&r.push(jm(e,o))}return s+i}};var rs="*";function MS(t,e){let n=[];return typeof t=="string"?t.split(/\s*,\s*/).forEach(o=>kS(o,n,e)):n.push(t),n}function kS(t,e,n){if(t[0]==":"){let c=US(t,n);if(typeof c=="function"){e.push(c);return}t=c}let o=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(o==null||o.length<4)return n.push(rf(t)),e;let r=o[1],i=o[2],s=o[3];e.push(If(r,s));let a=r==rs&&s==rs;i[0]=="<"&&!a&&e.push(If(s,r))}function US(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,o)=>parseFloat(o)>parseFloat(n);case":decrement":return(n,o)=>parseFloat(o)<parseFloat(n);default:return e.push(sf(t)),"* => *"}}var Zi=new Set(["true","1"]),es=new Set(["false","0"]);function If(t,e){let n=Zi.has(t)||es.has(t),o=Zi.has(e)||es.has(e);return(r,i)=>{let s=t==rs||t==r,a=e==rs||e==i;return!s&&n&&typeof r=="boolean"&&(s=r?Zi.has(t):es.has(t)),!a&&o&&typeof i=="boolean"&&(a=i?Zi.has(e):es.has(e)),s&&a}}var Rf=":self",FS=new RegExp(`s*${Rf}s*,?`,"g");function Mf(t,e,n,o){return new hc(t).build(e,n,o)}var bf="",hc=class{_driver;constructor(e){this._driver=e}build(e,n,o){let r=new yc(n);return this._resetContextStyleTimingState(r),pt(this,$o(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector=bf,e.collectedStyles=new Map,e.collectedStyles.set(bf,new Map),e.currentTime=0}visitTrigger(e,n){let o=n.queryCount=0,r=n.depCount=0,i=[],s=[];return e.name.charAt(0)=="@"&&n.errors.push($m()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),a.type==X.State){let c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(d=>{c.name=d,i.push(this.visitState(c,n))}),c.name=l}else if(a.type==X.Transition){let c=this.visitTransition(a,n);o+=c.queryCount,r+=c.depCount,s.push(c)}else n.errors.push(Gm())}),{type:X.Trigger,name:e.name,states:i,transitions:s,queryCount:o,depCount:r,options:null}}visitState(e,n){let o=this.visitStyle(e.styles,n),r=e.options&&e.options.params||null;if(o.containsDynamicStyles){let i=new Set,s=r||{};o.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{dc(c).forEach(l=>{s.hasOwnProperty(l)||i.add(l)})})}),i.size&&n.errors.push(Ym(e.name,[...i.values()]))}return{type:X.State,name:e.name,style:o,options:r?{params:r}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;let o=pt(this,$o(e.animation),n),r=MS(e.expr,n.errors);return{type:X.Transition,matchers:r,animation:o,queryCount:n.queryCount,depCount:n.depCount,options:uo(e.options)}}visitSequence(e,n){return{type:X.Sequence,steps:e.steps.map(o=>pt(this,o,n)),options:uo(e.options)}}visitGroup(e,n){let o=n.currentTime,r=0,i=e.steps.map(s=>{n.currentTime=o;let a=pt(this,s,n);return r=Math.max(r,n.currentTime),a});return n.currentTime=r,{type:X.Group,steps:i,options:uo(e.options)}}visitAnimate(e,n){let o=VS(e.timings,n.errors);n.currentAnimateTimings=o;let r,i=e.styles?e.styles:lt({});if(i.type==X.Keyframes)r=this.visitKeyframes(i,n);else{let s=e.styles,a=!1;if(!s){a=!0;let l={};o.easing&&(l.easing=o.easing),s=lt(l)}n.currentTime+=o.duration+o.delay;let c=this.visitStyle(s,n);c.isEmptyStep=a,r=c}return n.currentAnimateTimings=null,{type:X.Animate,timings:o,style:r,options:null}}visitStyle(e,n){let o=this._makeStyleAst(e,n);return this._validateStyleAst(o,n),o}_makeStyleAst(e,n){let o=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)typeof a=="string"?a===qt?o.push(a):n.errors.push(Qm(a)):o.push(new Map(Object.entries(a)));let i=!1,s=null;return o.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!i)){for(let c of a.values())if(c.toString().indexOf(ac)>=0){i=!0;break}}}),{type:X.Style,styles:o,easing:s,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,n){let o=n.currentAnimateTimings,r=n.currentTime,i=n.currentTime;o&&i>0&&(i-=o.duration+o.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,c)=>{let l=n.collectedStyles.get(n.currentQuerySelector),d=l.get(c),u=!0;d&&(i!=r&&i>=d.startTime&&r<=d.endTime&&(n.errors.push(Jm(c,d.startTime,d.endTime,i,r)),u=!1),i=d.startTime),u&&l.set(c,{startTime:i,endTime:r}),n.options&&Sf(a,n.options,n.errors)})})}visitKeyframes(e,n){let o={type:X.Keyframes,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(Xm()),o;let r=1,i=0,s=[],a=!1,c=!1,l=0,d=e.steps.map(h=>{let v=this._makeStyleAst(h,n),x=v.offset!=null?v.offset:zS(v.styles),P=0;return x!=null&&(i++,P=v.offset=x),c=c||P<0||P>1,a=a||P<l,l=P,s.push(P),v});c&&n.errors.push(Zm()),a&&n.errors.push(ef());let u=e.steps.length,p=0;i>0&&i<u?n.errors.push(tf()):i==0&&(p=r/(u-1));let m=u-1,f=n.currentTime,g=n.currentAnimateTimings,C=g.duration;return d.forEach((h,v)=>{let x=p>0?v==m?1:p*v:s[v],P=x*C;n.currentTime=f+g.delay+P,g.duration=P,this._validateStyleAst(h,n),h.offset=x,o.styles.push(h)}),o}visitReference(e,n){return{type:X.Reference,animation:pt(this,$o(e.animation),n),options:uo(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:X.AnimateChild,options:uo(e.options)}}visitAnimateRef(e,n){return{type:X.AnimateRef,animation:this.visitReference(e.animation,n),options:uo(e.options)}}visitQuery(e,n){let o=n.currentQuerySelector,r=e.options||{};n.queryCount++,n.currentQuery=e;let[i,s]=LS(e.selector);n.currentQuerySelector=o.length?o+" "+i:i,ut(n.collectedStyles,n.currentQuerySelector,new Map);let a=pt(this,$o(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=o,{type:X.Query,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:uo(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(nf());let o=e.timings==="full"?{duration:0,delay:0,easing:"full"}:Ar(e.timings,n.errors,!0);return{type:X.Stagger,animation:pt(this,$o(e.animation),n),timings:o,options:null}}};function LS(t){let e=!!t.split(/\s*,\s*/).find(n=>n==Rf);return e&&(t=t.replace(FS,"")),t=t.replace(/@\*/g,Pr).replace(/@\w+/g,n=>Pr+"-"+n.slice(1)).replace(/:animating/g,Qi),[t,e]}function BS(t){return t?y({},t):null}var yc=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(e){this.errors=e}};function zS(t){if(typeof t=="string")return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){let o=n;e=parseFloat(o.get("offset")),o.delete("offset")}});else if(t instanceof Map&&t.has("offset")){let n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}function VS(t,e){if(t.hasOwnProperty("duration"))return t;if(typeof t=="number"){let i=Ar(t,e).duration;return uc(i,0,"")}let n=t;if(n.split(/\s+/).some(i=>i.charAt(0)=="{"&&i.charAt(1)=="{")){let i=uc(0,0,"");return i.dynamic=!0,i.strValue=n,i}let r=Ar(n,e);return uc(r.duration,r.delay,r.easing)}function uo(t){return t?(t=y({},t),t.params&&(t.params=BS(t.params))):t={},t}function uc(t,e,n){return{duration:t,delay:e,easing:n}}function Pc(t,e,n,o,r,i,s=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:o,duration:r,delay:i,totalTime:r+i,easing:s,subTimeline:a}}var Nr=class{_map=new Map;get(e){return this._map.get(e)||[]}append(e,n){let o=this._map.get(e);o||this._map.set(e,o=[]),o.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}},HS=1,WS=":enter",KS=new RegExp(WS,"g"),qS=":leave",jS=new RegExp(qS,"g");function kf(t,e,n,o,r,i=new Map,s=new Map,a,c,l=[]){return new Cc().buildKeyframes(t,e,n,o,r,i,s,a,c,l)}var Cc=class{buildKeyframes(e,n,o,r,i,s,a,c,l,d=[]){l=l||new Nr;let u=new vc(e,n,l,r,i,d,[]);u.options=c;let p=c.delay?pn(c.delay):0;u.currentTimeline.delayNextStep(p),u.currentTimeline.setStyles([s],null,u.errors,c),pt(this,o,u);let m=u.timelines.filter(f=>f.containsAnimation());if(m.length&&a.size){let f;for(let g=m.length-1;g>=0;g--){let C=m[g];if(C.element===n){f=C;break}}f&&!f.allowOnlyTimelineStyles()&&f.setStyles([a],null,u.errors,c)}return m.length?m.map(f=>f.buildKeyframes()):[Pc(n,[],[],[],0,p,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){let o=n.subInstructions.get(n.element);if(o){let r=n.createSubContext(e.options),i=n.currentTimeline.currentTime,s=this._visitSubInstructions(o,r,r.options);i!=s&&n.transformIntoNewTimeline(s)}n.previousNode=e}visitAnimateRef(e,n){let o=n.createSubContext(e.options);o.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,o),this.visitReference(e.animation,o),n.transformIntoNewTimeline(o.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,o){for(let r of e){let i=r?.delay;if(i){let s=typeof i=="number"?i:pn(Go(i,r?.params??{},n.errors));o.delayNextStep(s)}}}_visitSubInstructions(e,n,o){let i=n.currentTimeline.currentTime,s=o.duration!=null?pn(o.duration):null,a=o.delay!=null?pn(o.delay):null;return s!==0&&e.forEach(c=>{let l=n.appendInstructionToTimeline(c,s,a);i=Math.max(i,l.duration+l.delay)}),i}visitReference(e,n){n.updateOptions(e.options,!0),pt(this,e.animation,n),n.previousNode=e}visitSequence(e,n){let o=n.subContextCount,r=n,i=e.options;if(i&&(i.params||i.delay)&&(r=n.createSubContext(i),r.transformIntoNewTimeline(),i.delay!=null)){r.previousNode.type==X.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=is);let s=pn(i.delay);r.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>pt(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>o&&r.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){let o=[],r=n.currentTimeline.currentTime,i=e.options&&e.options.delay?pn(e.options.delay):0;e.steps.forEach(s=>{let a=n.createSubContext(e.options);i&&a.delayNextStep(i),pt(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),o.push(a.currentTimeline)}),o.forEach(s=>n.currentTimeline.mergeTimelineCollectedStyles(s)),n.transformIntoNewTimeline(r),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){let o=e.strValue,r=n.params?Go(o,n.params,n.errors):o;return Ar(r,n.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){let o=n.currentAnimateTimings=this._visitTiming(e.timings,n),r=n.currentTimeline;o.delay&&(n.incrementTime(o.delay),r.snapshotCurrentStyles());let i=e.style;i.type==X.Keyframes?this.visitKeyframes(i,n):(n.incrementTime(o.duration),this.visitStyle(i,n),r.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){let o=n.currentTimeline,r=n.currentAnimateTimings;!r&&o.hasCurrentStyleProperties()&&o.forwardFrame();let i=r&&r.easing||e.easing;e.isEmptyStep?o.applyEmptyStep(i):o.setStyles(e.styles,i,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){let o=n.currentAnimateTimings,r=n.currentTimeline.duration,i=o.duration,a=n.createSubContext().currentTimeline;a.easing=o.easing,e.styles.forEach(c=>{let l=c.offset||0;a.forwardTime(l*i),a.setStyles(c.styles,c.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(r+i),n.previousNode=e}visitQuery(e,n){let o=n.currentTimeline.currentTime,r=e.options||{},i=r.delay?pn(r.delay):0;i&&(n.previousNode.type===X.Style||o==0&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=is);let s=o,a=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,n.errors);n.currentQueryTotal=a.length;let c=null;a.forEach((l,d)=>{n.currentQueryIndex=d;let u=n.createSubContext(e.options,l);i&&u.delayNextStep(i),l===n.element&&(c=u.currentTimeline),pt(this,e.animation,u),u.currentTimeline.applyStylesToKeyframe();let p=u.currentTimeline.currentTime;s=Math.max(s,p)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(s),c&&(n.currentTimeline.mergeTimelineCollectedStyles(c),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){let o=n.parentContext,r=n.currentTimeline,i=e.timings,s=Math.abs(i.duration),a=s*(n.currentQueryTotal-1),c=s*n.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":c=a-c;break;case"full":c=o.currentStaggerTime;break}let d=n.currentTimeline;c&&d.delayNextStep(c);let u=d.currentTime;pt(this,e.animation,n),n.previousNode=e,o.currentStaggerTime=r.currentTime-u+(r.startTime-o.currentTimeline.startTime)}},is={},vc=class t{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=is;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(e,n,o,r,i,s,a,c){this._driver=e,this.element=n,this.subInstructions=o,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=a,this.currentTimeline=c||new ss(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;let o=e,r=this.options;o.duration!=null&&(r.duration=pn(o.duration)),o.delay!=null&&(r.delay=pn(o.delay));let i=o.params;if(i){let s=r.params;s||(s=this.options.params={}),Object.keys(i).forEach(a=>{(!n||!s.hasOwnProperty(a))&&(s[a]=Go(i[a],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let n=this.options.params;if(n){let o=e.params={};Object.keys(n).forEach(r=>{o[r]=n[r]})}}return e}createSubContext(e=null,n,o){let r=n||this.element,i=new t(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,o||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(e),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(e){return this.previousNode=is,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,o){let r={duration:n??e.duration,delay:this.currentTimeline.currentTime+(o??0)+e.delay,easing:""},i=new Sc(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,o,r,i,s){let a=[];if(r&&a.push(this.element),e.length>0){e=e.replace(KS,"."+this._enterClassName),e=e.replace(jS,"."+this._leaveClassName);let c=o!=1,l=this._driver.query(this.element,e,c);o!==0&&(l=o<0?l.slice(l.length+o,l.length):l.slice(0,o)),a.push(...l)}return!i&&a.length==0&&s.push(of(n)),a}},ss=class t{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(e,n,o,r){this._driver=e,this.element=n,this.startTime=o,this._elementTimelineStylesLookup=r,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let n=this._keyframes.size===1&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=HS,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,o]of this._globalTimelineStyles)this._backFill.set(n,o||qt),this._currentKeyframe.set(n,qt);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,o,r){n&&this._previousKeyframe.set("easing",n);let i=r&&r.params||{},s=$S(e,this._globalTimelineStyles);for(let[a,c]of s){let l=Go(c,i,o);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??qt),this._updateStyle(a,l)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,o)=>{let r=this._styleSummary.get(o);(!r||n.time>r.time)&&this._updateStyle(o,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,n=new Set,o=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((a,c)=>{let l=new Map([...this._backFill,...a]);l.forEach((d,u)=>{d===Ir?e.add(u):d===qt&&n.add(u)}),o||l.set("offset",c/this.duration),r.push(l)});let i=[...e.values()],s=[...n.values()];if(o){let a=r[0],c=new Map(a);a.set("offset",0),c.set("offset",1),r=[a,c]}return Pc(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}},Sc=class extends ss{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(e,n,o,r,i,s,a=!1){super(e,n,s.delay),this.keyframes=o,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:o,easing:r}=this.timings;if(this._stretchStartingKeyframe&&n){let i=[],s=o+n,a=n/s,c=new Map(e[0]);c.set("offset",0),i.push(c);let l=new Map(e[0]);l.set("offset",xf(a)),i.push(l);let d=e.length-1;for(let u=1;u<=d;u++){let p=new Map(e[u]),m=p.get("offset"),f=n+m*o;p.set("offset",xf(f/s)),i.push(p)}o=s,n=0,r="",e=i}return Pc(this.element,e,this.preStyleProps,this.postStyleProps,o,n,r,!0)}};function xf(t,e=3){let n=Math.pow(10,e-1);return Math.round(t*n)/n}function $S(t,e){let n=new Map,o;return t.forEach(r=>{if(r==="*"){o??=e.keys();for(let i of o)n.set(i,qt)}else for(let[i,s]of r)n.set(i,s)}),n}function wf(t,e,n,o,r,i,s,a,c,l,d,u,p){return{type:0,element:t,triggerName:e,isRemovalTransition:r,fromState:n,fromStyles:i,toState:o,toStyles:s,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:d,totalTime:u,errors:p}}var pc={},as=class{_triggerName;ast;_stateStyles;constructor(e,n,o){this._triggerName=e,this.ast=n,this._stateStyles=o}match(e,n,o,r){return GS(this.ast.matchers,e,n,o,r)}buildStyles(e,n,o){let r=this._stateStyles.get("*");return e!==void 0&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(n,o):new Map}build(e,n,o,r,i,s,a,c,l,d){let u=[],p=this.ast.options&&this.ast.options.params||pc,m=a&&a.params||pc,f=this.buildStyles(o,m,u),g=c&&c.params||pc,C=this.buildStyles(r,g,u),h=new Set,v=new Map,x=new Map,P=r==="void",k={params:Uf(g,p),delay:this.ast.options?.delay},O=d?[]:kf(e,n,this.ast.animation,i,s,f,C,k,l,u),w=0;return O.forEach(L=>{w=Math.max(L.duration+L.delay,w)}),u.length?wf(n,this._triggerName,o,r,P,f,C,[],[],v,x,w,u):(O.forEach(L=>{let q=L.element,Y=ut(v,q,new Set);L.preStyleProps.forEach(re=>Y.add(re));let we=ut(x,q,new Set);L.postStyleProps.forEach(re=>we.add(re)),q!==n&&h.add(q)}),wf(n,this._triggerName,o,r,P,f,C,O,[...h.values()],v,x,w))}};function GS(t,e,n,o,r){return t.some(i=>i(e,n,o,r))}function Uf(t,e){let n=y({},e);return Object.entries(t).forEach(([o,r])=>{r!=null&&(n[o]=r)}),n}var _c=class{styles;defaultParams;normalizer;constructor(e,n,o){this.styles=e,this.defaultParams=n,this.normalizer=o}buildStyles(e,n){let o=new Map,r=Uf(e,this.defaultParams);return this.styles.styles.forEach(i=>{typeof i!="string"&&i.forEach((s,a)=>{s&&(s=Go(s,r,n));let c=this.normalizer.normalizePropertyName(a,n);s=this.normalizer.normalizeStyleValue(a,c,s,n),o.set(a,s)})}),o}};function YS(t,e,n){return new Ec(t,e,n)}var Ec=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(e,n,o){this.name=e,this.ast=n,this._normalizer=o,n.states.forEach(r=>{let i=r.options&&r.options.params||{};this.states.set(r.name,new _c(r.style,i,o))}),Tf(this.states,"true","1"),Tf(this.states,"false","0"),n.transitions.forEach(r=>{this.transitionFactories.push(new as(e,r,this.states))}),this.fallbackTransition=QS(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,o,r){return this.transitionFactories.find(s=>s.match(e,n,o,r))||null}matchStyles(e,n,o){return this.fallbackTransition.buildStyles(e,n,o)}};function QS(t,e,n){let o=[(s,a)=>!0],r={type:X.Sequence,steps:[],options:null},i={type:X.Transition,animation:r,matchers:o,options:null,queryCount:0,depCount:0};return new as(t,i,e)}function Tf(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}var JS=new Nr,Ic=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(e,n,o){this.bodyNode=e,this._driver=n,this._normalizer=o}register(e,n){let o=[],r=[],i=Mf(this._driver,n,o,r);if(o.length)throw cf(o);this._animations.set(e,i)}_buildPlayer(e,n,o){let r=e.element,i=oc(this._normalizer,e.keyframes,n,o);return this._driver.animate(r,i,e.duration,e.delay,e.easing,[],!0)}create(e,n,o={}){let r=[],i=this._animations.get(e),s,a=new Map;if(i?(s=kf(this._driver,n,i,cc,Yi,new Map,new Map,o,JS,r),s.forEach(d=>{let u=ut(a,d.element,new Map);d.postStyleProps.forEach(p=>u.set(p,null))})):(r.push(lf()),s=[]),r.length)throw df(r);a.forEach((d,u)=>{d.forEach((p,m)=>{d.set(m,this._driver.computeStyle(u,m,qt))})});let c=s.map(d=>{let u=a.get(d.element);return this._buildPlayer(d,new Map,u)}),l=Tn(c);return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){let n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);let o=this.players.indexOf(n);o>=0&&this.players.splice(o,1)}_getPlayer(e){let n=this._playersById.get(e);if(!n)throw uf(e);return n}listen(e,n,o,r){let i=$i(n,"","","");return ji(this._getPlayer(e),o,i,r),()=>{}}command(e,n,o,r){if(o=="register"){this.register(e,r[0]);return}if(o=="create"){let s=r[0]||{};this.create(e,n,s);return}let i=this._getPlayer(e);switch(o){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e);break}}},Pf="ng-animate-queued",XS=".ng-animate-queued",mc="ng-animate-disabled",ZS=".ng-animate-disabled",e_="ng-star-inserted",t_=".ng-star-inserted",n_=[],Ff={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},o_={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Gt="__ng_removed",Or=class{namespaceId;value;options;get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;let o=e&&e.hasOwnProperty("value"),r=o?e.value:e;if(this.value=i_(r),o){let i=e,{value:s}=i,a=ri(i,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let n=e.params;if(n){let o=this.options.params;Object.keys(n).forEach(r=>{o[r]==null&&(o[r]=n[r])})}}},Dr="void",fc=new Or(Dr),bc=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(e,n,o){this.id=e,this.hostElement=n,this._engine=o,this._hostClassName="ng-tns-"+e,Ut(n,this._hostClassName)}listen(e,n,o,r){if(!this._triggers.has(n))throw pf(o,n);if(o==null||o.length==0)throw mf(n);if(!s_(o))throw ff(o,n);let i=ut(this._elementListeners,e,[]),s={name:n,phase:o,callback:r};i.push(s);let a=ut(this._engine.statesByElement,e,new Map);return a.has(n)||(Ut(e,Tr),Ut(e,Tr+"-"+n),a.set(n,fc)),()=>{this._engine.afterFlush(()=>{let c=i.indexOf(s);c>=0&&i.splice(c,1),this._triggers.has(n)||a.delete(n)})}}register(e,n){return this._triggers.has(e)?!1:(this._triggers.set(e,n),!0)}_getTrigger(e){let n=this._triggers.get(e);if(!n)throw gf(e);return n}trigger(e,n,o,r=!0){let i=this._getTrigger(n),s=new Rr(this.id,n,e),a=this._engine.statesByElement.get(e);a||(Ut(e,Tr),Ut(e,Tr+"-"+n),this._engine.statesByElement.set(e,a=new Map));let c=a.get(n),l=new Or(o,this.id);if(!(o&&o.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(n,l),c||(c=fc),!(l.value===Dr)&&c.value===l.value){if(!l_(c.params,l.params)){let g=[],C=i.matchStyles(c.value,c.params,g),h=i.matchStyles(l.value,l.params,g);g.length?this._engine.reportError(g):this._engine.afterFlush(()=>{Wn(e,C),$t(e,h)})}return}let p=ut(this._engine.playersByElement,e,[]);p.forEach(g=>{g.namespaceId==this.id&&g.triggerName==n&&g.queued&&g.destroy()});let m=i.matchTransition(c.value,l.value,e,l.params),f=!1;if(!m){if(!r)return;m=i.fallbackTransition,f=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:m,fromState:c,toState:l,player:s,isFallbackTransition:f}),f||(Ut(e,Pf),s.onStart(()=>{Yo(e,Pf)})),s.onDone(()=>{let g=this.players.indexOf(s);g>=0&&this.players.splice(g,1);let C=this._engine.playersByElement.get(e);if(C){let h=C.indexOf(s);h>=0&&C.splice(h,1)}}),this.players.push(s),p.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,o)=>{this._elementListeners.set(o,n.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let n=this._engine.playersByElement.get(e);n&&(n.forEach(o=>o.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){let o=this._engine.driver.query(e,Pr,!0);o.forEach(r=>{if(r[Gt])return;let i=this._engine.fetchNamespacesByElement(r);i.size?i.forEach(s=>s.triggerLeaveAnimation(r,n,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>o.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,n,o,r){let i=this._engine.statesByElement.get(e),s=new Map;if(i){let a=[];if(i.forEach((c,l)=>{if(s.set(l,c.value),this._triggers.has(l)){let d=this.trigger(e,l,Dr,r);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,s),o&&Tn(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let n=this._elementListeners.get(e),o=this._engine.statesByElement.get(e);if(n&&o){let r=new Set;n.forEach(i=>{let s=i.name;if(r.has(s))return;r.add(s);let c=this._triggers.get(s).fallbackTransition,l=o.get(s)||fc,d=new Or(Dr),u=new Rr(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:l,toState:d,player:u,isFallbackTransition:!0})})}}removeNode(e,n){let o=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let r=!1;if(o.totalAnimations){let i=o.players.length?o.playersByQueriedElement.get(e):[];if(i&&i.length)r=!0;else{let s=e;for(;s=s.parentNode;)if(o.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)o.markElementAsRemoved(this.id,e,!1,n);else{let i=e[Gt];(!i||i===Ff)&&(o.afterFlush(()=>this.clearElementCache(e)),o.destroyInnerAnimations(e),o._onRemovalComplete(e,n))}}insertNode(e,n){Ut(e,this._hostClassName)}drainQueuedTransitions(e){let n=[];return this._queue.forEach(o=>{let r=o.player;if(r.destroyed)return;let i=o.element,s=this._elementListeners.get(i);s&&s.forEach(a=>{if(a.name==o.triggerName){let c=$i(i,o.triggerName,o.fromState.value,o.toState.value);c._data=e,ji(o.player,a.phase,c,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):n.push(o)}),this._queue=[],n.sort((o,r)=>{let i=o.transition.ast.depCount,s=r.transition.ast.depCount;return i==0||s==0?i-s:this._engine.driver.containsElement(o.element,r.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},xc=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(e,n)=>{};_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,o){this.bodyNode=e,this.driver=n,this._normalizer=o}get queuedPlayers(){let e=[];return this._namespaceList.forEach(n=>{n.players.forEach(o=>{o.queued&&e.push(o)})}),e}createNamespace(e,n){let o=new bc(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(o,n):(this.newHostElements.set(n,o),this.collectEnterElement(n)),this._namespaceLookup[e]=o}_balanceNamespaceList(e,n){let o=this._namespaceList,r=this.namespacesByHostElement;if(o.length-1>=0){let s=!1,a=this.driver.getParentElement(n);for(;a;){let c=r.get(a);if(c){let l=o.indexOf(c);o.splice(l+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||o.unshift(e)}else o.push(e);return r.set(n,e),e}register(e,n){let o=this._namespaceLookup[e];return o||(o=this.createNamespace(e,n)),o}registerTrigger(e,n,o){let r=this._namespaceLookup[e];r&&r.register(n,o)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let o=this._fetchNamespace(e);this.namespacesByHostElement.delete(o.hostElement);let r=this._namespaceList.indexOf(o);r>=0&&this._namespaceList.splice(r,1),o.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let n=new Set,o=this.statesByElement.get(e);if(o){for(let r of o.values())if(r.namespaceId){let i=this._fetchNamespace(r.namespaceId);i&&n.add(i)}}return n}trigger(e,n,o,r){if(ts(n)){let i=this._fetchNamespace(e);if(i)return i.trigger(n,o,r),!0}return!1}insertNode(e,n,o,r){if(!ts(n))return;let i=n[Gt];if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;let s=this.collectedLeaveElements.indexOf(n);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(n,o)}r&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ut(e,mc)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Yo(e,mc))}removeNode(e,n,o){if(ts(n)){let r=e?this._fetchNamespace(e):null;r?r.removeNode(n,o):this.markElementAsRemoved(e,n,!1,o);let i=this.namespacesByHostElement.get(n);i&&i.id!==e&&i.removeNode(n,o)}else this._onRemovalComplete(n,o)}markElementAsRemoved(e,n,o,r,i){this.collectedLeaveElements.push(n),n[Gt]={namespaceId:e,setForRemoval:r,hasAnimation:o,removedBeforeQueried:!1,previousTriggersValues:i}}listen(e,n,o,r,i){return ts(n)?this._fetchNamespace(e).listen(n,o,r,i):()=>{}}_buildInstruction(e,n,o,r,i){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,o,r,e.fromState.options,e.toState.options,n,i)}destroyInnerAnimations(e){let n=this.driver.query(e,Pr,!0);n.forEach(o=>this.destroyActiveAnimationsForElement(o)),this.playersByQueriedElement.size!=0&&(n=this.driver.query(e,Qi,!0),n.forEach(o=>this.finishActiveQueriedAnimationOnElement(o)))}destroyActiveAnimationsForElement(e){let n=this.playersByElement.get(e);n&&n.forEach(o=>{o.queued?o.markedForDestroy=!0:o.destroy()})}finishActiveQueriedAnimationOnElement(e){let n=this.playersByQueriedElement.get(e);n&&n.forEach(o=>o.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Tn(this.players).onDone(()=>e());e()})}processLeaveNode(e){let n=e[Gt];if(n&&n.setForRemoval){if(e[Gt]=Ff,n.namespaceId){this.destroyInnerAnimations(e);let o=this._fetchNamespace(n.namespaceId);o&&o.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(mc)&&this.markElementAsDisabled(e,!1),this.driver.query(e,ZS,!0).forEach(o=>{this.markElementAsDisabled(o,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((o,r)=>this._balanceNamespaceList(o,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let o=0;o<this.collectedEnterElements.length;o++){let r=this.collectedEnterElements[o];Ut(r,e_)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let o=[];try{n=this._flushAnimations(o,e)}finally{for(let r=0;r<o.length;r++)o[r]()}}else for(let o=0;o<this.collectedLeaveElements.length;o++){let r=this.collectedLeaveElements[o];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(o=>o()),this._flushFns=[],this._whenQuietFns.length){let o=this._whenQuietFns;this._whenQuietFns=[],n.length?Tn(n).onDone(()=>{o.forEach(r=>r())}):o.forEach(r=>r())}}reportError(e){throw hf(e)}_flushAnimations(e,n){let o=new Nr,r=[],i=new Map,s=[],a=new Map,c=new Map,l=new Map,d=new Set;this.disabledNodes.forEach(R=>{d.add(R);let M=this.driver.query(R,XS,!0);for(let B=0;B<M.length;B++)d.add(M[B])});let u=this.bodyNode,p=Array.from(this.statesByElement.keys()),m=Nf(p,this.collectedEnterElements),f=new Map,g=0;m.forEach((R,M)=>{let B=cc+g++;f.set(M,B),R.forEach(Q=>Ut(Q,B))});let C=[],h=new Set,v=new Set;for(let R=0;R<this.collectedLeaveElements.length;R++){let M=this.collectedLeaveElements[R],B=M[Gt];B&&B.setForRemoval&&(C.push(M),h.add(M),B.hasAnimation?this.driver.query(M,t_,!0).forEach(Q=>h.add(Q)):v.add(M))}let x=new Map,P=Nf(p,Array.from(h));P.forEach((R,M)=>{let B=Yi+g++;x.set(M,B),R.forEach(Q=>Ut(Q,B))}),e.push(()=>{m.forEach((R,M)=>{let B=f.get(M);R.forEach(Q=>Yo(Q,B))}),P.forEach((R,M)=>{let B=x.get(M);R.forEach(Q=>Yo(Q,B))}),C.forEach(R=>{this.processLeaveNode(R)})});let k=[],O=[];for(let R=this._namespaceList.length-1;R>=0;R--)this._namespaceList[R].drainQueuedTransitions(n).forEach(B=>{let Q=B.player,Ie=B.element;if(k.push(Q),this.collectedEnterElements.length){let We=Ie[Gt];if(We&&We.setForMove){if(We.previousTriggersValues&&We.previousTriggersValues.has(B.triggerName)){let on=We.previousTriggersValues.get(B.triggerName),tt=this.statesByElement.get(B.element);if(tt&&tt.has(B.triggerName)){let oi=tt.get(B.triggerName);oi.value=on,tt.set(B.triggerName,oi)}}Q.destroy();return}}let yt=!u||!this.driver.containsElement(u,Ie),et=x.get(Ie),tn=f.get(Ie),G=this._buildInstruction(B,o,tn,et,yt);if(G.errors&&G.errors.length){O.push(G);return}if(yt){Q.onStart(()=>Wn(Ie,G.fromStyles)),Q.onDestroy(()=>$t(Ie,G.toStyles)),r.push(Q);return}if(B.isFallbackTransition){Q.onStart(()=>Wn(Ie,G.fromStyles)),Q.onDestroy(()=>$t(Ie,G.toStyles)),r.push(Q);return}let nn=[];G.timelines.forEach(We=>{We.stretchStartingKeyframe=!0,this.disabledNodes.has(We.element)||nn.push(We)}),G.timelines=nn,o.append(Ie,G.timelines);let fa={instruction:G,player:Q,element:Ie};s.push(fa),G.queriedElements.forEach(We=>ut(a,We,[]).push(Q)),G.preStyleProps.forEach((We,on)=>{if(We.size){let tt=c.get(on);tt||c.set(on,tt=new Set),We.forEach((oi,ga)=>tt.add(ga))}}),G.postStyleProps.forEach((We,on)=>{let tt=l.get(on);tt||l.set(on,tt=new Set),We.forEach((oi,ga)=>tt.add(ga))})});if(O.length){let R=[];O.forEach(M=>{R.push(yf(M.triggerName,M.errors))}),k.forEach(M=>M.destroy()),this.reportError(R)}let w=new Map,L=new Map;s.forEach(R=>{let M=R.element;o.has(M)&&(L.set(M,M),this._beforeAnimationBuild(R.player.namespaceId,R.instruction,w))}),r.forEach(R=>{let M=R.element;this._getPreviousPlayers(M,!1,R.namespaceId,R.triggerName,null).forEach(Q=>{ut(w,M,[]).push(Q),Q.destroy()})});let q=C.filter(R=>Of(R,c,l)),Y=new Map;Df(Y,this.driver,v,l,qt).forEach(R=>{Of(R,c,l)&&q.push(R)});let re=new Map;m.forEach((R,M)=>{Df(re,this.driver,new Set(R),c,Ir)}),q.forEach(R=>{let M=Y.get(R),B=re.get(R);Y.set(R,new Map([...M?.entries()??[],...B?.entries()??[]]))});let ne=[],$e=[],ht={};s.forEach(R=>{let{element:M,player:B,instruction:Q}=R;if(o.has(M)){if(d.has(M)){B.onDestroy(()=>$t(M,Q.toStyles)),B.disabled=!0,B.overrideTotalTime(Q.totalTime),r.push(B);return}let Ie=ht;if(L.size>1){let et=M,tn=[];for(;et=et.parentNode;){let G=L.get(et);if(G){Ie=G;break}tn.push(et)}tn.forEach(G=>L.set(G,Ie))}let yt=this._buildAnimation(B.namespaceId,Q,w,i,re,Y);if(B.setRealPlayer(yt),Ie===ht)ne.push(B);else{let et=this.playersByElement.get(Ie);et&&et.length&&(B.parentPlayer=Tn(et)),r.push(B)}}else Wn(M,Q.fromStyles),B.onDestroy(()=>$t(M,Q.toStyles)),$e.push(B),d.has(M)&&r.push(B)}),$e.forEach(R=>{let M=i.get(R.element);if(M&&M.length){let B=Tn(M);R.setRealPlayer(B)}}),r.forEach(R=>{R.parentPlayer?R.syncPlayerEvents(R.parentPlayer):R.destroy()});for(let R=0;R<C.length;R++){let M=C[R],B=M[Gt];if(Yo(M,Yi),B&&B.hasAnimation)continue;let Q=[];if(a.size){let yt=a.get(M);yt&&yt.length&&Q.push(...yt);let et=this.driver.query(M,Qi,!0);for(let tn=0;tn<et.length;tn++){let G=a.get(et[tn]);G&&G.length&&Q.push(...G)}}let Ie=Q.filter(yt=>!yt.destroyed);Ie.length?a_(this,M,Ie):this.processLeaveNode(M)}return C.length=0,ne.forEach(R=>{this.players.push(R),R.onDone(()=>{R.destroy();let M=this.players.indexOf(R);this.players.splice(M,1)}),R.play()}),ne}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,o,r,i){let s=[];if(n){let a=this.playersByQueriedElement.get(e);a&&(s=a)}else{let a=this.playersByElement.get(e);if(a){let c=!i||i==Dr;a.forEach(l=>{l.queued||!c&&l.triggerName!=r||s.push(l)})}}return(o||r)&&(s=s.filter(a=>!(o&&o!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(e,n,o){let r=n.triggerName,i=n.element,s=n.isRemovalTransition?void 0:e,a=n.isRemovalTransition?void 0:r;for(let c of n.timelines){let l=c.element,d=l!==i,u=ut(o,l,[]);this._getPreviousPlayers(l,d,s,a,n.toState).forEach(m=>{let f=m.getRealPlayer();f.beforeDestroy&&f.beforeDestroy(),m.destroy(),u.push(m)})}Wn(i,n.fromStyles)}_buildAnimation(e,n,o,r,i,s){let a=n.triggerName,c=n.element,l=[],d=new Set,u=new Set,p=n.timelines.map(f=>{let g=f.element;d.add(g);let C=g[Gt];if(C&&C.removedBeforeQueried)return new oo(f.duration,f.delay);let h=g!==c,v=c_((o.get(g)||n_).map(w=>w.getRealPlayer())).filter(w=>{let L=w;return L.element?L.element===g:!1}),x=i.get(g),P=s.get(g),k=oc(this._normalizer,f.keyframes,x,P),O=this._buildPlayer(f,k,v);if(f.subTimeline&&r&&u.add(g),h){let w=new Rr(e,a,g);w.setRealPlayer(O),l.push(w)}return O});l.forEach(f=>{ut(this.playersByQueriedElement,f.element,[]).push(f),f.onDone(()=>r_(this.playersByQueriedElement,f.element,f))}),d.forEach(f=>Ut(f,lc));let m=Tn(p);return m.onDestroy(()=>{d.forEach(f=>Yo(f,lc)),$t(c,n.toStyles)}),u.forEach(f=>{ut(r,f,[]).push(m)}),m}_buildPlayer(e,n,o){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,o):new oo(e.duration,e.delay)}},Rr=class{namespaceId;triggerName;element;_player=new oo;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(e,n,o){this.namespaceId=e,this.triggerName=n,this.element=o}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,o)=>{n.forEach(r=>ji(e,o,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){ut(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let n=this._player;n.triggerCallback&&n.triggerCallback(e)}};function r_(t,e,n){let o=t.get(e);if(o){if(o.length){let r=o.indexOf(n);o.splice(r,1)}o.length==0&&t.delete(e)}return o}function i_(t){return t??null}function ts(t){return t&&t.nodeType===1}function s_(t){return t=="start"||t=="done"}function Af(t,e){let n=t.style.display;return t.style.display=e??"none",n}function Df(t,e,n,o,r){let i=[];n.forEach(c=>i.push(Af(c)));let s=[];o.forEach((c,l)=>{let d=new Map;c.forEach(u=>{let p=e.computeStyle(l,u,r);d.set(u,p),(!p||p.length==0)&&(l[Gt]=o_,s.push(l))}),t.set(l,d)});let a=0;return n.forEach(c=>Af(c,i[a++])),s}function Nf(t,e){let n=new Map;if(t.forEach(a=>n.set(a,[])),e.length==0)return n;let o=1,r=new Set(e),i=new Map;function s(a){if(!a)return o;let c=i.get(a);if(c)return c;let l=a.parentNode;return n.has(l)?c=l:r.has(l)?c=o:c=s(l),i.set(a,c),c}return e.forEach(a=>{let c=s(a);c!==o&&n.get(c).push(a)}),n}function Ut(t,e){t.classList?.add(e)}function Yo(t,e){t.classList?.remove(e)}function a_(t,e,n){Tn(n).onDone(()=>t.processLeaveNode(e))}function c_(t){let e=[];return Lf(t,e),e}function Lf(t,e){for(let n=0;n<t.length;n++){let o=t[n];o instanceof vi?Lf(o.players,e):e.push(o)}}function l_(t,e){let n=Object.keys(t),o=Object.keys(e);if(n.length!=o.length)return!1;for(let r=0;r<n.length;r++){let i=n[r];if(!e.hasOwnProperty(i)||t[i]!==e[i])return!1}return!0}function Of(t,e,n){let o=n.get(t);if(!o)return!1;let r=e.get(t);return r?o.forEach(i=>r.add(i)):e.set(t,o),n.delete(t),!0}var Qo=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(e,n)=>{};constructor(e,n,o){this._driver=n,this._normalizer=o,this._transitionEngine=new xc(e.body,n,o),this._timelineEngine=new Ic(e.body,n,o),this._transitionEngine.onRemovalComplete=(r,i)=>this.onRemovalComplete(r,i)}registerTrigger(e,n,o,r,i){let s=e+"-"+r,a=this._triggerCache[s];if(!a){let c=[],l=[],d=Mf(this._driver,i,c,l);if(c.length)throw af(r,c);a=YS(r,d,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(n,r,a)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,o,r){this._transitionEngine.insertNode(e,n,o,r)}onRemove(e,n,o){this._transitionEngine.removeNode(e,n,o)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,o,r){if(o.charAt(0)=="@"){let[i,s]=rc(o),a=r;this._timelineEngine.command(i,n,s,a)}else this._transitionEngine.trigger(e,n,o,r)}listen(e,n,o,r,i){if(o.charAt(0)=="@"){let[s,a]=rc(o);return this._timelineEngine.listen(s,n,a,i)}return this._transitionEngine.listen(e,n,o,r,i)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function d_(t,e){let n=null,o=null;return Array.isArray(e)&&e.length?(n=gc(e[0]),e.length>1&&(o=gc(e[e.length-1]))):e instanceof Map&&(n=gc(e)),n||o?new u_(t,n,o):null}var u_=(()=>{class t{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(n,o,r){this._element=n,this._startStyles=o,this._endStyles=r;let i=t.initialStylesByElement.get(n);i||t.initialStylesByElement.set(n,i=new Map),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&$t(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&($t(this._element,this._initialStyles),this._endStyles&&($t(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(Wn(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Wn(this._element,this._endStyles),this._endStyles=null),$t(this._element,this._initialStyles),this._state=3)}}return t})();function gc(t){let e=null;return t.forEach((n,o)=>{p_(o)&&(e=e||new Map,e.set(o,n))}),e}function p_(t){return t==="display"||t==="position"}var cs=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(e,n,o,r){this.element=e,this.keyframes=n,this.options=o,this._specialStyles=r,this._duration=o.duration,this._delay=o.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let n=[];return e.forEach(o=>{n.push(Object.fromEntries(o))}),n}_triggerWebAnimation(e,n,o){return e.animate(this._convertKeyframesToObject(n),o)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((o,r)=>{r!=="offset"&&e.set(r,this._finished?o:Xi(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){let n=e==="start"?this._onStartFns:this._onDoneFns;n.forEach(o=>o()),n.length=0}},ls=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,n){return ic(e,n)}getParentElement(e){return Gi(e)}query(e,n,o){return sc(e,n,o)}computeStyle(e,n,o){return Xi(e,n)}animate(e,n,o,r,i,s=[]){let a=r==0?"both":"forwards",c={duration:o,delay:r,fill:a};i&&(c.easing=i);let l=new Map,d=s.filter(m=>m instanceof cs);_f(o,r)&&d.forEach(m=>{m.currentSnapshot.forEach((f,g)=>l.set(g,f))});let u=vf(n).map(m=>new Map(m));u=Ef(e,u,l);let p=d_(e,u);return new cs(e,u,c,p)}};var ns="@",Bf="@.disabled",ds=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(e,n,o,r){this.namespaceId=e,this.delegate=n,this.engine=o,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,o,r=!0){this.delegate.insertBefore(e,n,o),this.engine.onInsert(this.namespaceId,n,e,r)}removeChild(e,n,o){this.parentNode(n)&&this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,o,r){this.delegate.setAttribute(e,n,o,r)}removeAttribute(e,n,o){this.delegate.removeAttribute(e,n,o)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,o,r){this.delegate.setStyle(e,n,o,r)}removeStyle(e,n,o){this.delegate.removeStyle(e,n,o)}setProperty(e,n,o){n.charAt(0)==ns&&n==Bf?this.disableAnimations(e,!!o):this.delegate.setProperty(e,n,o)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,o,r){return this.delegate.listen(e,n,o,r)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}},wc=class extends ds{factory;constructor(e,n,o,r,i){super(n,o,r,i),this.factory=e,this.namespaceId=n}setProperty(e,n,o){n.charAt(0)==ns?n.charAt(1)=="."&&n==Bf?(o=o===void 0?!0:!!o,this.disableAnimations(e,o)):this.engine.process(this.namespaceId,e,n.slice(1),o):this.delegate.setProperty(e,n,o)}listen(e,n,o,r){if(n.charAt(0)==ns){let i=m_(e),s=n.slice(1),a="";return s.charAt(0)!=ns&&([s,a]=f_(s)),this.engine.listen(this.namespaceId,i,s,a,c=>{let l=c._data||-1;this.factory.scheduleListenerCallback(l,o,c)})}return this.delegate.listen(e,n,o,r)}};function m_(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}function f_(t){let e=t.indexOf("."),n=t.substring(0,e),o=t.slice(e+1);return[n,o]}var us=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(e,n,o){this.delegate=e,this.engine=n,this._zone=o,n.onRemovalComplete=(r,i)=>{i?.removeChild(null,r)}}createRenderer(e,n){let r=this.delegate.createRenderer(e,n);if(!e||!n?.data?.animation){let l=this._rendererCache,d=l.get(r);if(!d){let u=()=>l.delete(r);d=new ds("",r,this.engine,u),l.set(r,d)}return d}let i=n.id,s=n.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let a=l=>{Array.isArray(l)?l.forEach(a):this.engine.registerTrigger(i,s,e,l.name,l)};return n.data.animation.forEach(a),new wc(this,s,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,n,o){if(e>=0&&e<this._microtaskId){this._zone.run(()=>n(o));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(i=>{let[s,a]=i;s(a)}),this._animationCallbacksBuffer=[]})}),r.push([n,o])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(e){this.engine.flush(),this.delegate.componentReplaced?.(e)}};var h_=(()=>{class t extends Qo{constructor(n,o,r){super(n,o,r)}ngOnDestroy(){this.flush()}static \u0275fac=function(o){return new(o||t)(ci(Ze),ci(po),ci(mo))};static \u0275prov=sn({token:t,factory:t.\u0275fac})}return t})();function y_(){return new os}function C_(t,e,n){return new us(t,e,n)}var zf=[{provide:mo,useFactory:y_},{provide:Qo,useClass:h_},{provide:zl,useFactory:C_,deps:[cd,Qo,Pt]}],_1=[{provide:po,useClass:Tc},{provide:ya,useValue:"NoopAnimations"},...zf],v_=[{provide:po,useFactory:()=>new ls},{provide:ya,useFactory:()=>"BrowserAnimations"},...zf];function Vf(){return Vl("NgEagerAnimations"),[...v_]}var Hf="Logging",Ac="x-amz-user-agent",Wf="NoHubcallbackProvidedException";var It=(function(t){return t.DEBUG="DEBUG",t.ERROR="ERROR",t.INFO="INFO",t.WARN="WARN",t.VERBOSE="VERBOSE",t.NONE="NONE",t})(It||{});var Kf={VERBOSE:1,DEBUG:2,INFO:3,WARN:4,ERROR:5,NONE:6},ye=(()=>{class t{constructor(n,o=It.WARN){this.name=n,this.level=o,this._pluggables=[]}_padding(n){return n<10?"0"+n:""+n}_ts(){let n=new Date;return[this._padding(n.getMinutes()),this._padding(n.getSeconds())].join(":")+"."+n.getMilliseconds()}configure(n){return n?(this._config=n,this._config):this._config}_log(n,...o){let r=this.level;t.LOG_LEVEL&&(r=t.LOG_LEVEL),typeof window<"u"&&window.LOG_LEVEL&&(r=window.LOG_LEVEL);let i=Kf[r];if(!(Kf[n]>=i))return;let a=console.log.bind(console);n===It.ERROR&&console.error&&(a=console.error.bind(console)),n===It.WARN&&console.warn&&(a=console.warn.bind(console)),t.BIND_ALL_LOG_LEVELS&&(n===It.INFO&&console.info&&(a=console.info.bind(console)),n===It.DEBUG&&console.debug&&(a=console.debug.bind(console)));let c=`[${n}] ${this._ts()} ${this.name}`,l="";if(o.length===1&&typeof o[0]=="string")l=`${c} - ${o[0]}`,a(l);else if(o.length===1)l=`${c} ${o[0]}`,a(c,o[0]);else if(typeof o[0]=="string"){let d=o.slice(1);d.length===1&&(d=d[0]),l=`${c} - ${o[0]} ${d}`,a(`${c} - ${o[0]}`,d)}else l=`${c} ${o}`,a(c,o);for(let d of this._pluggables){let u={message:l,timestamp:Date.now()};d.pushLogs([u])}}log(...n){this._log(It.INFO,...n)}info(...n){this._log(It.INFO,...n)}warn(...n){this._log(It.WARN,...n)}error(...n){this._log(It.ERROR,...n)}debug(...n){this._log(It.DEBUG,...n)}verbose(...n){this._log(It.VERBOSE,...n)}addPluggable(n){n&&n.getCategoryName()===Hf&&(this._pluggables.push(n),n.configure(this._config))}listPluggables(){return this._pluggables}}return t.LOG_LEVEL=null,t.BIND_ALL_LOG_LEVELS=!1,t})();var Ae=class t extends Error{constructor({message:e,name:n,recoverySuggestion:o,underlyingError:r,metadata:i}){if(super(e),this.name=n,this.underlyingError=r,this.recoverySuggestion=o,i){let{extendedRequestId:s,httpStatusCode:a,requestId:c}=i;this.metadata={extendedRequestId:s,httpStatusCode:a,requestId:c}}this.constructor=t,Object.setPrototypeOf(this,t.prototype)}};var mt=(function(t){return t.NoEndpointId="NoEndpointId",t.PlatformNotSupported="PlatformNotSupported",t.Unknown="Unknown",t.NetworkError="NetworkError",t})(mt||{});var Yt=(t,e=Ae)=>(n,o,r)=>{let{message:i,recoverySuggestion:s}=t[o];if(!n)throw new e({name:o,message:r?`${i} ${r}`:i,recoverySuggestion:s})};var qe=typeof Symbol<"u"?Symbol("amplify_default"):"@@amplify_default",Mr=new ye("Hub"),ps=class{constructor(e){this.listeners=new Map,this.protectedChannels=["core","auth","api","analytics","interactions","pubsub","storage","ui","xr"],this.name=e}_remove(e,n){let o=this.listeners.get(e);if(!o){Mr.warn(`No listeners for ${e}`);return}this.listeners.set(e,[...o.filter(({callback:r})=>r!==n)])}dispatch(e,n,o,r){typeof e=="string"&&this.protectedChannels.indexOf(e)>-1&&(r===qe||Mr.warn(`WARNING: ${e} is protected and dispatching on it can have unintended consequences`));let i={channel:e,payload:y({},n),source:o,patternInfo:[]};try{this._toListeners(i)}catch(s){Mr.error(s)}}listen(e,n,o="noname"){let r;if(typeof n!="function")throw new Ae({name:Wf,message:"No callback supplied to Hub"});r=n;let i=this.listeners.get(e);return i||(i=[],this.listeners.set(e,i)),i.push({name:o,callback:r}),()=>{this._remove(e,r)}}_toListeners(e){let{channel:n,payload:o}=e,r=this.listeners.get(n);r&&r.forEach(i=>{Mr.debug(`Dispatching to ${n} with `,o);try{i.callback(e)}catch(s){Mr.error(s)}})}},ze=new ps("__default__"),fo=new ps("internal-hub");var go=()=>{if(typeof window=="object"&&typeof window.crypto=="object")return window.crypto;if(typeof crypto=="object")return crypto;throw new Ae({name:"MissingPolyfill",message:"Cannot resolve the `crypto` function from the environment."})},qf=()=>{if(typeof window<"u"&&typeof window.btoa=="function")return window.btoa;if(typeof btoa=="function")return btoa;throw new Ae({name:"Base64EncoderError",message:"Cannot resolve the `btoa` function from the environment."})},jf=()=>{if(typeof window<"u"&&typeof window.atob=="function")return window.atob;if(typeof atob=="function")return atob;throw new Ae({name:"Base64EncoderError",message:"Cannot resolve the `atob` function from the environment."})};var ho={convert(t,e){let n=t;return e?.urlSafe&&(n=n.replace(/-/g,"+").replace(/_/g,"/")),jf()(n)}};var mn=(function(t){return t.AuthTokenConfigException="AuthTokenConfigException",t.AuthUserPoolAndIdentityPoolException="AuthUserPoolAndIdentityPoolException",t.AuthUserPoolException="AuthUserPoolException",t.InvalidIdentityPoolIdException="InvalidIdentityPoolIdException",t.OAuthNotConfigureException="OAuthNotConfigureException",t})(mn||{}),S_={[mn.AuthTokenConfigException]:{message:"Auth Token Provider not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app."},[mn.AuthUserPoolAndIdentityPoolException]:{message:"Auth UserPool or IdentityPool not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app with UserPoolId and IdentityPoolId."},[mn.AuthUserPoolException]:{message:"Auth UserPool not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app with userPoolId and userPoolClientId."},[mn.InvalidIdentityPoolIdException]:{message:"Invalid identity pool id provided.",recoverySuggestion:"Make sure a valid identityPoolId is given in the config."},[mn.OAuthNotConfigureException]:{message:"oauth param not configured.",recoverySuggestion:"Make sure to call Amplify.configure with oauth parameter in your app."}},ms=Yt(S_);function V(t){let e=!0;t?e=!!t.userPoolId&&!!t.userPoolClientId:e=!1,ms(e,mn.AuthUserPoolException)}function Pn(t){let e=!!t?.loginWith?.oauth?.domain&&!!t?.loginWith?.oauth?.redirectSignOut&&!!t?.loginWith?.oauth?.redirectSignIn&&!!t?.loginWith?.oauth?.responseType;ms(e,mn.OAuthNotConfigureException)}function yo(t){let e=!!t?.identityPoolId;ms(e,mn.InvalidIdentityPoolIdException)}function Ye(t){let e=t.split(".");if(e.length!==3)throw new Error("Invalid token");try{let o=e[1].replace(/-/g,"+").replace(/_/g,"/"),r=decodeURIComponent(ho.convert(o).split("").map(s=>`%${`00${s.charCodeAt(0).toString(16)}`.slice(-2)}`).join("")),i=JSON.parse(r);return{toString:()=>t,payload:i}}catch{throw new Error("Invalid token payload")}}var Dc=t=>{let e=Reflect.ownKeys(t);for(let n of e){let o=t[n];(o&&typeof o=="object"||typeof o=="function")&&Dc(o)}return Object.freeze(t)};var __=new ye("parseAWSExports"),E_={API_KEY:"apiKey",AWS_IAM:"iam",AMAZON_COGNITO_USER_POOLS:"userPool",OPENID_CONNECT:"oidc",NONE:"none",AWS_LAMBDA:"lambda",LAMBDA:"lambda"},Gf=(t={})=>{if(!Object.prototype.hasOwnProperty.call(t,"aws_project_region"))throw new Ae({name:"InvalidParameterException",message:"Invalid config parameter.",recoverySuggestion:"Ensure passing the config object imported from  `amplifyconfiguration.json`."});let{aws_appsync_apiKey:e,aws_appsync_authenticationType:n,aws_appsync_graphqlEndpoint:o,aws_appsync_region:r,aws_bots_config:i,aws_cognito_identity_pool_id:s,aws_cognito_sign_up_verification_method:a,aws_cognito_mfa_configuration:c,aws_cognito_mfa_types:l,aws_cognito_password_protection_settings:d,aws_cognito_verification_mechanisms:u,aws_cognito_signup_attributes:p,aws_cognito_social_providers:m,aws_cognito_username_attributes:f,aws_mandatory_sign_in:g,aws_mobile_analytics_app_id:C,aws_mobile_analytics_app_region:h,aws_user_files_s3_bucket:v,aws_user_files_s3_bucket_region:x,aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing:P,aws_user_pools_id:k,aws_user_pools_web_client_id:O,geo:w,oauth:L,predictions:q,aws_cloud_logic_custom:Y,Notifications:we,modelIntrospection:re}=t,ne={};C&&(ne.Analytics={Pinpoint:{appId:C,region:h}});let{InAppMessaging:$e,Push:ht}=we??{};if($e?.AWSPinpoint||ht?.AWSPinpoint){if($e?.AWSPinpoint){let{appId:G,region:nn}=$e.AWSPinpoint;ne.Notifications={InAppMessaging:{Pinpoint:{appId:G,region:nn}}}}if(ht?.AWSPinpoint){let{appId:G,region:nn}=ht.AWSPinpoint;ne.Notifications=U(y({},ne.Notifications),{PushNotification:{Pinpoint:{appId:G,region:nn}}})}}if(Array.isArray(i)&&(ne.Interactions={LexV1:Object.fromEntries(i.map(G=>[G.name,G]))}),o){let G=E_[n];G||__.debug(`Invalid authentication type ${n}. Falling back to IAM.`),ne.API={GraphQL:{endpoint:o,apiKey:e,region:r,defaultAuthMode:G??"iam"}},re&&(ne.API.GraphQL.modelIntrospection=re)}let R=c?{status:c&&c.toLowerCase(),totpEnabled:l?.includes("TOTP")??!1,smsEnabled:l?.includes("SMS")??!1}:void 0,M=d?{minLength:d.passwordPolicyMinLength,requireLowercase:d.passwordPolicyCharacters?.includes("REQUIRES_LOWERCASE")??!1,requireUppercase:d.passwordPolicyCharacters?.includes("REQUIRES_UPPERCASE")??!1,requireNumbers:d.passwordPolicyCharacters?.includes("REQUIRES_NUMBERS")??!1,requireSpecialCharacters:d.passwordPolicyCharacters?.includes("REQUIRES_SYMBOLS")??!1}:void 0,Q=Array.from(new Set([...u??[],...p??[]])).reduce((G,nn)=>U(y({},G),{[nn.toLowerCase()]:{required:!0}}),{}),Ie=f?.includes("EMAIL")??!1,yt=f?.includes("PHONE_NUMBER")??!1;(s||k)&&(ne.Auth={Cognito:{identityPoolId:s,allowGuestAccess:g!=="enable",signUpVerificationMethod:a,userAttributes:Q,userPoolClientId:O,userPoolId:k,mfa:R,passwordFormat:M,loginWith:{username:!(Ie||yt),email:Ie,phone:yt}}});let et=L?Object.keys(L).length>0:!1,tn=m?m.length>0:!1;if(ne.Auth&&et&&(ne.Auth.Cognito.loginWith=U(y({},ne.Auth.Cognito.loginWith),{oauth:y(y({},I_(L)),tn&&{providers:b_(m)})})),v&&(ne.Storage={S3:{bucket:v,region:x,dangerouslyConnectToHttpEndpointForTesting:P}}),w){let{amazon_location_service:G}=w;ne.Geo={LocationService:{maps:G.maps,geofenceCollections:G.geofenceCollections,searchIndices:G.search_indices,region:G.region}}}if(Y&&(ne.API=U(y({},ne.API),{REST:Y.reduce((G,nn)=>{let{name:fa,endpoint:We,region:on,service:tt}=nn;return U(y({},G),{[fa]:y(y({endpoint:We},tt?{service:tt}:void 0),on?{region:on}:void 0)})},{})})),q){let{VoiceId:G}=q?.convert?.speechGenerator?.defaults??{};ne.Predictions=G?U(y({},q),{convert:U(y({},q.convert),{speechGenerator:U(y({},q.convert.speechGenerator),{defaults:{voiceId:G}})})}):q}return ne},$f=t=>t?.split(",")??[],I_=({domain:t,scope:e,redirectSignIn:n,redirectSignOut:o,responseType:r})=>({domain:t,scopes:e,redirectSignIn:$f(n),redirectSignOut:$f(o),responseType:r}),b_=t=>t.map(e=>{let n=e.toLowerCase();return n.charAt(0).toUpperCase()+n.slice(1)});var kr=Symbol("oauth-listener");var Qe=[];for(let t=0;t<256;++t)Qe.push((t+256).toString(16).slice(1));function Yf(t,e=0){return(Qe[t[e+0]]+Qe[t[e+1]]+Qe[t[e+2]]+Qe[t[e+3]]+"-"+Qe[t[e+4]]+Qe[t[e+5]]+"-"+Qe[t[e+6]]+Qe[t[e+7]]+"-"+Qe[t[e+8]]+Qe[t[e+9]]+"-"+Qe[t[e+10]]+Qe[t[e+11]]+Qe[t[e+12]]+Qe[t[e+13]]+Qe[t[e+14]]+Qe[t[e+15]]).toLowerCase()}var Nc,x_=new Uint8Array(16);function Oc(){if(!Nc){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Nc=crypto.getRandomValues.bind(crypto)}return Nc(x_)}var w_=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Rc={randomUUID:w_};function T_(t,e,n){if(Rc.randomUUID&&!e&&!t)return Rc.randomUUID();t=t||{};let o=t.random??t.rng?.()??Oc();if(o.length<16)throw new Error("Random bytes length must be >= 16");if(o[6]=o[6]&15|64,o[8]=o[8]&63|128,e){if(n=n||0,n<0||n+16>e.length)throw new RangeError(`UUID byte range ${n}:${n+15} is out of buffer bounds`);for(let r=0;r<16;++r)e[n+r]=o[r];return e}return Yf(o)}var Mc=T_;function Jf(t){let{version:e}=t;return e?e.startsWith("1"):!1}function P_(t){if(!t)return;let{bucket_name:e,aws_region:n,buckets:o}=t;return{S3:{bucket:e,region:n,buckets:o&&L_(o)}}}function A_(t){if(!t)return;let{user_pool_id:e,user_pool_client_id:n,identity_pool_id:o,password_policy:r,mfa_configuration:i,mfa_methods:s,unauthenticated_identities_enabled:a,oauth:c,username_attributes:l,standard_required_attributes:d,groups:u}=t,p={Cognito:{userPoolId:e,userPoolClientId:n,groups:u}};return o&&(p.Cognito=U(y({},p.Cognito),{identityPoolId:o})),r&&(p.Cognito.passwordFormat={requireLowercase:r.require_lowercase,requireNumbers:r.require_numbers,requireUppercase:r.require_uppercase,requireSpecialCharacters:r.require_symbols,minLength:r.min_length??6}),i&&(p.Cognito.mfa={status:F_(i),smsEnabled:s?.includes("SMS"),totpEnabled:s?.includes("TOTP")}),a&&(p.Cognito.allowGuestAccess=a),c&&(p.Cognito.loginWith={oauth:{domain:c.domain,redirectSignIn:c.redirect_sign_in_uri,redirectSignOut:c.redirect_sign_out_uri,responseType:c.response_type==="token"?"token":"code",scopes:c.scopes,providers:U_(c.identity_providers)}}),l&&(p.Cognito.loginWith=U(y({},p.Cognito.loginWith),{email:l.includes("email"),phone:l.includes("phone_number"),username:l.includes("username")})),d&&(p.Cognito.userAttributes=d.reduce((m,f)=>U(y({},m),{[f]:{required:!0}}),{})),p}function D_(t){if(!t?.amazon_pinpoint)return;let{amazon_pinpoint:e}=t;return{Pinpoint:{appId:e.app_id,region:e.aws_region}}}function N_(t){if(!t)return;let{aws_region:e,geofence_collections:n,maps:o,search_indices:r}=t;return{LocationService:{region:e,searchIndices:r,geofenceCollections:n,maps:o}}}function O_(t){if(!t)return;let{aws_region:e,default_authorization_type:n,url:o,api_key:r,model_introspection:i}=t;return{GraphQL:{endpoint:o,defaultAuthMode:Zf(n),region:e,apiKey:r,modelIntrospection:i}}}function R_(t){if(!t?.events)return;let{url:e,aws_region:n,api_key:o,default_authorization_type:r}=t.events;return{Events:{endpoint:e,defaultAuthMode:Zf(r),region:n,apiKey:o}}}function M_(t){if(!t)return;let{aws_region:e,channels:n,amazon_pinpoint_app_id:o}=t,r=n.includes("IN_APP_MESSAGING"),i=n.includes("APNS")||n.includes("FCM");if(!(r||i))return;let s={};return r&&(s.InAppMessaging={Pinpoint:{appId:o,region:e}}),i&&(s.PushNotification={Pinpoint:{appId:o,region:e}}),s}function Xf(t){let e={};if(t.storage&&(e.Storage=P_(t.storage)),t.auth&&(e.Auth=A_(t.auth)),t.analytics&&(e.Analytics=D_(t.analytics)),t.geo&&(e.Geo=N_(t.geo)),t.data&&(e.API=O_(t.data)),t.custom){let n=R_(t.custom);n&&"Events"in n&&(e.API=y(y({},e.API),n))}return t.notifications&&(e.Notifications=M_(t.notifications)),e}var k_={AMAZON_COGNITO_USER_POOLS:"userPool",API_KEY:"apiKey",AWS_IAM:"iam",AWS_LAMBDA:"lambda",OPENID_CONNECT:"oidc"};function Zf(t){return k_[t]}var Qf={GOOGLE:"Google",LOGIN_WITH_AMAZON:"Amazon",FACEBOOK:"Facebook",SIGN_IN_WITH_APPLE:"Apple"};function U_(t=[]){return t.reduce((e,n)=>(Qf[n]!==void 0&&e.push(Qf[n]),e),[])}function F_(t){return t==="OPTIONAL"?"optional":t==="REQUIRED"?"on":"off"}function L_(t){let e={};return t.forEach(({name:n,bucket_name:o,aws_region:r,paths:i})=>{if(n in e)throw new Error(`Duplicate friendly name found: ${n}. Name must be unique.`);let s=i?Object.entries(i).reduce((a,[c,l])=>(l!==void 0&&(a[c]=l),a),{}):void 0;e[n]={bucketName:o,region:r,paths:s}}),e}var Ur=t=>Object.keys(t).some(e=>e.startsWith("aws_"))?Gf(t):Jf(t)?Xf(t):t;var ft=64,eg=32,tg=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ng=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],og=Math.pow(2,53)-1;var Fr=(function(){function t(){this.state=Int32Array.from(ng),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return t.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var n=0,o=e.byteLength;if(this.bytesHashed+=o,this.bytesHashed*8>og)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;o>0;)this.buffer[this.bufferLength++]=e[n++],o--,this.bufferLength===ft&&(this.hashBuffer(),this.bufferLength=0)},t.prototype.digest=function(){if(!this.finished){var e=this.bytesHashed*8,n=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),o=this.bufferLength;if(n.setUint8(this.bufferLength++,128),o%ft>=ft-8){for(var r=this.bufferLength;r<ft;r++)n.setUint8(r,0);this.hashBuffer(),this.bufferLength=0}for(var r=this.bufferLength;r<ft-8;r++)n.setUint8(r,0);n.setUint32(ft-8,Math.floor(e/4294967296),!0),n.setUint32(ft-4,e),this.hashBuffer(),this.finished=!0}for(var i=new Uint8Array(eg),r=0;r<8;r++)i[r*4]=this.state[r]>>>24&255,i[r*4+1]=this.state[r]>>>16&255,i[r*4+2]=this.state[r]>>>8&255,i[r*4+3]=this.state[r]>>>0&255;return i},t.prototype.hashBuffer=function(){for(var e=this,n=e.buffer,o=e.state,r=o[0],i=o[1],s=o[2],a=o[3],c=o[4],l=o[5],d=o[6],u=o[7],p=0;p<ft;p++){if(p<16)this.temp[p]=(n[p*4]&255)<<24|(n[p*4+1]&255)<<16|(n[p*4+2]&255)<<8|n[p*4+3]&255;else{var m=this.temp[p-2],f=(m>>>17|m<<15)^(m>>>19|m<<13)^m>>>10;m=this.temp[p-15];var g=(m>>>7|m<<25)^(m>>>18|m<<14)^m>>>3;this.temp[p]=(f+this.temp[p-7]|0)+(g+this.temp[p-16]|0)}var C=(((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))+(c&l^~c&d)|0)+(u+(tg[p]+this.temp[p]|0)|0)|0,h=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;u=d,d=l,l=c,c=a+C|0,a=s,s=i,i=r,r=C+h|0}o[0]+=r,o[1]+=i,o[2]+=s,o[3]+=a,o[4]+=c,o[5]+=l,o[6]+=d,o[7]+=u},t})();var kc=t=>new TextEncoder().encode(t);var B_=typeof Buffer<"u"&&Buffer.from?function(t){return Buffer.from(t,"utf8")}:kc;function fs(t){return t instanceof Uint8Array?t:typeof t=="string"?B_(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t)}function Uc(t){return typeof t=="string"?t.length===0:t.byteLength===0}var An=(function(){function t(e){this.secret=e,this.hash=new Fr,this.reset()}return t.prototype.update=function(e){if(!(Uc(e)||this.error))try{this.hash.update(fs(e))}catch(n){this.error=n}},t.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},t.prototype.digest=function(){return Il(this,void 0,void 0,function(){return bl(this,function(e){return[2,this.digestSync()]})})},t.prototype.reset=function(){if(this.hash=new Fr,this.secret){this.outer=new Fr;var e=z_(this.secret),n=new Uint8Array(ft);n.set(e);for(var o=0;o<ft;o++)e[o]^=54,n[o]^=92;this.hash.update(e),this.outer.update(n);for(var o=0;o<e.byteLength;o++)e[o]=0}},t})();function z_(t){var e=fs(t);if(e.byteLength>ft){var n=new Fr;n.update(e),e=n.digest()}var o=new Uint8Array(ft);return o.set(e),o}var V_={},H_={};for(let t=0;t<256;t++){let e=t.toString(16).toLowerCase();e.length===1&&(e=`0${e}`),V_[t]=e,H_[e]=t}var Ee=(function(t){return t.WebUnknown="0",t.React="1",t.NextJs="2",t.Angular="3",t.VueJs="4",t.Nuxt="5",t.Svelte="6",t.ServerSideUnknown="100",t.ReactSSR="101",t.NextJsSSR="102",t.AngularSSR="103",t.VueJsSSR="104",t.NuxtSSR="105",t.SvelteSSR="106",t.ReactNative="201",t.Expo="202",t})(Ee||{}),gs=(function(t){return t.AI="ai",t.API="api",t.Auth="auth",t.Analytics="analytics",t.DataStore="datastore",t.Geo="geo",t.InAppMessaging="inappmessaging",t.Interactions="interactions",t.Predictions="predictions",t.PubSub="pubsub",t.PushNotification="pushnotification",t.Storage="storage",t})(gs||{});var ie=(function(t){return t.SignUp="1",t.ConfirmSignUp="2",t.ResendSignUpCode="3",t.SignIn="4",t.FetchMFAPreference="6",t.UpdateMFAPreference="7",t.SetUpTOTP="10",t.VerifyTOTPSetup="11",t.ConfirmSignIn="12",t.DeleteUserAttributes="15",t.DeleteUser="16",t.UpdateUserAttributes="17",t.FetchUserAttributes="18",t.ConfirmUserAttribute="22",t.SignOut="26",t.UpdatePassword="27",t.ResetPassword="28",t.ConfirmResetPassword="29",t.FederatedSignIn="30",t.RememberDevice="32",t.ForgetDevice="33",t.FetchDevices="34",t.SendUserAttributeVerificationCode="35",t.SignInWithRedirect="36",t.StartWebAuthnRegistration="37",t.CompleteWebAuthnRegistration="38",t.ListWebAuthnCredentials="39",t.DeleteWebAuthnCredential="40",t})(ie||{});var Fc="6.15.5";var Kn=()=>typeof global<"u";var Ft=()=>typeof window<"u",hs=()=>typeof document<"u",Jo=()=>typeof process<"u",qn=(t,e)=>!!Object.keys(t).find(n=>n.startsWith(e));function rg(){let t=o=>o.startsWith("_react")||o.startsWith("__react"),e=o=>Object.keys(o).find(t),n=()=>Array.from(document.querySelectorAll("[id]"));return hs()&&n().some(e)}function ig(){return Jo()&&typeof process.env<"u"&&!!Object.keys(process.env).find(t=>t.includes("react"))}function sg(){return Ft()&&qn(window,"__VUE")}function ag(){return Kn()&&qn(global,"__VUE")}function cg(){return Ft()&&qn(window,"__SVELTE")}function lg(){return Jo()&&typeof process.env<"u"&&!!Object.keys(process.env).find(t=>t.includes("svelte"))}function dg(){return Ft()&&window.next&&typeof window.next=="object"}function ug(){return Kn()&&(qn(global,"__next")||qn(global,"__NEXT"))}function pg(){return Ft()&&(window.__NUXT__!==void 0||window.$nuxt!==void 0)}function mg(){return Kn()&&typeof global.__NUXT_PATHS__<"u"}function fg(){let t=!!(hs()&&document.querySelector("[ng-version]")),e=!!(Ft()&&typeof window.ng<"u");return t||e}function gg(){return Jo()&&typeof process.env=="object"&&process.env.npm_lifecycle_script?.startsWith("ng ")||!1}function hg(){return typeof navigator<"u"&&typeof navigator.product<"u"&&navigator.product==="ReactNative"}function yg(){return Kn()&&typeof global.expo<"u"}function Cg(){return Ft()}var W_=[{platform:Ee.Expo,detectionMethod:yg},{platform:Ee.ReactNative,detectionMethod:hg},{platform:Ee.NextJs,detectionMethod:dg},{platform:Ee.Nuxt,detectionMethod:pg},{platform:Ee.Angular,detectionMethod:fg},{platform:Ee.React,detectionMethod:rg},{platform:Ee.VueJs,detectionMethod:sg},{platform:Ee.Svelte,detectionMethod:cg},{platform:Ee.WebUnknown,detectionMethod:Cg},{platform:Ee.NextJsSSR,detectionMethod:ug},{platform:Ee.NuxtSSR,detectionMethod:mg},{platform:Ee.ReactSSR,detectionMethod:ig},{platform:Ee.VueJsSSR,detectionMethod:ag},{platform:Ee.AngularSSR,detectionMethod:gg},{platform:Ee.SvelteSSR,detectionMethod:lg}];function vg(){return W_.find(t=>t.detectionMethod())?.platform||Ee.ServerSideUnknown}var Lr,ys=[],Cs=!1,K_=10,q_=10,j_=1e3,vs=()=>{if(!Lr){if(Lr=vg(),Cs)for(;ys.length;)ys.pop()?.();else ys.forEach(t=>{t()});Sg(Ee.ServerSideUnknown,K_),Sg(Ee.WebUnknown,q_)}return Lr},_g=t=>{Cs||ys.push(t)};function $_(){Lr=void 0}function Sg(t,e){Lr===t&&!Cs&&setTimeout(()=>{$_(),Cs=!0,setTimeout(vs,j_)},e)}var G_={};var Eg=(t,e)=>G_[t]?.[e]?.additionalDetails;var Ig="aws-amplify",bg=t=>t.replace(/\+.*/,""),Lc=class{constructor(){this.userAgent=`${Ig}/${bg(Fc)}`}get framework(){return vs()}get isReactNative(){return this.framework===Ee.ReactNative||this.framework===Ee.Expo}observeFrameworkChanges(e){_g(e)}},Y_=new Lc,xg=({category:t,action:e}={})=>{let n=[[Ig,bg(Fc)]];if(t&&n.push([t,e]),n.push(["framework",vs()]),t&&e){let o=Eg(t,e);o&&o.forEach(r=>{n.push(r)})}return n},Dn=t=>xg(t).map(([o,r])=>o&&r?`${o}/${r}`:o).join(" ");var Nn=()=>typeof window<"u"&&typeof window.document<"u";var wg=new ye("Auth"),Ss=class{configure(e,n){this.authConfig=e,this.authOptions=n,e&&e.Cognito?.userPoolEndpoint&&wg.warn(Tg("Amazon Cognito User Pool")),e&&e.Cognito?.identityPoolEndpoint&&wg.warn(Tg("Amazon Cognito Identity Pool"))}async fetchAuthSession(e={}){let n,o,r=await this.getTokens(e);return r?(o=r.accessToken?.payload?.sub,n=await this.authOptions?.credentialsProvider?.getCredentialsAndIdentityId({authConfig:this.authConfig,tokens:r,authenticated:!0,forceRefresh:e.forceRefresh})):n=await this.authOptions?.credentialsProvider?.getCredentialsAndIdentityId({authConfig:this.authConfig,authenticated:!1,forceRefresh:e.forceRefresh}),{tokens:r,credentials:n?.credentials,identityId:n?.identityId,userSub:o}}async clearCredentials(){await this.authOptions?.credentialsProvider?.clearCredentialsAndIdentityId()}async getTokens(e){return await this.authOptions?.tokenProvider?.getTokens(e)??void 0}},Tg=t=>`You are using a custom Amazon ${t} endpoint, ensure the endpoint is correct.`;var _s=class{constructor(){this.oAuthListener=void 0,this.isConfigured=!1,this.resourcesConfig={},this.libraryOptions={},this.Auth=new Ss}configure(e,n){let o=Ur(e);this.resourcesConfig=o,n&&(this.libraryOptions=n),this.resourcesConfig=Dc(this.resourcesConfig),this.Auth.configure(this.resourcesConfig.Auth,this.libraryOptions.Auth),ze.dispatch("core",{event:"configure",data:this.resourcesConfig},"Configure",qe),this.notifyOAuthListener(),this.isConfigured=!0}getConfig(){return this.isConfigured||console.warn("Amplify has not been configured. Please call Amplify.configure() before using this service."),this.resourcesConfig}[kr](e){this.resourcesConfig.Auth?.Cognito.loginWith?.oauth?e(this.resourcesConfig.Auth?.Cognito):this.oAuthListener=e}notifyOAuthListener(){!this.resourcesConfig.Auth?.Cognito.loginWith?.oauth||!this.oAuthListener||(this.oAuthListener(this.resourcesConfig.Auth?.Cognito),this.oAuthListener=void 0)}},$=new _s;var Br=(t,e)=>t.Auth.fetchAuthSession(e);var zr=t=>Br($,t);function Vr(){return $.Auth.clearCredentials()}var Co=t=>{let{headers:e,statusCode:n}=t;return U(y({},Q_(t)?t.$metadata:{}),{httpStatusCode:n,requestId:e["x-amzn-requestid"]??e["x-amzn-request-id"]??e["x-amz-request-id"],extendedRequestId:e["x-amz-id-2"],cfId:e["x-amz-cf-id"]})},Q_=t=>typeof t?.$metadata=="object";var bt=async t=>{if(!t||t.statusCode<300)return;let e=await fn(t),o=(s=>{let[a]=s.toString().split(/[,:]+/);return a.includes("#")?a.split("#")[1]:a})(t.headers["x-amzn-errortype"]??e.code??e.__type??"UnknownError"),r=e.message??e.Message??"Unknown error",i=new Error(r);return Object.assign(i,{name:o,$metadata:Co(t)})},fn=async t=>{if(!t.body)throw new Error("Missing response payload");let e=await t.body.json();return Object.assign(e,{$metadata:Co(t)})};var se=(t,e,n,o)=>async(r,i)=>{let s=y(y({},o),r),a=await s.endpointResolver(s,i),c=await e(i,a),l=await t(c,y({},s));return n(l)};function Pg(t=3e5){return o=>{let r=2**o*100+100*Math.random();return r>t?!1:r}}var Bc="amz-sdk-invocation-id",Ag="amz-sdk-request";var Hr=t=>{let n=Pg(3e5)(t);return n===!1?3e5:n};var X_=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch","BadRequestException"],Dg=t=>!!t&&X_.includes(t);var Wr=t=>async(e,n)=>{let o=n??await t(e)??void 0,r=o?.code||o?.name,i=e?.statusCode;return{retryable:nE(n)||tE(i,r)||Dg(r)||oE(i,r)}},Z_=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException"],eE=["TimeoutError","RequestTimeout","RequestTimeoutException"],tE=(t,e)=>t===429||!!e&&Z_.includes(e),nE=t=>[mt.NetworkError,"ERR_NETWORK"].includes(t?.name),oE=(t,e)=>!!t&&[500,502,503,504].includes(t)||!!e&&eE.includes(e);var zc="cognito-identity",Es={service:zc,retryDecider:Wr(bt),computeDelay:Hr,cache:"no-store"};var Rg=({maxAttempts:t=3,retryDecider:e,computeDelay:n,abortSignal:o})=>{if(t<1)throw new Error("maxAttempts must be greater than 0");return(r,i)=>async function(a){let c,l=i.attemptsCount??0,d,u=()=>{if(d)return Ng(d,l),d;throw Ng(c,l),c};for(;!o?.aborted&&l<t;){try{d=await r(a),c=void 0}catch(f){c=f,d=void 0}l=(i.attemptsCount??0)>l?i.attemptsCount??0:l+1,i.attemptsCount=l;let{isCredentialsExpiredError:p,retryable:m}=await e(d,c,i);if(m){if(i.isCredentialsExpired=!!p,!o?.aborted&&l<t){let f=n(l);await rE(f,o)}continue}else return u()}if(o?.aborted)throw new Error("Request aborted.");return u()}},rE=(t,e)=>{if(e?.aborted)return Promise.resolve();let n,o,r=new Promise(i=>{o=i,n=setTimeout(i,t)});return e?.addEventListener("abort",function i(s){clearTimeout(n),e?.removeEventListener("abort",i),o()}),r},Ng=(t,e)=>{Object.prototype.toString.call(t)==="[object Object]"&&(t.$metadata=U(y({},t.$metadata??{}),{attempts:e}))};var Mg=Mc;var kg=()=>t=>async function(n){return n.headers[Bc]||(n.headers[Bc]=Mg()),t(n)};var Ug=({maxAttempts:t=3})=>(e,n)=>async function(r){let i=n.attemptsCount??0;return r.headers[Ag]=`attempt=${i+1}; max=${t}`,e(r)};var Fg=({userAgentHeader:t="x-amz-user-agent",userAgentValue:e=""})=>n=>async function(r){if(e.trim().length===0)return await n(r);{let i=t.toLowerCase();return r.headers[i]=r.headers[i]?`${r.headers[i]} ${e}`:e,await n(r)}};var vo=(t,e)=>(n,o)=>{let r={},i=s=>t(s,o);for(let s=e.length-1;s>=0;s--){let a=e[s];i=a(o)(i,r)}return i(n)};var Is=t=>{let e;return()=>(e||(e=t()),e)};var iE=t=>!["HEAD","GET"].includes(t.toUpperCase()),Lg=async({url:t,method:e,headers:n,body:o},{abortSignal:r,cache:i,withCrossDomainCredentials:s})=>{let a;try{a=await fetch(t,{method:e,headers:n,body:iE(e)?o:void 0,signal:r,cache:i,credentials:s?"include":"same-origin"})}catch(u){throw u instanceof TypeError?new Ae({name:mt.NetworkError,message:"A network error has occurred.",underlyingError:u}):u}let c={};a.headers?.forEach((u,p)=>{c[p.toLowerCase()]=u});let l={statusCode:a.status,headers:c,body:null},d=Object.assign(a.body??{},{text:Is(()=>a.text()),blob:Is(()=>a.blob()),json:Is(()=>a.json())});return U(y({},l),{body:d})};var Kr=vo(Lg,[Fg,kg,Rg,Ug]);var Bg=()=>t=>async function(n){return n.headers["cache-control"]="no-store",t(n)};var bs=vo(Kr,[Bg]);var xs=t=>(e,n)=>{let o=sE(t),r=JSON.stringify(e);return aE(n,o,r)},sE=t=>({"content-type":"application/x-amz-json-1.1","x-amz-target":`AWSCognitoIdentityService.${t}`}),aE=({url:t},e,n)=>({headers:e,url:t,body:n,method:"POST"});var ws=t=>se(bs,xs("GetCredentialsForIdentity"),cE,U(y(y({},Es),t),{userAgentValue:Dn()})),cE=async t=>{if(t.statusCode>=300)throw await bt(t);let e=await fn(t);return{IdentityId:e.IdentityId,Credentials:lE(e.Credentials),$metadata:Co(t)}},lE=(n={})=>{var o=n,{Expiration:t}=o,e=ri(o,["Expiration"]);return U(y({},e),{Expiration:t&&new Date(t*1e3)})};var Vc=t=>se(bs,xs("GetId"),dE,U(y(y({},Es),t),{userAgentValue:Dn()})),dE=async t=>{if(t.statusCode>=300)throw await bt(t);return{IdentityId:(await fn(t)).IdentityId,$metadata:Co(t)}};var Hc={id:"aws",outputs:{dnsSuffix:"amazonaws.com"},regionRegex:"^(us|eu|ap|sa|ca|me|af)\\-\\w+\\-\\d+$",regions:["aws-global"]},zg={partitions:[Hc,{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn"},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:["aws-cn-global"]}]};var qr=t=>{let{partitions:e}=zg;for(let{regions:n,outputs:o,regionRegex:r}of e){let i=new RegExp(r);if(n.includes(t)||i.test(t))return o.dnsSuffix}return Hc.outputs.dnsSuffix};var ot=URL;var Wc=({region:t})=>({url:new ot(`https://${zc}.${t}.${qr(t)}`)});var On=class extends Ae{constructor(){super({name:mt.PlatformNotSupported,message:"Function not supported on current platform"})}};var gn=class{constructor(e){this.storage=e}async setItem(e,n){if(!this.storage)throw new On;this.storage.setItem(e,n)}async getItem(e){if(!this.storage)throw new On;return this.storage.getItem(e)}async removeItem(e){if(!this.storage)throw new On;this.storage.removeItem(e)}async clear(){if(!this.storage)throw new On;this.storage.clear()}};var So=class{constructor(){this.storage=new Map}get length(){return this.storage.size}key(e){return e>this.length-1?null:Array.from(this.storage.keys())[e]}setItem(e,n){this.storage.set(e,n)}getItem(e){return this.storage.get(e)??null}removeItem(e){this.storage.delete(e)}clear(){this.storage.clear()}};var Vg=new ye("CoreStorageUtils"),Ts=()=>{try{if(typeof window<"u"&&window.localStorage)return window.localStorage}catch{Vg.info("localStorage not found. InMemoryStorage is used as a fallback.")}return new So},Ps=()=>{try{if(typeof window<"u"&&window.sessionStorage)return window.sessionStorage.getItem("test"),window.sessionStorage;throw new Error("sessionStorage is not defined")}catch{return Vg.info("sessionStorage not found. InMemoryStorage is used as a fallback."),new So}};var As=class extends gn{constructor(){super(Ts())}};var Ds=class extends gn{constructor(){super(Ps())}};var Ns=class{constructor(e){this._storage=e}get storage(){if(!this._storage)throw new On;return this._storage}setItem(e,n){this.storage.setItem(e,n)}getItem(e){return this.storage.getItem(e)}removeItem(e){this.storage.removeItem(e)}clear(){this.storage.clear()}};var Os=class extends Ns{constructor(){super(Ps())}};function Rs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)t[o]=n[o]}return t}var uE={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function Kc(t,e){function n(r,i,s){if(!(typeof document>"u")){s=Rs({},e,s),typeof s.expires=="number"&&(s.expires=new Date(Date.now()+s.expires*864e5)),s.expires&&(s.expires=s.expires.toUTCString()),r=encodeURIComponent(r).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var c in s)s[c]&&(a+="; "+c,s[c]!==!0&&(a+="="+s[c].split(";")[0]));return document.cookie=r+"="+t.write(i,r)+a}}function o(r){if(!(typeof document>"u"||arguments.length&&!r)){for(var i=document.cookie?document.cookie.split("; "):[],s={},a=0;a<i.length;a++){var c=i[a].split("="),l=c.slice(1).join("=");try{var d=decodeURIComponent(c[0]);if(s[d]=t.read(l,d),r===d)break}catch{}}return r?s[r]:s}}return Object.create({set:n,get:o,remove:function(r,i){n(r,"",Rs({},i,{expires:-1}))},withAttributes:function(r){return Kc(this.converter,Rs({},this.attributes,r))},withConverter:function(r){return Kc(Rs({},this.converter,r),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var jr=Kc(uE,{path:"/"});var Xo=class{constructor(e={}){let{path:n,domain:o,expires:r,sameSite:i,secure:s}=e;if(this.domain=o,this.path=n||"/",this.expires=Object.prototype.hasOwnProperty.call(e,"expires")?r:365,this.secure=Object.prototype.hasOwnProperty.call(e,"secure")?s:!0,Object.prototype.hasOwnProperty.call(e,"sameSite")){if(!i||!["strict","lax","none"].includes(i))throw new Error('The sameSite value of cookieStorage must be "lax", "strict" or "none".');if(i==="none"&&!this.secure)throw new Error("sameSite = None requires the Secure attribute in latest browser versions.");this.sameSite=i}}async setItem(e,n){jr.set(e,n,this.getData())}async getItem(e){return jr.get(e)??null}async removeItem(e){jr.remove(e,this.getData())}async clear(){let e=jr.get(),n=Object.keys(e).map(o=>this.removeItem(o));await Promise.all(n)}getData(){return y({path:this.path,expires:this.expires,domain:this.domain,secure:this.secure},this.sameSite&&{sameSite:this.sameSite})}};var Lt=new As,Hg=new Ds,Qt=new Os,Wg=new gn(new So);var jn={keyPrefix:"aws-amplify-cache",capacityInBytes:1048576,itemMaxSize:21e4,defaultTTL:2592e5,defaultPriority:5,warningThreshold:.8},Rn="CurSize";function qc(t){let e=0;e=t.length;for(let n=t.length;n>=0;n-=1){let o=t.charCodeAt(n);o>127&&o<=2047?e+=1:o>2047&&o<=65535&&(e+=2),o>=56320&&o<=57343&&(n-=1)}return e}function $n(){return new Date().getTime()}var _o=t=>`${t}${Rn}`;var Eo=(function(t){return t.NoCacheItem="NoCacheItem",t.NullNextNode="NullNextNode",t.NullPreviousNode="NullPreviousNode",t})(Eo||{}),pE={[Eo.NoCacheItem]:{message:"Item not found in the cache storage."},[Eo.NullNextNode]:{message:"Next node is null."},[Eo.NullPreviousNode]:{message:"Previous node is null."}},jc=Yt(pE);var Me=new ye("StorageCache"),Ms=class{constructor({config:e,keyValueStorage:n}){this.config=y(y({},jn),e),this.keyValueStorage=n,this.sanitizeConfig()}getModuleName(){return"Cache"}configure(e){return e&&(e.keyPrefix&&Me.warn("keyPrefix can not be re-configured on an existing Cache instance."),this.config=y(y({},this.config),e)),this.sanitizeConfig(),this.config}async getCurrentCacheSize(){let e=await this.getStorage().getItem(_o(this.config.keyPrefix));return e||(await this.getStorage().setItem(_o(this.config.keyPrefix),"0"),e="0"),Number(e)}async setItem(e,n,o){if(Me.debug(`Set item: key is ${e}, value is ${n} with options: ${o}`),!e||e===Rn){Me.warn(`Invalid key: should not be empty or reserved key: '${Rn}'`);return}if(typeof n>"u"){Me.warn("The value of item should not be undefined!");return}let r={priority:o?.priority!==void 0?o.priority:this.config.defaultPriority,expires:o?.expires!==void 0?o.expires:this.config.defaultTTL+$n()};if(r.priority<1||r.priority>5){Me.warn("Invalid parameter: priority due to out or range. It should be within 1 and 5.");return}let i=`${this.config.keyPrefix}${e}`,s=this.fillCacheItem(i,n,r);if(s.byteSize>this.config.itemMaxSize){Me.warn(`Item with key: ${e} you are trying to put into is too big!`);return}try{let a=await this.getStorage().getItem(i);if(a&&await this.removeCacheItem(i,JSON.parse(a).byteSize),await this.isCacheFull(s.byteSize)){let c=await this.clearInvalidAndGetRemainingKeys();if(await this.isCacheFull(s.byteSize)){let l=await this.sizeToPop(s.byteSize);await this.popOutItems(c,l)}}return this.setCacheItem(i,s)}catch(a){Me.warn(`setItem failed! ${a}`)}}async getItem(e,n){Me.debug(`Get item: key is ${e} with options ${n}`);let o;if(!e||e===Rn)return Me.warn(`Invalid key: should not be empty or reserved key: '${Rn}'`),null;let r=`${this.config.keyPrefix}${e}`;try{if(o=await this.getStorage().getItem(r),o!=null)if(await this.isExpired(r))await this.removeCacheItem(r,JSON.parse(o).byteSize);else return(await this.updateVisitedTime(JSON.parse(o),r)).data;if(n?.callback){let i=n.callback();return i!==null&&await this.setItem(e,i,n),i}return null}catch(i){return Me.warn(`getItem failed! ${i}`),null}}async removeItem(e){if(Me.debug(`Remove item: key is ${e}`),!e||e===Rn){Me.warn(`Invalid key: should not be empty or reserved key: '${Rn}'`);return}let n=`${this.config.keyPrefix}${e}`;try{let o=await this.getStorage().getItem(n);o&&await this.removeCacheItem(n,JSON.parse(o).byteSize)}catch(o){Me.warn(`removeItem failed! ${o}`)}}async getAllKeys(){try{return await this.getAllCacheKeys()}catch(e){return Me.warn(`getAllkeys failed! ${e}`),[]}}getStorage(){return this.keyValueStorage}async isExpired(e){let n=await this.getStorage().getItem(e);jc(n!==null,Eo.NoCacheItem,`Key: ${e}`);let o=JSON.parse(n);return $n()>=o.expires}async removeCacheItem(e,n){let o=await this.getStorage().getItem(e);jc(o!==null,Eo.NoCacheItem,`Key: ${e}`);let r=n??JSON.parse(o).byteSize;await this.decreaseCurrentSizeInBytes(r);try{await this.getStorage().removeItem(e)}catch(i){await this.increaseCurrentSizeInBytes(r),Me.error(`Failed to remove item: ${i}`)}}fillCacheItem(e,n,o){let r={key:e,data:n,timestamp:$n(),visitedTime:$n(),priority:o.priority??0,expires:o.expires??0,type:typeof n,byteSize:0};return r.byteSize=qc(JSON.stringify(r)),r.byteSize=qc(JSON.stringify(r)),r}sanitizeConfig(){this.config.itemMaxSize>this.config.capacityInBytes&&(Me.error("Invalid parameter: itemMaxSize. It should be smaller than capacityInBytes. Setting back to default."),this.config.itemMaxSize=jn.itemMaxSize),(this.config.defaultPriority>5||this.config.defaultPriority<1)&&(Me.error("Invalid parameter: defaultPriority. It should be between 1 and 5. Setting back to default."),this.config.defaultPriority=jn.defaultPriority),(Number(this.config.warningThreshold)>1||Number(this.config.warningThreshold)<0)&&(Me.error("Invalid parameter: warningThreshold. It should be between 0 and 1. Setting back to default."),this.config.warningThreshold=jn.warningThreshold);let e=5*1024*1024;this.config.capacityInBytes>e&&(Me.error("Cache Capacity should be less than 5MB. Setting back to default. Setting back to default."),this.config.capacityInBytes=jn.capacityInBytes)}async increaseCurrentSizeInBytes(e){let n=await this.getCurrentCacheSize();await this.getStorage().setItem(_o(this.config.keyPrefix),(n+e).toString())}async decreaseCurrentSizeInBytes(e){let n=await this.getCurrentCacheSize();await this.getStorage().setItem(_o(this.config.keyPrefix),(n-e).toString())}async updateVisitedTime(e,n){return e.visitedTime=$n(),await this.getStorage().setItem(n,JSON.stringify(e)),e}async setCacheItem(e,n){await this.increaseCurrentSizeInBytes(n.byteSize);try{await this.getStorage().setItem(e,JSON.stringify(n))}catch(o){await this.decreaseCurrentSizeInBytes(n.byteSize),Me.error(`Failed to set item ${o}`)}}async sizeToPop(e){let o=await this.getCurrentCacheSize()+e-this.config.capacityInBytes,r=(1-this.config.warningThreshold)*this.config.capacityInBytes;return o>r?o:r}async isCacheFull(e){let n=await this.getCurrentCacheSize();return e+n>this.config.capacityInBytes}async popOutItems(e,n){let o=[],r=n;for(let i of e){let s=await this.getStorage().getItem(i);if(s!=null){let a=JSON.parse(s);o.push(a)}}o.sort((i,s)=>i.priority>s.priority?-1:i.priority<s.priority?1:i.visitedTime<s.visitedTime?-1:1);for(let i of o)if(await this.removeCacheItem(i.key,i.byteSize),r-=i.byteSize,r<=0)return}async clearInvalidAndGetRemainingKeys(){let e=[],n=await this.getAllCacheKeys({omitSizeKey:!0});for(let o of n)await this.isExpired(o)?await this.removeCacheItem(o):e.push(o);return e}async clear(){Me.debug("Clear Cache");try{let e=await this.getAllKeys();for(let n of e){let o=`${this.config.keyPrefix}${n}`;await this.getStorage().removeItem(o)}}catch(e){Me.warn(`clear failed! ${e}`)}}};var mE=new ye("StorageCache"),ks=class t extends Ms{constructor(e){let n=Ts();super({config:e,keyValueStorage:new gn(n)}),this.storage=n,this.getItem=this.getItem.bind(this),this.setItem=this.setItem.bind(this),this.removeItem=this.removeItem.bind(this)}async getAllCacheKeys(e){let{omitSizeKey:n}=e??{},o=[];for(let r=0;r<this.storage.length;r++){let i=this.storage.key(r);n&&i===_o(this.config.keyPrefix)||i?.startsWith(this.config.keyPrefix)&&o.push(i.substring(this.config.keyPrefix.length))}return o}createInstance(e){return(!e.keyPrefix||e.keyPrefix===jn.keyPrefix)&&(mE.error("invalid keyPrefix, setting keyPrefix with timeStamp"),e.keyPrefix=$n.toString()),new t(e)}};var Kg=new ks;var fE=new ye("I18n"),qg=class{constructor(){this._options=null,this._lang=null,this._dict={}}setDefaultLanguage(){!this._lang&&typeof window<"u"&&window&&window.navigator&&(this._lang=window.navigator.language),fE.debug(this._lang)}setLanguage(e){this._lang=e}get(e,n=void 0){if(this.setDefaultLanguage(),!this._lang)return typeof n<"u"?n:e;let o=this._lang,r=this.getByLanguage(e,o);return r||(o.indexOf("-")>0&&(r=this.getByLanguage(e,o.split("-")[0])),r)?r:typeof n<"u"?n:e}getByLanguage(e,n,o=null){if(!n)return o;let r=this._dict[n];return r?r[e]:o}putVocabulariesForLanguage(e,n){let o=this._dict[e];o||(o=this._dict[e]={}),this._dict[e]=y(y({},o),n)}putVocabularies(e){Object.keys(e).forEach(n=>{this.putVocabulariesForLanguage(n,e[n])})}};var Io=(function(t){return t.NotConfigured="NotConfigured",t})(Io||{}),gE={[Io.NotConfigured]:{message:"i18n is not configured."}},$r=Yt(gE);var jg=new ye("I18n"),Us={language:null},Jt=null,Gr=class t{static configure(e){return jg.debug("configure I18n"),e&&(Us=Object.assign({},Us,e.I18n||e),t.createInstance()),Us}static getModuleName(){return"I18n"}static createInstance(){jg.debug("create I18n instance"),!Jt&&(Jt=new qg)}static setLanguage(e){t.checkConfig(),$r(!!Jt,Io.NotConfigured),Jt.setLanguage(e)}static get(e,n){return t.checkConfig()?($r(!!Jt,Io.NotConfigured),Jt.get(e,n)):typeof n>"u"?e:n}static putVocabulariesForLanguage(e,n){t.checkConfig(),$r(!!Jt,Io.NotConfigured),Jt.putVocabulariesForLanguage(e,n)}static putVocabularies(e){t.checkConfig(),$r(!!Jt,Io.NotConfigured),Jt.putVocabularies(e)}static checkConfig(){return Jt||t.createInstance(),!0}};Gr.createInstance();var $c=t=>{let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=[],o=new Uint8Array(t);go().getRandomValues(o);for(let r of o)n.push(e[r%e.length]);return n.join("")};function Gc(t){return(t.match(/.{2}/g)||[]).map(n=>String.fromCharCode(parseInt(n,16))).join("")}function Yc(t){return t.split("").map(e=>e.charCodeAt(0).toString(16).padStart(2,"0")).join("")}var Qc=t=>{let e;return async(...n)=>e||(e=new Promise((o,r)=>{t(...n).then(i=>{o(i)}).catch(i=>{r(i)}).finally(()=>{e=void 0})}),e)};function Fs({expiresAt:t,clockDrift:e,tolerance:n=5e3}){return Date.now()+e+n>t}var Jc=async()=>{let{userAgentData:t}=navigator;if(!t)return navigator.userAgent;let{platform:e="",platformVersion:n="",model:o="",architecture:r="",fullVersionList:i=[]}=await t.getHighEntropyValues(["platform","platformVersion","architecture","model","fullVersionList"]),s=i.map(c=>`${c.brand}/${c.version}`).join(";");return[e,n,r,o,e,s].filter(c=>c).join(" ")||navigator.userAgent};function $g(t){return Array.from(t,e=>String.fromCodePoint(e)).join("")}var Bt={convert(t,e={urlSafe:!1,skipPadding:!1}){let n=typeof t=="string"?t:$g(t),o=qf()(n);return e.urlSafe&&(o=o.replace(/\+/g,"-").replace(/\//g,"_")),e.skipPadding&&(o=o.replace(/=/g,"")),o}};function Gg(){return go().getRandomValues(new Uint32Array(1))[0]}function hE(t){let{words:e}=t,{sigBytes:n}=t,o=[];for(let r=0;r<n;r++){let i=e[r>>>2]>>>24-r%4*8&255;o.push((i>>>4).toString(16)),o.push((i&15).toString(16))}return o.join("")}var Yr=class t{constructor(e,n){this.words=[];let o=e;o=this.words=o||[],n!==void 0?this.sigBytes=n:this.sigBytes=o.length*4}random(e){let n=[];for(let o=0;o<e;o+=4)n.push(Gg());return new t(n,e)}toString(){return hE(this)}};var H=(function(t){return t.EmptySignInUsername="EmptySignInUsername",t.EmptySignInPassword="EmptySignInPassword",t.CustomAuthSignInPassword="CustomAuthSignInPassword",t.EmptySignUpUsername="EmptySignUpUsername",t.EmptySignUpPassword="EmptySignUpPassword",t.EmptyConfirmSignUpUsername="EmptyConfirmSignUpUsername",t.EmptyConfirmSignUpCode="EmptyConfirmSignUpCode",t.EmptyResendSignUpCodeUsername="EmptyresendSignUpCodeUsername",t.EmptyChallengeResponse="EmptyChallengeResponse",t.EmptyConfirmResetPasswordUsername="EmptyConfirmResetPasswordUsername",t.EmptyConfirmResetPasswordNewPassword="EmptyConfirmResetPasswordNewPassword",t.EmptyConfirmResetPasswordConfirmationCode="EmptyConfirmResetPasswordConfirmationCode",t.EmptyResetPasswordUsername="EmptyResetPasswordUsername",t.EmptyVerifyTOTPSetupCode="EmptyVerifyTOTPSetupCode",t.EmptyConfirmUserAttributeCode="EmptyConfirmUserAttributeCode",t.IncorrectMFAMethod="IncorrectMFAMethod",t.EmptyUpdatePassword="EmptyUpdatePassword",t})(H||{});var Ls={[H.EmptyChallengeResponse]:{message:"challengeResponse is required to confirmSignIn"},[H.EmptyConfirmResetPasswordUsername]:{message:"username is required to confirmResetPassword"},[H.EmptyConfirmSignUpCode]:{message:"code is required to confirmSignUp"},[H.EmptyConfirmSignUpUsername]:{message:"username is required to confirmSignUp"},[H.EmptyConfirmResetPasswordConfirmationCode]:{message:"confirmationCode is required to confirmResetPassword"},[H.EmptyConfirmResetPasswordNewPassword]:{message:"newPassword is required to confirmResetPassword"},[H.EmptyResendSignUpCodeUsername]:{message:"username is required to confirmSignUp"},[H.EmptyResetPasswordUsername]:{message:"username is required to resetPassword"},[H.EmptySignInPassword]:{message:"password is required to signIn"},[H.EmptySignInUsername]:{message:"username is required to signIn"},[H.EmptySignUpPassword]:{message:"password is required to signUp"},[H.EmptySignUpUsername]:{message:"username is required to signUp"},[H.CustomAuthSignInPassword]:{message:"A password is not needed when signing in with CUSTOM_WITHOUT_SRP",recoverySuggestion:"Do not include a password in your signIn call."},[H.IncorrectMFAMethod]:{message:"Incorrect MFA method was chosen. It should be either SMS, TOTP, or EMAIL",recoverySuggestion:"Try to pass SMS, TOTP, or EMAIL as the challengeResponse"},[H.EmptyVerifyTOTPSetupCode]:{message:"code is required to verifyTotpSetup"},[H.EmptyUpdatePassword]:{message:"oldPassword and newPassword are required to changePassword"},[H.EmptyConfirmUserAttributeCode]:{message:"confirmation code is required to confirmUserAttribute"}},je=(function(t){return t.DEFAULT_MSG="Authentication Error",t.EMPTY_EMAIL="Email cannot be empty",t.EMPTY_PHONE="Phone number cannot be empty",t.EMPTY_USERNAME="Username cannot be empty",t.INVALID_USERNAME="The username should either be a string or one of the sign in types",t.EMPTY_PASSWORD="Password cannot be empty",t.EMPTY_CODE="Confirmation code cannot be empty",t.SIGN_UP_ERROR="Error creating account",t.NO_MFA="No valid MFA method provided",t.INVALID_MFA="Invalid MFA type",t.EMPTY_CHALLENGE="Challenge response cannot be empty",t.NO_USER_SESSION="Failed to get the session because the user is empty",t.NETWORK_ERROR="Network Error",t.DEVICE_CONFIG="Device tracking has not been configured in this User Pool",t.AUTOSIGNIN_ERROR="Please use your credentials to sign in",t.OAUTH_ERROR="Couldn't finish OAuth flow, check your User Pool HostedUI settings",t})(je||{}),Mn=(function(t){return t.SignInException="SignInException",t.OAuthSignInError="OAuthSignInException",t})(Mn||{});var D=class t extends Ae{constructor(e){super(e),this.constructor=t,Object.setPrototypeOf(this,t.prototype)}};function ae(t,e){let{message:n,recoverySuggestion:o}=Ls[e];if(!t)throw new D({name:e,message:n,recoverySuggestion:o})}function ee(t){let e=t?.split("_")[0];if(!t||t.indexOf("_")<0||!e||typeof e!="string")throw new D({name:"InvalidUserPoolId",message:"Invalid user pool id provided."});return e}function Qr(t){if(!t||!t.includes(":"))throw new D({name:"InvalidIdentityPoolIdException",message:"Invalid identity pool id provided.",recoverySuggestion:"Make sure a valid identityPoolId is given in the config."});return t.split(":")[0]}function Xc(t){return Object.entries(t).map(([e,n])=>({Name:e,Value:n}))}function Yg(t){let e={};return t?.forEach(n=>{n.Name&&(e[n.Name]=n.Value)}),e}var Bs=(function(t){return t.PasswordResetRequiredException="PasswordResetRequiredException",t.ForbiddenException="ForbiddenException",t.InternalErrorException="InternalErrorException",t.InvalidLambdaResponseException="InvalidLambdaResponseException",t.InvalidParameterException="InvalidParameterException",t.InvalidSmsRoleAccessPolicyException="InvalidSmsRoleAccessPolicyException",t.InvalidSmsRoleTrustRelationshipException="InvalidSmsRoleTrustRelationshipException",t.InvalidUserPoolConfigurationException="InvalidUserPoolConfigurationException",t.NotAuthorizedException="NotAuthorizedException",t.ResourceNotFoundException="ResourceNotFoundException",t.TooManyRequestsException="TooManyRequestsException",t.UnexpectedLambdaException="UnexpectedLambdaException",t.UserLambdaValidationException="UserLambdaValidationException",t.UserNotConfirmedException="UserNotConfirmedException",t.UserNotFoundException="UserNotFoundException",t})(Bs||{});var Zc=(function(t){return t.CodeDeliveryFailureException="CodeDeliveryFailureException",t.InternalErrorException="InternalErrorException",t.InvalidEmailRoleAccessPolicyException="InvalidEmailRoleAccessPolicyException",t.InvalidLambdaResponseException="InvalidLambdaResponseException",t.InvalidParameterException="InvalidParameterException",t.InvalidPasswordException="InvalidPasswordException",t.InvalidSmsRoleAccessPolicyException="InvalidSmsRoleAccessPolicyException",t.InvalidSmsRoleTrustRelationshipException="InvalidSmsRoleTrustRelationshipException",t.NotAuthorizedException="NotAuthorizedException",t.ResourceNotFoundException="ResourceNotFoundException",t.TooManyRequestsException="TooManyRequestsException",t.UnexpectedLambdaException="UnexpectedLambdaException",t.UserLambdaValidationException="UserLambdaValidationException",t.UsernameExistsException="UsernameExistsException",t})(Zc||{});var Zo="UserUnAuthenticatedException",Qg="UserAlreadyAuthenticatedException",Jg="DeviceMetadataNotFoundException",zs="AutoSignInException",yE="InvalidRedirectException",CE="InvalidAppSchemeException",vE="InvalidPreferredRedirectUrlException",Xg=new D({name:yE,message:"signInRedirect or signOutRedirect had an invalid format or was not found.",recoverySuggestion:"Please make sure the signIn/Out redirect in your oauth config is valid."}),nL=new D({name:CE,message:"A valid non-http app scheme was not found in the config.",recoverySuggestion:"Please make sure a valid custom app scheme is present in the config."}),Zg=new D({name:vE,message:"The given preferredRedirectUrl does not match any items in the redirectSignOutUrls array from the config.",recoverySuggestion:"Please make sure a matching preferredRedirectUrl is provided."}),SE="InvalidOriginException",eh=new D({name:SE,message:"redirect is coming from a different origin. The oauth flow needs to be initiated from the same origin",recoverySuggestion:"Please call signInWithRedirect from the same origin."}),th="OAuthSignOutException",nh="TokenRefreshException",oh="UnexpectedSignInInterruptionException";function er(t){if(!t||!t.accessToken)throw new D({name:Zo,message:"User needs to be authenticated to call this API.",recoverySuggestion:"Sign in before calling this API again."})}function rh(t){if(!t||!t.idToken)throw new D({name:Zo,message:"User needs to be authenticated to call this API.",recoverySuggestion:"Sign in before calling this API again."})}var _E=new D({name:nh,message:`Token refresh is not supported when authenticated with the 'implicit grant' (token) oauth flow. 
	Please change your oauth configuration to use 'code grant' flow.`,recoverySuggestion:`Please logout and change your Amplify configuration to use "code grant" flow. 
	E.g { responseType: 'code' }`}),EE=new D({name:Zo,message:"User needs to be authenticated to call this API.",recoverySuggestion:"Sign in before calling this API again."});function Vs(t){if(bE(t))throw _E;if(!IE(t))throw EE}function el(t){if(!t||!t.deviceKey||!t.deviceGroupKey||!t.randomPassword)throw new D({name:Jg,message:"Either deviceKey, deviceGroupKey or secretPassword were not found during the sign-in process.",recoverySuggestion:"Make sure to not clear storage after calling the signIn API."})}var ih={inflightOAuth:"inflightOAuth",oauthSignIn:"oauthSignIn",oauthPKCE:"oauthPKCE",oauthState:"oauthState"};function sh(t){return t?.accessToken||t?.idToken}function IE(t){return sh(t)&&t?.refreshToken}function bE(t){return sh(t)&&!t?.refreshToken}var ah=async t=>{let e=t.getConfig().Auth?.Cognito;V(e);let n=await t.Auth.getTokens({forceRefresh:!1});er(n);let{"cognito:username":o,sub:r}=n.idToken?.payload??{},i={username:o,userId:r},s=xE(n);return s&&(i.signInDetails=s),i};function xE(t){return t?.signInDetails}var Hs=async()=>ah($);var de=(t,e)=>Dn(y({category:gs.Auth,action:t},e));var Ce=t=>(e,n)=>{let o=wE(t),r=JSON.stringify(e);return TE(n,o,r)},wE=t=>({"content-type":"application/x-amz-json-1.1","x-amz-target":`AWSCognitoIdentityProviderService.${t}`}),TE=({url:t},e,n)=>({headers:e,url:t,body:n,method:"POST"});function Ue(t){if(!t||t.name==="Error"||t instanceof TypeError)throw new D({name:mt.Unknown,message:"An unknown error has occurred.",underlyingError:t})}var xe=()=>async t=>{if(t.statusCode>=300){let e=await bt(t);throw Ue(e),new D({name:e.name,message:e.message,metadata:e.$metadata})}return fn(t)};var PE=()=>(t,e)=>async function(o){return o.headers["cache-control"]="no-store",t(o)},ve=vo(Kr,[PE]);var Ws="cognito-idp";var Se={service:Ws,retryDecider:Wr(bt),computeDelay:Hr,get userAgentValue(){return Dn()},cache:"no-store"};var Gn=t=>se(ve,Ce("InitiateAuth"),xe(),y(y({},Se),t));var bo=t=>se(ve,Ce("RespondToAuthChallenge"),xe(),y(y({},Se),t));var ch=t=>se(ve,Ce("AssociateSoftwareToken"),xe(),y(y({},Se),t));var lh=({region:t})=>({url:new ot(`https://${Ws}.${t}.${qr(t)}`)});var te=({endpointOverride:t})=>e=>t?{url:new ot(t)}:lh(e);var dh=t=>se(ve,Ce("GetTokensFromRefreshToken"),xe(),y(y({},Se),t));var AE=async({tokens:t,authConfig:e,username:n})=>{V(e?.Cognito);let{userPoolId:o,userPoolClientId:r,userPoolEndpoint:i}=e.Cognito,s=ee(o);Vs(t);let a=dh({endpointResolver:te({endpointOverride:i})}),{AuthenticationResult:c}=await a({region:s},{ClientId:r,RefreshToken:t.refreshToken,DeviceKey:t.deviceMetadata?.deviceKey}),l=Ye(c?.AccessToken??""),d=c?.IdToken?Ye(c.IdToken):void 0,{iat:u}=l.payload;if(!u)throw new D({name:"iatNotFoundException",message:"iat not found in access token"});let p=u*1e3-new Date().getTime();return{accessToken:l,idToken:d,clockDrift:p,refreshToken:c?.RefreshToken??t.refreshToken,username:n}},uh=Qc(AE);var ph={accessToken:"accessToken",idToken:"idToken",oidcProvider:"oidcProvider",clockDrift:"clockDrift",refreshToken:"refreshToken",deviceKey:"deviceKey",randomPasswordKey:"randomPasswordKey",deviceGroupKey:"deviceGroupKey",signInDetails:"signInDetails",oauthMetadata:"oauthMetadata"};var Ks=(function(t){return t.InvalidAuthTokens="InvalidAuthTokens",t})(Ks||{}),DE={[Ks.InvalidAuthTokens]:{message:"Invalid tokens.",recoverySuggestion:"Make sure the tokens are valid."}},mh=Yt(DE);var tl="CognitoIdentityServiceProvider";var qs=class{getKeyValueStorage(){if(!this.keyValueStorage)throw new D({name:"KeyValueStorageNotFoundException",message:"KeyValueStorage was not found in TokenStore"});return this.keyValueStorage}setKeyValueStorage(e){this.keyValueStorage=e}setAuthConfig(e){this.authConfig=e}async loadTokens(){try{let e=await this.getAuthKeys(),n=await this.getKeyValueStorage().getItem(e.accessToken);if(!n)throw new D({name:"NoSessionFoundException",message:"Auth session was not found. Make sure to call signIn."});let o=Ye(n),r=await this.getKeyValueStorage().getItem(e.idToken),i=r?Ye(r):void 0,s=await this.getKeyValueStorage().getItem(e.refreshToken)??void 0,a=await this.getKeyValueStorage().getItem(e.clockDrift)??"0",c=Number.parseInt(a),l=await this.getKeyValueStorage().getItem(e.signInDetails),d={accessToken:o,idToken:i,refreshToken:s,deviceMetadata:await this.getDeviceMetadata()??void 0,clockDrift:c,username:await this.getLastAuthUser()};return l&&(d.signInDetails=JSON.parse(l)),d}catch{return null}}async storeTokens(e){mh(e!==void 0,Ks.InvalidAuthTokens);let n=e.username;await this.getKeyValueStorage().setItem(this.getLastAuthUserKey(),n);let o=await this.getAuthKeys();await this.getKeyValueStorage().setItem(o.accessToken,e.accessToken.toString()),e.idToken?await this.getKeyValueStorage().setItem(o.idToken,e.idToken.toString()):await this.getKeyValueStorage().removeItem(o.idToken),e.refreshToken?await this.getKeyValueStorage().setItem(o.refreshToken,e.refreshToken):await this.getKeyValueStorage().removeItem(o.refreshToken),e.deviceMetadata&&(e.deviceMetadata.deviceKey&&await this.getKeyValueStorage().setItem(o.deviceKey,e.deviceMetadata.deviceKey),e.deviceMetadata.deviceGroupKey&&await this.getKeyValueStorage().setItem(o.deviceGroupKey,e.deviceMetadata.deviceGroupKey),await this.getKeyValueStorage().setItem(o.randomPasswordKey,e.deviceMetadata.randomPassword)),e.signInDetails?await this.getKeyValueStorage().setItem(o.signInDetails,JSON.stringify(e.signInDetails)):await this.getKeyValueStorage().removeItem(o.signInDetails),await this.getKeyValueStorage().setItem(o.clockDrift,`${e.clockDrift}`)}async clearTokens(){let e=await this.getAuthKeys();await Promise.all([this.getKeyValueStorage().removeItem(e.accessToken),this.getKeyValueStorage().removeItem(e.idToken),this.getKeyValueStorage().removeItem(e.clockDrift),this.getKeyValueStorage().removeItem(e.refreshToken),this.getKeyValueStorage().removeItem(e.signInDetails),this.getKeyValueStorage().removeItem(this.getLastAuthUserKey()),this.getKeyValueStorage().removeItem(e.oauthMetadata)])}async getDeviceMetadata(e){let n=await this.getAuthKeys(e),o=await this.getKeyValueStorage().getItem(n.deviceKey),r=await this.getKeyValueStorage().getItem(n.deviceGroupKey),i=await this.getKeyValueStorage().getItem(n.randomPasswordKey);return i&&r&&o?{deviceKey:o,deviceGroupKey:r,randomPassword:i}:null}async clearDeviceMetadata(e){let n=await this.getAuthKeys(e);await Promise.all([this.getKeyValueStorage().removeItem(n.deviceKey),this.getKeyValueStorage().removeItem(n.deviceGroupKey),this.getKeyValueStorage().removeItem(n.randomPasswordKey)])}async getAuthKeys(e){V(this.authConfig?.Cognito);let n=e??await this.getLastAuthUser();return NE(tl,`${this.authConfig.Cognito.userPoolClientId}.${n}`)}getLastAuthUserKey(){V(this.authConfig?.Cognito);let e=this.authConfig.Cognito.userPoolClientId;return`${tl}.${e}.LastAuthUser`}async getLastAuthUser(){return await this.getKeyValueStorage().getItem(this.getLastAuthUserKey())??"username"}async setOAuthMetadata(e){let{oauthMetadata:n}=await this.getAuthKeys();await this.getKeyValueStorage().setItem(n,JSON.stringify(e))}async getOAuthMetadata(){let{oauthMetadata:e}=await this.getAuthKeys(),n=await this.getKeyValueStorage().getItem(e);return n&&JSON.parse(n)}},NE=(t,e)=>Jr(ph)(`${t}`,e);function Jr(t){let e=Object.values(y({},t));return(n,o)=>e.reduce((r,i)=>U(y({},r),{[i]:`${n}.${o}.${i}`}),{})}var fh="amplify-signin-with-hostedUI",hn="CognitoIdentityServiceProvider",tr=class{constructor(e){this.keyValueStorage=e}async clearOAuthInflightData(){V(this.cognitoConfig);let e=yn(hn,this.cognitoConfig.userPoolClientId);await Promise.all([this.keyValueStorage.removeItem(e.inflightOAuth),this.keyValueStorage.removeItem(e.oauthPKCE),this.keyValueStorage.removeItem(e.oauthState)])}async clearOAuthData(){V(this.cognitoConfig);let e=yn(hn,this.cognitoConfig.userPoolClientId);return await this.clearOAuthInflightData(),await this.keyValueStorage.removeItem(fh),this.keyValueStorage.removeItem(e.oauthSignIn)}loadOAuthState(){V(this.cognitoConfig);let e=yn(hn,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.getItem(e.oauthState)}storeOAuthState(e){V(this.cognitoConfig);let n=yn(hn,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.setItem(n.oauthState,e)}loadPKCE(){V(this.cognitoConfig);let e=yn(hn,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.getItem(e.oauthPKCE)}storePKCE(e){V(this.cognitoConfig);let n=yn(hn,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.setItem(n.oauthPKCE,e)}setAuthConfig(e){this.cognitoConfig=e}async loadOAuthInFlight(){V(this.cognitoConfig);let e=yn(hn,this.cognitoConfig.userPoolClientId);return await this.keyValueStorage.getItem(e.inflightOAuth)==="true"}async storeOAuthInFlight(e){V(this.cognitoConfig);let n=yn(hn,this.cognitoConfig.userPoolClientId);await this.keyValueStorage.setItem(n.inflightOAuth,`${e}`)}async loadOAuthSignIn(){V(this.cognitoConfig);let e=yn(hn,this.cognitoConfig.userPoolClientId),n=await this.keyValueStorage.getItem(fh),[o,r]=(await this.keyValueStorage.getItem(e.oauthSignIn))?.split(",")??[];return{isOAuthSignIn:o==="true"||n==="true",preferPrivateSession:r==="true"}}async storeOAuthSignIn(e,n=!1){V(this.cognitoConfig);let o=yn(hn,this.cognitoConfig.userPoolClientId);await this.keyValueStorage.setItem(o.oauthSignIn,`${e},${n}`)}},yn=(t,e)=>Jr(ih)(t,e);var Ve=new tr(Lt);var nl=[],gh=t=>{nl.push(t)},js=()=>{for(;nl.length;)nl.pop()?.()};var $s=class{constructor(){this.waitForInflightOAuth=Nn()?async()=>{if(await Ve.loadOAuthInFlight())return this.inflightPromise?this.inflightPromise:(this.inflightPromise=new Promise((e,n)=>{gh(e)}),this.inflightPromise)}:async()=>{}}setAuthConfig(e){Ve.setAuthConfig(e.Cognito),this.authConfig=e}setTokenRefresher(e){this.tokenRefresher=e}setAuthTokenStore(e){this.tokenStore=e}getTokenStore(){if(!this.tokenStore)throw new D({name:"EmptyTokenStoreException",message:"TokenStore not set"});return this.tokenStore}getTokenRefresher(){if(!this.tokenRefresher)throw new D({name:"EmptyTokenRefresherException",message:"TokenRefresher not set"});return this.tokenRefresher}async getTokens(e){let n;try{V(this.authConfig?.Cognito)}catch{return null}await this.waitForInflightOAuth(),this.inflightPromise=void 0,n=await this.getTokenStore().loadTokens();let o=await this.getTokenStore().getLastAuthUser();if(n===null)return null;let r=!!n?.idToken&&Fs({expiresAt:(n.idToken?.payload?.exp??0)*1e3,clockDrift:n.clockDrift??0}),i=Fs({expiresAt:(n.accessToken?.payload?.exp??0)*1e3,clockDrift:n.clockDrift??0});return(e?.forceRefresh||r||i)&&(n=await this.refreshTokens({tokens:n,username:o}),n===null)?null:{accessToken:n?.accessToken,idToken:n?.idToken,signInDetails:n?.signInDetails}}async refreshTokens({tokens:e,username:n}){try{let{signInDetails:o}=e,r=await this.getTokenRefresher()({tokens:e,authConfig:this.authConfig,username:n});return r.signInDetails=o,await this.setTokens({tokens:r}),ze.dispatch("auth",{event:"tokenRefresh"},"Auth",qe),r}catch(o){return this.handleErrors(o)}}handleErrors(e){if(Ue(e),e.name!==mt.NetworkError&&this.clearTokens(),ze.dispatch("auth",{event:"tokenRefresh_failure",data:{error:e}},"Auth",qe),e.name.startsWith("NotAuthorizedException"))return null;throw e}async setTokens({tokens:e}){return this.getTokenStore().storeTokens(e)}async clearTokens(){return this.getTokenStore().clearTokens()}getDeviceMetadata(e){return this.getTokenStore().getDeviceMetadata(e)}clearDeviceMetadata(e){return this.getTokenStore().clearDeviceMetadata(e)}setOAuthMetadata(e){return this.getTokenStore().setOAuthMetadata(e)}getOAuthMetadata(){return this.getTokenStore().getOAuthMetadata()}};var Gs=class{constructor(){this.authTokenStore=new qs,this.authTokenStore.setKeyValueStorage(Lt),this.tokenOrchestrator=new $s,this.tokenOrchestrator.setAuthTokenStore(this.authTokenStore),this.tokenOrchestrator.setTokenRefresher(uh)}getTokens({forceRefresh:e}={forceRefresh:!1}){return this.tokenOrchestrator.getTokens({forceRefresh:e})}setKeyValueStorage(e){this.authTokenStore.setKeyValueStorage(e)}setAuthConfig(e){this.authTokenStore.setAuthConfig(e),this.tokenOrchestrator.setAuthConfig(e)}};var xo=new Gs,{tokenOrchestrator:De}=xo;async function rt(t){if(t.AccessToken){let e=Ye(t.AccessToken),n=(e.payload.iat||0)*1e3,o=new Date().getTime(),r=n>0?n-o:0,i,s,a;t.RefreshToken&&(s=t.RefreshToken),t.IdToken&&(i=Ye(t.IdToken)),t?.NewDeviceMetadata&&(a=t.NewDeviceMetadata);let c={accessToken:e,idToken:i,refreshToken:s,clockDrift:r,deviceMetadata:a,username:t.username};t?.signInDetails&&(c.signInDetails=t.signInDetails),await De.setTokens({tokens:c})}else throw new Ae({message:"Invalid tokens",name:"InvalidTokens",recoverySuggestion:"Check Cognito UserPool settings"})}var OE="Unable to get user session following successful sign-in.",gt=async()=>{try{ze.dispatch("auth",{event:"signedIn",data:await Hs()},"Auth",qe)}catch(t){throw t.name===Zo?new D({name:oh,message:OE,recoverySuggestion:"This most likely is due to auth tokens not being persisted. If you are using cookie store, please ensure cookies can be correctly set from your server."}):t}};function hh(){return{active:!1}}var RE=(t,e)=>{switch(e.type){case"SET_USERNAME":return U(y({},t),{username:e.value});case"SET_SESSION":return U(y({},t),{session:e.value});case"START":return U(y({},t),{active:!0});case"RESET":return hh();default:return t}},ME=t=>{let e=t(hh(),{type:"RESET"});return{getState:()=>e,dispatch:n=>{e=t(e,n)}}},zt=ME(RE);var kE=180*1e3,Ys="CognitoSignInState",kn={username:`${Ys}.username`,challengeName:`${Ys}.challengeName`,signInSession:`${Ys}.signInSession`,expiry:`${Ys}.expiry`},UE=(t,e)=>{switch(e.type){case"SET_SIGN_IN_SESSION":return Qs({signInSession:e.value}),U(y({},t),{signInSession:e.value});case"SET_SIGN_IN_STATE":return Qs(e.value),y({},e.value);case"SET_CHALLENGE_NAME":return Qs({challengeName:e.value}),U(y({},t),{challengeName:e.value});case"SET_USERNAME":return Qs({username:e.value}),U(y({},t),{username:e.value});case"SET_INITIAL_STATE":return LE();case"RESET_STATE":return yh(),ol();default:return t}},FE=t=>{let e=Number(t),n=Date.now();return e<=n},it=()=>{Xt.dispatch({type:"RESET_STATE"})},yh=()=>{for(let t of Object.values(kn))Qt.removeItem(t)},ol=()=>({username:void 0,challengeName:void 0,signInSession:void 0}),LE=()=>{let t=Qt.getItem(kn.expiry);if(!t||FE(t))return yh(),ol();let e=Qt.getItem(kn.username)??void 0,n=Qt.getItem(kn.challengeName)??void 0,o=Qt.getItem(kn.signInSession)??void 0;return{username:e,challengeName:n,signInSession:o}},BE=t=>{let e=t(ol(),{type:"SET_INITIAL_STATE"});return{getState:()=>e,dispatch:n=>{e=t(e,n)}}},Xt=BE(UE);function Vt(t){Xt.dispatch({type:"SET_SIGN_IN_STATE",value:t})}var Qs=({challengeName:t,signInSession:e,username:n})=>{n&&Qt.setItem(kn.username,n),t&&Qt.setItem(kn.challengeName,t),e&&(Qt.setItem(kn.signInSession,e),Qt.setItem(kn.expiry,String(Date.now()+kE)))};var Yn=class t extends Ae{constructor(e){super(e),this.constructor=t,Object.setPrototypeOf(this,t.prototype)}},Ne=(function(t){return t.PasskeyNotSupported="PasskeyNotSupported",t.PasskeyAlreadyExists="PasskeyAlreadyExists",t.InvalidPasskeyRegistrationOptions="InvalidPasskeyRegistrationOptions",t.InvalidPasskeyAuthenticationOptions="InvalidPasskeyAuthenticationOptions",t.RelyingPartyMismatch="RelyingPartyMismatch",t.PasskeyRegistrationFailed="PasskeyRegistrationFailed",t.PasskeyRetrievalFailed="PasskeyRetrievalFailed",t.PasskeyRegistrationCanceled="PasskeyRegistrationCanceled",t.PasskeyAuthenticationCanceled="PasskeyAuthenticationCanceled",t.PasskeyOperationAborted="PasskeyOperationAborted",t})(Ne||{}),Ch="Passkeys may not be supported on this device. Ensure your application is running in a secure context (HTTPS) and Web Authentication API is supported.",rl="User may have canceled the ceremony or another interruption has occurred. Check underlying error for details.",vh="Ensure your user pool is configured to support the WEB_AUTHN as an authentication factor.",Js={[Ne.PasskeyNotSupported]:{message:"Passkeys may not be supported on this device.",recoverySuggestion:Ch},[Ne.InvalidPasskeyRegistrationOptions]:{message:"Invalid passkey registration options.",recoverySuggestion:vh},[Ne.InvalidPasskeyAuthenticationOptions]:{message:"Invalid passkey authentication options.",recoverySuggestion:vh},[Ne.PasskeyRegistrationFailed]:{message:"Device failed to create passkey.",recoverySuggestion:Ch},[Ne.PasskeyRetrievalFailed]:{message:"Device failed to retrieve passkey.",recoverySuggestion:"Passkeys may not be available on this device. Try an alternative authentication factor like PASSWORD, EMAIL_OTP, or SMS_OTP."},[Ne.PasskeyAlreadyExists]:{message:"Passkey already exists in authenticator.",recoverySuggestion:"Proceed with existing passkey or try again after deleting the credential."},[Ne.PasskeyRegistrationCanceled]:{message:"Passkey registration ceremony has been canceled.",recoverySuggestion:rl},[Ne.PasskeyAuthenticationCanceled]:{message:"Passkey authentication ceremony has been canceled.",recoverySuggestion:rl},[Ne.PasskeyOperationAborted]:{message:"Passkey operation has been aborted.",recoverySuggestion:rl},[Ne.RelyingPartyMismatch]:{message:"Relying party does not match current domain.",recoverySuggestion:"Ensure relying party identifier matches current domain."}},nr=Yt(Js,Yn),Sh=t=>{if(t instanceof Yn)return t;if(t instanceof Error&&t.name==="NotAllowedError"){let{message:e,recoverySuggestion:n}=Js[Ne.PasskeyAuthenticationCanceled];return new Yn({name:Ne.PasskeyAuthenticationCanceled,message:e,recoverySuggestion:n,underlyingError:t})}return zE(t)};var zE=t=>{if(t instanceof Error){if(t.name==="AbortError"){let{message:e,recoverySuggestion:n}=Js[Ne.PasskeyOperationAborted];return new Yn({name:Ne.PasskeyOperationAborted,message:e,recoverySuggestion:n,underlyingError:t})}if(t.name==="SecurityError"){let{message:e,recoverySuggestion:n}=Js[Ne.RelyingPartyMismatch];return new Yn({name:Ne.RelyingPartyMismatch,message:e,recoverySuggestion:n,underlyingError:t})}}return new Yn({name:mt.Unknown,message:"An unknown error has occurred.",underlyingError:t})};var _h=()=>Nn()&&window.isSecureContext&&"credentials"in navigator&&typeof window.PublicKeyCredential=="function";var or=t=>Bt.convert(new Uint8Array(t),{urlSafe:!0,skipPadding:!0});var il=t=>Uint8Array.from(ho.convert(t,{urlSafe:!0}),e=>e.charCodeAt(0)).buffer;var Eh=t=>{let e=il(t.challenge),n=(t.allowCredentials||[]).map(o=>U(y({},o),{id:il(o.id)}));return U(y({},t),{challenge:e,allowCredentials:n})},Ih=t=>{let e={clientDataJSON:or(t.response.clientDataJSON),authenticatorData:or(t.response.authenticatorData),signature:or(t.response.signature)};t.response.userHandle&&(e.userHandle=or(t.response.userHandle));let n={id:t.id,rawId:or(t.rawId),type:t.type,clientExtensionResults:t.getClientExtensionResults(),response:e};return t.authenticatorAttachment&&(n.authenticatorAttachment=t.authenticatorAttachment),n};function bh(t){nr(t&&t instanceof PublicKeyCredential&&t.response instanceof AuthenticatorAssertionResponse,Ne.PasskeyRetrievalFailed)}var xh=async t=>{try{let e=_h();nr(e,Ne.PasskeyNotSupported);let n=Eh(t),o=await navigator.credentials.get({publicKey:n});return bh(o),Ih(o)}catch(e){throw Sh(e)}};var wh=t=>se(ve,Ce("ConfirmDevice"),xe(),y(y({},Se),t));var rr={convert(t){return new TextEncoder().encode(t)}};function A(t,e){t!=null&&this.fromString(t,e)}function st(){return new A(null,null)}var Qn,VE=0xdeadbeefcafe,Th=(VE&16777215)===15715070;function HE(t,e,n,o,r,i){for(;--i>=0;){let s=e*this[t++]+n[o]+r;r=Math.floor(s/67108864),n[o++]=s&67108863}return r}function WE(t,e,n,o,r,i){let s=e&32767,a=e>>15;for(;--i>=0;){let c=this[t]&32767,l=this[t++]>>15,d=a*c+l*s;c=s*c+((d&32767)<<15)+n[o]+(r&1073741823),r=(c>>>30)+(d>>>15)+a*l+(r>>>30),n[o++]=c&1073741823}return r}function KE(t,e,n,o,r,i){let s=e&16383,a=e>>14;for(;--i>=0;){let c=this[t]&16383,l=this[t++]>>14,d=a*c+l*s;c=s*c+((d&16383)<<14)+n[o]+r,r=(c>>28)+(d>>14)+a*l,n[o++]=c&268435455}return r}var Ph=typeof navigator<"u";Ph&&Th&&navigator.appName==="Microsoft Internet Explorer"?(A.prototype.am=WE,Qn=30):Ph&&Th&&navigator.appName!=="Netscape"?(A.prototype.am=HE,Qn=26):(A.prototype.am=KE,Qn=28);A.prototype.DB=Qn;A.prototype.DM=(1<<Qn)-1;A.prototype.DV=1<<Qn;var sl=52;A.prototype.FV=Math.pow(2,sl);A.prototype.F1=sl-Qn;A.prototype.F2=2*Qn-sl;var qE="0123456789abcdefghijklmnopqrstuvwxyz",Xs=[],ir,Ht;ir=48;for(Ht=0;Ht<=9;++Ht)Xs[ir++]=Ht;ir=97;for(Ht=10;Ht<36;++Ht)Xs[ir++]=Ht;ir=65;for(Ht=10;Ht<36;++Ht)Xs[ir++]=Ht;function Ah(t){return qE.charAt(t)}function jE(t,e){let n=Xs[t.charCodeAt(e)];return n??-1}function $E(t){for(let e=this.t-1;e>=0;--e)t[e]=this[e];t.t=this.t,t.s=this.s}function GE(t){this.t=1,this.s=t<0?-1:0,t>0?this[0]=t:t<-1?this[0]=t+this.DV:this.t=0}function al(t){let e=st();return e.fromInt(t),e}function YE(t,e){let n;if(e===16)n=4;else if(e===8)n=3;else if(e===2)n=1;else if(e===32)n=5;else if(e===4)n=2;else throw new Error("Only radix 2, 4, 8, 16, 32 are supported");this.t=0,this.s=0;let o=t.length,r=!1,i=0;for(;--o>=0;){let s=jE(t,o);if(s<0){t.charAt(o)==="-"&&(r=!0);continue}r=!1,i===0?this[this.t++]=s:i+n>this.DB?(this[this.t-1]|=(s&(1<<this.DB-i)-1)<<i,this[this.t++]=s>>this.DB-i):this[this.t-1]|=s<<i,i+=n,i>=this.DB&&(i-=this.DB)}this.clamp(),r&&A.ZERO.subTo(this,this)}function QE(){let t=this.s&this.DM;for(;this.t>0&&this[this.t-1]==t;)--this.t}function JE(t){if(this.s<0)return"-"+this.negate().toString(t);let e;if(t==16)e=4;else if(t===8)e=3;else if(t===2)e=1;else if(t===32)e=5;else if(t===4)e=2;else throw new Error("Only radix 2, 4, 8, 16, 32 are supported");let n=(1<<e)-1,o,r=!1,i="",s=this.t,a=this.DB-s*this.DB%e;if(s-- >0)for(a<this.DB&&(o=this[s]>>a)>0&&(r=!0,i=Ah(o));s>=0;)a<e?(o=(this[s]&(1<<a)-1)<<e-a,o|=this[--s]>>(a+=this.DB-e)):(o=this[s]>>(a-=e)&n,a<=0&&(a+=this.DB,--s)),o>0&&(r=!0),r&&(i+=Ah(o));return r?i:"0"}function XE(){let t=st();return A.ZERO.subTo(this,t),t}function ZE(){return this.s<0?this.negate():this}function eI(t){let e=this.s-t.s;if(e!=0)return e;let n=this.t;if(e=n-t.t,e!=0)return this.s<0?-e:e;for(;--n>=0;)if((e=this[n]-t[n])!=0)return e;return 0}function cl(t){let e=1,n;return(n=t>>>16)!==0&&(t=n,e+=16),(n=t>>8)!==0&&(t=n,e+=8),(n=t>>4)!==0&&(t=n,e+=4),(n=t>>2)!==0&&(t=n,e+=2),(n=t>>1)!==0&&(t=n,e+=1),e}function tI(){return this.t<=0?0:this.DB*(this.t-1)+cl(this[this.t-1]^this.s&this.DM)}function nI(t,e){let n;for(n=this.t-1;n>=0;--n)e[n+t]=this[n];for(n=t-1;n>=0;--n)e[n]=0;e.t=this.t+t,e.s=this.s}function oI(t,e){for(let n=t;n<this.t;++n)e[n-t]=this[n];e.t=Math.max(this.t-t,0),e.s=this.s}function rI(t,e){let n=t%this.DB,o=this.DB-n,r=(1<<o)-1,i=Math.floor(t/this.DB),s=this.s<<n&this.DM,a;for(a=this.t-1;a>=0;--a)e[a+i+1]=this[a]>>o|s,s=(this[a]&r)<<n;for(a=i-1;a>=0;--a)e[a]=0;e[i]=s,e.t=this.t+i+1,e.s=this.s,e.clamp()}function iI(t,e){e.s=this.s;let n=Math.floor(t/this.DB);if(n>=this.t){e.t=0;return}let o=t%this.DB,r=this.DB-o,i=(1<<o)-1;e[0]=this[n]>>o;for(let s=n+1;s<this.t;++s)e[s-n-1]|=(this[s]&i)<<r,e[s-n]=this[s]>>o;o>0&&(e[this.t-n-1]|=(this.s&i)<<r),e.t=this.t-n,e.clamp()}function sI(t,e){let n=0,o=0,r=Math.min(t.t,this.t);for(;n<r;)o+=this[n]-t[n],e[n++]=o&this.DM,o>>=this.DB;if(t.t<this.t){for(o-=t.s;n<this.t;)o+=this[n],e[n++]=o&this.DM,o>>=this.DB;o+=this.s}else{for(o+=this.s;n<t.t;)o-=t[n],e[n++]=o&this.DM,o>>=this.DB;o-=t.s}e.s=o<0?-1:0,o<-1?e[n++]=this.DV+o:o>0&&(e[n++]=o),e.t=n,e.clamp()}function aI(t,e){let n=this.abs(),o=t.abs(),r=n.t;for(e.t=r+o.t;--r>=0;)e[r]=0;for(r=0;r<o.t;++r)e[r+n.t]=n.am(0,o[r],e,r,0,n.t);e.s=0,e.clamp(),this.s!==t.s&&A.ZERO.subTo(e,e)}function cI(t){let e=this.abs(),n=t.t=2*e.t;for(;--n>=0;)t[n]=0;for(n=0;n<e.t-1;++n){let o=e.am(n,e[n],t,2*n,0,1);(t[n+e.t]+=e.am(n+1,2*e[n],t,2*n+1,o,e.t-n-1))>=e.DV&&(t[n+e.t]-=e.DV,t[n+e.t+1]=1)}t.t>0&&(t[t.t-1]+=e.am(n,e[n],t,2*n,0,1)),t.s=0,t.clamp()}function lI(t,e,n){let o=t.abs();if(o.t<=0)return;let r=this.abs();if(r.t<o.t){e?.fromInt(0),n!=null&&this.copyTo(n);return}n===null&&(n=st());let i=st(),s=this.s,a=t.s,c=this.DB-cl(o[o.t-1]);c>0?(o.lShiftTo(c,i),r.lShiftTo(c,n)):(o.copyTo(i),r.copyTo(n));let l=i.t,d=i[l-1];if(d===0)return;let u=d*(1<<this.F1)+(l>1?i[l-2]>>this.F2:0),p=this.FV/u,m=(1<<this.F1)/u,f=1<<this.F2,g=n.t,C=g-l,h=e===null?st():e;for(i.dlShiftTo(C,h),n.compareTo(h)>=0&&(n[n.t++]=1,n.subTo(h,n)),A.ONE.dlShiftTo(l,h),h.subTo(i,i);i.t<l;)i[i.t++]=0;for(;--C>=0;){let v=n[--g]===d?this.DM:Math.floor(n[g]*p+(n[g-1]+f)*m);if((n[g]+=i.am(0,v,n,C,0,l))<v)for(i.dlShiftTo(C,h),n.subTo(h,n);n[g]<--v;)n.subTo(h,n)}e!==null&&(n.drShiftTo(l,e),s!==a&&A.ZERO.subTo(e,e)),n.t=l,n.clamp(),c>0&&n.rShiftTo(c,n),s<0&&A.ZERO.subTo(n,n)}function dI(t){let e=st();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(A.ZERO)>0&&t.subTo(e,e),e}function uI(){if(this.t<1)return 0;let t=this[0];if((t&1)===0)return 0;let e=t&3;return e=e*(2-(t&15)*e)&15,e=e*(2-(t&255)*e)&255,e=e*(2-((t&65535)*e&65535))&65535,e=e*(2-t*e%this.DV)%this.DV,e>0?this.DV-e:-e}function pI(t){return this.compareTo(t)===0}function mI(t,e){let n=0,o=0,r=Math.min(t.t,this.t);for(;n<r;)o+=this[n]+t[n],e[n++]=o&this.DM,o>>=this.DB;if(t.t<this.t){for(o+=t.s;n<this.t;)o+=this[n],e[n++]=o&this.DM,o>>=this.DB;o+=this.s}else{for(o+=this.s;n<t.t;)o+=t[n],e[n++]=o&this.DM,o>>=this.DB;o+=t.s}e.s=o<0?-1:0,o>0?e[n++]=o:o<-1&&(e[n++]=this.DV+o),e.t=n,e.clamp()}function fI(t){let e=st();return this.addTo(t,e),e}function gI(t){let e=st();return this.subTo(t,e),e}function hI(t){let e=st();return this.multiplyTo(t,e),e}function yI(t){let e=st();return this.divRemTo(t,e,null),e}function sr(t){this.m=t,this.mp=t.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function CI(t){let e=st();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(A.ZERO)>0&&this.m.subTo(e,e),e}function vI(t){let e=st();return t.copyTo(e),this.reduce(e),e}function SI(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(let e=0;e<this.m.t;++e){let n=t[e]&32767,o=n*this.mpl+((n*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(n=e+this.m.t,t[n]+=this.m.am(0,o,t,e,0,this.m.t);t[n]>=t.DV;)t[n]-=t.DV,t[++n]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)}function _I(t,e){t.squareTo(e),this.reduce(e)}function EI(t,e,n){t.multiplyTo(e,n),this.reduce(n)}sr.prototype.convert=CI;sr.prototype.revert=vI;sr.prototype.reduce=SI;sr.prototype.mulTo=EI;sr.prototype.sqrTo=_I;function II(t,e,n){let o=t.bitLength(),r,i=al(1),s=new sr(e);if(o<=0)return i;o<18?r=1:o<48?r=3:o<144?r=4:o<768?r=5:r=6;let a=[],c=3,l=r-1,d=(1<<r)-1;if(a[1]=s.convert(this),r>1){let h=st();for(s.sqrTo(a[1],h);c<=d;)a[c]=st(),s.mulTo(h,a[c-2],a[c]),c+=2}let u=t.t-1,p,m=!0,f=st(),g;for(o=cl(t[u])-1;u>=0;){for(o>=l?p=t[u]>>o-l&d:(p=(t[u]&(1<<o+1)-1)<<l-o,u>0&&(p|=t[u-1]>>this.DB+o-l)),c=r;(p&1)===0;)p>>=1,--c;if((o-=c)<0&&(o+=this.DB,--u),m)a[p].copyTo(i),m=!1;else{for(;c>1;)s.sqrTo(i,f),s.sqrTo(f,i),c-=2;c>0?s.sqrTo(i,f):(g=i,i=f,f=g),s.mulTo(f,a[p],i)}for(;u>=0&&(t[u]&1<<o)===0;)s.sqrTo(i,f),g=i,i=f,f=g,--o<0&&(o=this.DB-1,--u)}let C=s.revert(i);return n(null,C),C}A.prototype.copyTo=$E;A.prototype.fromInt=GE;A.prototype.fromString=YE;A.prototype.clamp=QE;A.prototype.dlShiftTo=nI;A.prototype.drShiftTo=oI;A.prototype.lShiftTo=rI;A.prototype.rShiftTo=iI;A.prototype.subTo=sI;A.prototype.multiplyTo=aI;A.prototype.squareTo=cI;A.prototype.divRemTo=lI;A.prototype.invDigit=uI;A.prototype.addTo=mI;A.prototype.toString=JE;A.prototype.negate=XE;A.prototype.abs=ZE;A.prototype.compareTo=eI;A.prototype.bitLength=tI;A.prototype.mod=dI;A.prototype.equals=pI;A.prototype.add=fI;A.prototype.subtract=gI;A.prototype.multiply=hI;A.prototype.divide=yI;A.prototype.modPow=II;A.ZERO=al(0);A.ONE=al(1);var Dh=async({a:t,g:e,k:n,x:o,B:r,N:i,U:s})=>new Promise((a,c)=>{e.modPow(o,i,(l,d)=>{if(l){c(l);return}r.subtract(n.multiply(d)).modPow(t.add(s.multiply(o)),i,(u,p)=>{if(u){c(u);return}a(p.mod(i))})})});var Nh="FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D670C354E4ABC9804F1746C08CA18217C32905E462E36CE3BE39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF6955817183995497CEA956AE515D2261898FA051015728E5A8AAAC42DAD33170D04507A33A85521ABDF1CBA64ECFB850458DBEF0A8AEA71575D060C7DB3970F85A6E1E4C7ABF5AE8CDB0933D71E8C94E04A25619DCEE3D2261AD2EE6BF12FFA06D98A0864D87602733EC86A64521F2B18177B200CBBE117577A615D6C770988C0BAD946E208E24FA074E5AB3143DB5BFCE0FD108E4B82D120A93AD2CAFFFFFFFFFFFFFFFF",ll={},Zs={};for(let t=0;t<256;t++){let e=t.toString(16).toLowerCase();e.length===1&&(e=`0${e}`),ll[t]=e,Zs[e]=t}var Cn=t=>{if(t.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let e=new Uint8Array(t.length/2);for(let n=0;n<t.length;n+=2){let o=t.slice(n,n+2).toLowerCase();if(o in Zs)e[n/2]=Zs[o];else throw new Error(`Cannot decode unrecognized sequence ${o} as hexadecimal`)}return e};var ar=t=>{let e="";for(let n=0;n<t.byteLength;n++)e+=ll[t[n]];return e};var Xr=t=>{let e=new An;e.update(t);let n=e.digestSync(),o=ar(n);return new Array(64-o.length).join("0")+o};var cr=t=>Xr(Cn(t));var bI=/^[89a-f]/i,Zt=t=>{if(!(t instanceof A))throw new Error("Not a BigInteger");let e=t.compareTo(A.ZERO)<0,n=t.abs().toString(16);if(n=n.length%2!==0?`0${n}`:n,n=bI.test(n)?`00${n}`:n,e){let o=n.split("").map(i=>{let s=~parseInt(i,16)&15;return"0123456789ABCDEF".charAt(s)}).join("");n=new A(o,16).add(A.ONE).toString(16),n.toUpperCase().startsWith("FF8")&&(n=n.substring(2))}return n};var Oh=({A:t,B:e})=>{let n=new A(cr(Zt(t)+Zt(e)),16);if(n.equals(A.ZERO))throw new Error("U cannot be zero.");return n};var Rh=(t,e,n)=>{let o=new An(e);o.update(t);let r=o.digestSync(),i=new An(r);return i.update(n),i.digestSync().slice(0,16)};var lr=t=>{let e=new Yr().random(t).toString();return Cn(e)};var Mh=()=>Bt.convert(lr(40));var ea=class{constructor({userPoolName:e,a:n,g:o,A:r,N:i}){this.encoder=rr,this.userPoolName=e,this.a=n,this.g=o,this.A=r,this.N=i,this.k=new A(cr(`${Zt(i)}${Zt(o)}`),16)}getRandomPassword(){if(!this.randomPassword)throw new D({name:"EmptyBigIntegerRandomPassword",message:"random password is empty"});return this.randomPassword}getSaltToHashDevices(){if(!this.saltToHashDevices)throw new D({name:"EmptyBigIntegersaltToHashDevices",message:"saltToHashDevices is empty"});return this.saltToHashDevices}getVerifierDevices(){if(!this.verifierDevices)throw new D({name:"EmptyBigIntegerVerifierDevices",message:"verifyDevices is empty"});return this.verifierDevices}async generateHashDevice(e,n){this.randomPassword=Mh();let o=`${e}${n}:${this.randomPassword}`,r=Xr(o),i=ar(lr(16));return this.saltToHashDevices=Zt(new A(i,16)),new Promise((s,a)=>{this.g.modPow(new A(cr(this.saltToHashDevices+r),16),this.N,(c,l)=>{if(c){a(c);return}this.verifierDevices=Zt(l),s()})})}async getPasswordAuthenticationKey({username:e,password:n,serverBValue:o,salt:r}){if(o.mod(this.N).equals(A.ZERO))throw new Error("B cannot be zero.");let i=Oh({A:this.A,B:o}),s=`${this.userPoolName}${e}:${n}`,a=Xr(s),c=new A(cr(Zt(r)+a),16),l=await Dh({a:this.a,g:this.g,k:this.k,x:c,B:o,N:this.N,U:i}),d=this.encoder.convert("Caldera Derived Key"),u=this.encoder.convert(""),p=new Uint8Array(d.byteLength+u.byteLength);return p.set(d,0),p.set(u,d.byteLength),Rh(Cn(Zt(l)),Cn(Zt(i)),p)}};var kh=async({a:t,g:e,N:n})=>new Promise((o,r)=>{e.modPow(t,n,(i,s)=>{if(i){r(i);return}if(s.mod(n).equals(A.ZERO)){r(new Error("Illegal parameter. A mod N cannot be 0."));return}o(s)})});var Jn=async t=>{let e=new A(Nh,16),n=new A("2",16),o=xI(),r=await kh({a:o,g:n,N:e});return new ea({userPoolName:t,a:o,g:n,A:r,N:e})},xI=()=>{let t=ar(lr(128));return new A(t,16)};async function Wt({userPoolId:t,userPoolEndpoint:e,newDeviceMetadata:n,accessToken:o}){if(!n)return;let r=t.split("_")[1]||"",i=await Jn(r),s=n?.DeviceKey,a=n?.DeviceGroupKey;try{await i.generateHashDevice(a??"",s??"")}catch{return}let c={Salt:Bt.convert(Cn(i.getSaltToHashDevices())),PasswordVerifier:Bt.convert(Cn(i.getVerifierDevices()))},l=i.getRandomPassword();try{return await wh({endpointResolver:te({endpointOverride:e})})({region:ee(t)},{AccessToken:o,DeviceName:await Jc(),DeviceKey:n?.DeviceKey,DeviceSecretVerifierConfig:c}),{deviceKey:s,deviceGroupKey:a,randomPassword:l}}catch{return}}async function Uh(t){let e=$.getConfig().Auth?.Cognito;V(e);let{username:n,signInSession:o,signInDetails:r,challengeName:i}=Xt.getState();if(i!=="WEB_AUTHN"||!n)throw new D({name:Mn.SignInException,message:"Unable to proceed due to invalid sign in state."});let{CREDENTIAL_REQUEST_OPTIONS:s}=t;nr(!!s,Ne.InvalidPasskeyAuthenticationOptions);let a=await xh(JSON.parse(s)),c=bo({endpointResolver:te({endpointOverride:e.userPoolEndpoint})}),{ChallengeName:l,ChallengeParameters:d,AuthenticationResult:u,Session:p}=await c({region:ee(e.userPoolId),userAgentValue:de(ie.ConfirmSignIn)},{ChallengeName:"WEB_AUTHN",ChallengeResponses:{USERNAME:n,CREDENTIAL:JSON.stringify(a)},ClientId:e.userPoolClientId,Session:o});if(Vt({signInSession:p,username:n,challengeName:l,signInDetails:r}),u)return await rt(U(y({},u),{username:n,NewDeviceMetadata:await Wt({userPoolId:e.userPoolId,userPoolEndpoint:e.userPoolEndpoint,newDeviceMetadata:u.NewDeviceMetadata,accessToken:u.AccessToken}),signInDetails:r})),Xt.dispatch({type:"RESET_STATE"}),await gt(),{isSignedIn:!0,nextStep:{signInStep:"DONE"}};if(l==="WEB_AUTHN")throw new D({name:Mn.SignInException,message:"Sequential WEB_AUTHN challenges returned from underlying service cannot be handled."});return{challengeName:l,challengeParameters:d}}function ke({username:t,userPoolId:e,userPoolClientId:n}){if(typeof window>"u")return;let o=window.AmazonCognitoAdvancedSecurityData;if(typeof o>"u")return;let r=o.getData(t,e,n);return r?{EncodedData:r}:{}}var wI=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],TI=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ta=()=>{let t=new Date,e=TI[t.getUTCDay()],n=wI[t.getUTCMonth()],o=t.getUTCDate(),r=t.getUTCHours();r<10&&(r=`0${r}`);let i=t.getUTCMinutes();i<10&&(i=`0${i}`);let s=t.getUTCSeconds();s<10&&(s=`0${s}`);let a=t.getUTCFullYear();return`${e} ${n} ${o} ${r}:${i}:${s} UTC ${a}`};var na=({userPoolName:t,username:e,challengeParameters:n,dateNow:o,hkdf:r})=>{let i=rr.convert(t),s=rr.convert(e),a=PI(n.SECRET_BLOCK),c=rr.convert(o),l=new Uint8Array(i.byteLength+s.byteLength+a.byteLength+c.byteLength);l.set(i,0),l.set(s,i.byteLength),l.set(a,i.byteLength+s.byteLength),l.set(c,i.byteLength+s.byteLength+a.byteLength);let d=new An(r);d.update(l);let u=d.digestSync();return Bt.convert(u)},PI=t=>{let e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/-/g,"+").replace(/_/g,"/"),o=ho.convert(n),r=new Uint8Array(o.length);for(let i=0;i<o.length;++i)r[i]=o.charCodeAt(i);return r};async function Zr({username:t,config:e,clientMetadata:n,session:o,tokenOrchestrator:r}){let{userPoolId:i,userPoolEndpoint:s}=e,a=e.userPoolClientId,c=await r?.getDeviceMetadata(t);el(c);let l=await Jn(c.deviceGroupKey),d={USERNAME:t,SRP_A:l.A.toString(16),DEVICE_KEY:c.deviceKey},u={ChallengeName:"DEVICE_SRP_AUTH",ClientId:a,ChallengeResponses:d,ClientMetadata:n,Session:o},p=bo({endpointResolver:te({endpointOverride:s})}),{ChallengeParameters:m,Session:f}=await p({region:ee(i)},u);return AI(t,m,n,f,l,e,r)}async function AI(t,e,n,o,r,{userPoolId:i,userPoolClientId:s,userPoolEndpoint:a},c){let l=await c?.getDeviceMetadata(t);el(l);let d=new A(e?.SRP_B,16),u=new A(e?.SALT,16),{deviceKey:p}=l,{deviceGroupKey:m}=l,f=await r.getPasswordAuthenticationKey({username:l.deviceKey,password:l.randomPassword,serverBValue:d,salt:u}),g=ta(),C={USERNAME:e?.USERNAME??t,PASSWORD_CLAIM_SECRET_BLOCK:e?.SECRET_BLOCK,TIMESTAMP:g,PASSWORD_CLAIM_SIGNATURE:na({username:p,userPoolName:m,challengeParameters:e,dateNow:g,hkdf:f}),DEVICE_KEY:p},h=ke({username:t,userPoolId:i,userPoolClientId:s}),v={ChallengeName:"DEVICE_PASSWORD_VERIFIER",ClientId:s,ChallengeResponses:C,Session:o,ClientMetadata:n,UserContextData:h};return bo({endpointResolver:te({endpointOverride:a})})({region:ee(i)},v)}async function oa(t,e,n,o,r,i,s){let{userPoolId:a,userPoolClientId:c,userPoolEndpoint:l}=i,d=a?.split("_")[1]||"",u=new A(e?.SRP_B,16),p=new A(e?.SALT,16),m=e?.USER_ID_FOR_SRP;if(!m)throw new D({name:"EmptyUserIdForSRPException",message:"USER_ID_FOR_SRP was not found in challengeParameters"});let f=await r.getPasswordAuthenticationKey({username:m,password:t,serverBValue:u,salt:p}),g=ta(),C={USERNAME:m,PASSWORD_CLAIM_SECRET_BLOCK:e?.SECRET_BLOCK,TIMESTAMP:g,PASSWORD_CLAIM_SIGNATURE:na({username:m,userPoolName:d,challengeParameters:e,dateNow:g,hkdf:f})},h=await s.getDeviceMetadata(m);h&&h.deviceKey&&(C.DEVICE_KEY=h.deviceKey);let v=ke({username:m,userPoolId:a,userPoolClientId:c}),x={ChallengeName:"PASSWORD_VERIFIER",ChallengeResponses:C,ClientMetadata:n,Session:o,ClientId:c,UserContextData:v},k=await bo({endpointResolver:te({endpointOverride:l})})({region:ee(a)},x);return k.ChallengeName==="DEVICE_SRP_AUTH"?Zr({username:m,config:i,clientMetadata:n,session:k.Session,tokenOrchestrator:s}):k}async function Xn(t,e,n,o){try{return await t(...e)}catch(r){if(r instanceof D&&r.name==="ResourceNotFoundException"&&r.message.includes("Device does not exist."))return await o.clearDeviceMetadata(n),t(...e);throw r}}function Zn(t){let{dispatch:e}=Xt;e({type:"SET_USERNAME",value:t})}async function ra({username:t,password:e,clientMetadata:n,config:o,tokenOrchestrator:r,authFlow:i,preferredChallenge:s}){let{userPoolId:a,userPoolClientId:c,userPoolEndpoint:l}=o,d=a?.split("_")[1]||"",u=await Jn(d),p={USERNAME:t,SRP_A:u.A.toString(16)};i==="USER_AUTH"&&s&&(p.PREFERRED_CHALLENGE=s);let m=ke({username:t,userPoolId:a,userPoolClientId:c}),f={AuthFlow:i,AuthParameters:p,ClientMetadata:n,ClientId:c,UserContextData:m},C=await Gn({endpointResolver:te({endpointOverride:l})})({region:ee(a),userAgentValue:de(ie.SignIn)},f),{ChallengeParameters:h,Session:v}=C,x=h?.USERNAME??t;return Zn(x),C.ChallengeName==="PASSWORD_VERIFIER"?Xn(oa,[e,h,n,v,u,o,r],x,r):C}var Fh="userAttributes.";function DI(t){return"isSignedIn"in t&&"nextStep"in t}async function zh(t,e,n,o,r){let{userPoolClientId:i,userPoolId:s,userPoolEndpoint:a}=o,c={USERNAME:t,PASSWORD:e},l=await r.getDeviceMetadata(t);l&&l.deviceKey&&(c.DEVICE_KEY=l.deviceKey);let d=ke({username:t,userPoolId:s,userPoolClientId:i}),u={AuthFlow:"USER_PASSWORD_AUTH",AuthParameters:c,ClientMetadata:n,ClientId:i,UserContextData:d},m=await Gn({endpointResolver:te({endpointOverride:a})})({region:ee(s),userAgentValue:de(ie.SignIn)},u),f=m.ChallengeParameters?.USERNAME??m.ChallengeParameters?.USER_ID_FOR_SRP??t;return Zn(f),m.ChallengeName==="DEVICE_SRP_AUTH"?Zr({username:f,config:o,clientMetadata:n,session:m.Session,tokenOrchestrator:r}):m}async function Vh(t,e,n,o,r){return ra({username:t,password:e,clientMetadata:n,config:o,tokenOrchestrator:r,authFlow:"USER_SRP_AUTH"})}async function Hh(t,e,n,o){let{userPoolClientId:r,userPoolId:i,userPoolEndpoint:s}=n,a={USERNAME:t},c=await o.getDeviceMetadata(t);c&&c.deviceKey&&(a.DEVICE_KEY=c.deviceKey);let l=ke({username:t,userPoolId:i,userPoolClientId:r}),d={AuthFlow:"CUSTOM_AUTH",AuthParameters:a,ClientMetadata:e,ClientId:r,UserContextData:l},p=await Gn({endpointResolver:te({endpointOverride:s})})({region:ee(i),userAgentValue:de(ie.SignIn)},d),m=p.ChallengeParameters?.USERNAME??t;return Zn(m),p.ChallengeName==="DEVICE_SRP_AUTH"?Zr({username:m,config:n,clientMetadata:e,session:p.Session,tokenOrchestrator:o}):p}async function Wh(t,e,n,o,r){V(o);let{userPoolId:i,userPoolClientId:s,userPoolEndpoint:a}=o,c=i?.split("_")[1]||"",l=await Jn(c),d={USERNAME:t,SRP_A:l.A.toString(16),CHALLENGE_NAME:"SRP_A"},u=ke({username:t,userPoolId:i,userPoolClientId:s}),p={AuthFlow:"CUSTOM_AUTH",AuthParameters:d,ClientMetadata:n,ClientId:s,UserContextData:u},m=Gn({endpointResolver:te({endpointOverride:a})}),{ChallengeParameters:f,Session:g}=await m({region:ee(i),userAgentValue:de(ie.SignIn)},p),C=f?.USERNAME??t;return Zn(C),Xn(oa,[e,f,n,g,l,o,r],C,r)}async function en(t){let{challengeName:e,challengeParameters:n,availableChallenges:o}=t,r=$.getConfig().Auth?.Cognito;switch(V(r),e){case"CUSTOM_CHALLENGE":return{isSignedIn:!1,nextStep:{signInStep:"CONFIRM_SIGN_IN_WITH_CUSTOM_CHALLENGE",additionalInfo:n}};case"MFA_SETUP":{let{signInSession:i,username:s}=Xt.getState(),a=Lh(Bh(n.MFAS_CAN_SETUP))||[],c=MI(a),l=c.includes("TOTP"),d=c.includes("EMAIL");if(l&&d)return{isSignedIn:!1,nextStep:{signInStep:"CONTINUE_SIGN_IN_WITH_MFA_SETUP_SELECTION",allowedMFATypes:c}};if(d)return{isSignedIn:!1,nextStep:{signInStep:"CONTINUE_SIGN_IN_WITH_EMAIL_SETUP"}};if(l){let u=ch({endpointResolver:te({endpointOverride:r.userPoolEndpoint})}),{Session:p,SecretCode:m}=await u({region:ee(r.userPoolId)},{Session:i});return Xt.dispatch({type:"SET_SIGN_IN_SESSION",value:p}),{isSignedIn:!1,nextStep:{signInStep:"CONTINUE_SIGN_IN_WITH_TOTP_SETUP",totpSetupDetails:NI(m,s)}}}throw new D({name:Mn.SignInException,message:`Cannot initiate MFA setup from available types: ${a}`})}case"NEW_PASSWORD_REQUIRED":return{isSignedIn:!1,nextStep:{signInStep:"CONFIRM_SIGN_IN_WITH_NEW_PASSWORD_REQUIRED",missingAttributes:OI(n.requiredAttributes)}};case"SELECT_MFA_TYPE":return{isSignedIn:!1,nextStep:{signInStep:"CONTINUE_SIGN_IN_WITH_MFA_SELECTION",allowedMFATypes:Lh(Bh(n.MFAS_CAN_CHOOSE))}};case"SMS_OTP":case"SMS_MFA":return{isSignedIn:!1,nextStep:{signInStep:"CONFIRM_SIGN_IN_WITH_SMS_CODE",codeDeliveryDetails:{deliveryMedium:n.CODE_DELIVERY_DELIVERY_MEDIUM,destination:n.CODE_DELIVERY_DESTINATION}}};case"SOFTWARE_TOKEN_MFA":return{isSignedIn:!1,nextStep:{signInStep:"CONFIRM_SIGN_IN_WITH_TOTP_CODE"}};case"EMAIL_OTP":return{isSignedIn:!1,nextStep:{signInStep:"CONFIRM_SIGN_IN_WITH_EMAIL_CODE",codeDeliveryDetails:{deliveryMedium:n.CODE_DELIVERY_DELIVERY_MEDIUM,destination:n.CODE_DELIVERY_DESTINATION}}};case"WEB_AUTHN":{let i=await Uh(n);return DI(i)?i:en(i)}case"PASSWORD":case"PASSWORD_SRP":return{isSignedIn:!1,nextStep:{signInStep:"CONFIRM_SIGN_IN_WITH_PASSWORD"}};case"SELECT_CHALLENGE":return{isSignedIn:!1,nextStep:{signInStep:"CONTINUE_SIGN_IN_WITH_FIRST_FACTOR_SELECTION",availableChallenges:o}}}throw new D({name:Mn.SignInException,message:`An error occurred during the sign in process. ${e} challengeName returned by the underlying service was not addressed.`})}function NI(t,e){return{sharedSecret:t,getSetupUri:(n,o)=>{let r=`otpauth://totp/${n}:${o??e}?secret=${t}&issuer=${n}`;return new ot(r)}}}function vn(t){if(t===Bs.PasswordResetRequiredException)return{isSignedIn:!1,nextStep:{signInStep:"RESET_PASSWORD"}};if(t===Bs.UserNotConfirmedException)return{isSignedIn:!1,nextStep:{signInStep:"CONFIRM_SIGN_UP"}}}function OI(t){return t?JSON.parse(t).map(n=>n.includes(Fh)?n.replace(Fh,""):n):[]}function RI(t){if(t==="SMS_MFA")return"SMS";if(t==="SOFTWARE_TOKEN_MFA")return"TOTP";if(t==="EMAIL_OTP")return"EMAIL"}function Lh(t){if(t)return t.map(RI).filter(Boolean)}function Bh(t){return t?JSON.parse(t):[]}function MI(t){return t.filter(e=>e==="EMAIL"||e==="TOTP")}async function ia(){let t;try{t=await Hs()}catch{}if(t&&t.userId&&t.username)throw new D({name:Qg,message:"There is already a signed in user.",recoverySuggestion:"Call signOut before calling signIn again."})}function Sn(t){return Xt.getState().username??t}async function Kh(t){let e=$.getConfig().Auth?.Cognito;V(e);let{username:n,password:o,options:r}=t,i={loginId:n,authFlowType:"CUSTOM_WITHOUT_SRP"},s=r?.clientMetadata;ae(!!n,H.EmptySignInUsername),ae(!o,H.CustomAuthSignInPassword);try{let{ChallengeName:a,ChallengeParameters:c,AuthenticationResult:l,Session:d}=await Xn(Hh,[n,s,e,De],n,De),u=Sn(n);return Vt({signInSession:d,username:u,challengeName:a,signInDetails:i}),l?(await rt(U(y({username:u},l),{NewDeviceMetadata:await Wt({userPoolId:e.userPoolId,userPoolEndpoint:e.userPoolEndpoint,newDeviceMetadata:l.NewDeviceMetadata,accessToken:l.AccessToken}),signInDetails:i})),it(),await gt(),{isSignedIn:!0,nextStep:{signInStep:"DONE"}}):en({challengeName:a,challengeParameters:c})}catch(a){it(),Ue(a);let c=vn(a.name);if(c)return c;throw a}}async function qh(t){let{username:e,password:n,options:o}=t,r={loginId:e,authFlowType:"CUSTOM_WITH_SRP"},i=$.getConfig().Auth?.Cognito;V(i);let s=o?.clientMetadata;ae(!!e,H.EmptySignInUsername),ae(!!n,H.EmptySignInPassword);try{let{ChallengeName:a,ChallengeParameters:c,AuthenticationResult:l,Session:d}=await Wh(e,n,s,i,De),u=Sn(e);return Vt({signInSession:d,username:u,challengeName:a,signInDetails:r}),l?(await rt(U(y({username:u},l),{NewDeviceMetadata:await Wt({userPoolId:i.userPoolId,userPoolEndpoint:i.userPoolEndpoint,newDeviceMetadata:l.NewDeviceMetadata,accessToken:l.AccessToken}),signInDetails:r})),it(),await gt(),{isSignedIn:!0,nextStep:{signInStep:"DONE"}}):en({challengeName:a,challengeParameters:c})}catch(a){it(),Ue(a);let c=vn(a.name);if(c)return c;throw a}}var jh=async()=>{throw new D({name:zs,message:"The autoSignIn flow has not started, or has been cancelled/completed.",recoverySuggestion:"Please try to use the signIn API or log out before starting a new autoSignIn flow."})},$h=jh;function ei(t){$h=t}function He(t=!0){t&&($h=jh),zt.dispatch({type:"RESET"})}async function dl(t){let{username:e,password:n}=t,o=$.getConfig().Auth?.Cognito,r={loginId:e,authFlowType:"USER_SRP_AUTH"};V(o);let i=t.options?.clientMetadata;ae(!!e,H.EmptySignInUsername),ae(!!n,H.EmptySignInPassword);try{let{ChallengeName:s,ChallengeParameters:a,AuthenticationResult:c,Session:l}=await Vh(e,n,i,o,De),d=Sn(e);return Vt({signInSession:l,username:d,challengeName:s,signInDetails:r}),c?(await rt(U(y({username:d},c),{NewDeviceMetadata:await Wt({userPoolId:o.userPoolId,userPoolEndpoint:o.userPoolEndpoint,newDeviceMetadata:c.NewDeviceMetadata,accessToken:c.AccessToken}),signInDetails:r})),it(),await gt(),He(),{isSignedIn:!0,nextStep:{signInStep:"DONE"}}):en({challengeName:s,challengeParameters:a})}catch(s){it(),He(),Ue(s);let a=vn(s.name);if(a)return a;throw s}}async function Gh(t){let{username:e,password:n,options:o}=t,r=$.getConfig().Auth?.Cognito,i={loginId:e,authFlowType:"USER_PASSWORD_AUTH"};V(r);let s=o?.clientMetadata;ae(!!e,H.EmptySignInUsername),ae(!!n,H.EmptySignInPassword);try{let{ChallengeName:a,ChallengeParameters:c,AuthenticationResult:l,Session:d}=await Xn(zh,[e,n,s,r,De],e,De),u=Sn(e);return Vt({signInSession:d,username:u,challengeName:a,signInDetails:i}),l?(await rt(U(y({},l),{username:u,NewDeviceMetadata:await Wt({userPoolId:r.userPoolId,userPoolEndpoint:r.userPoolEndpoint,newDeviceMetadata:l.NewDeviceMetadata,accessToken:l.AccessToken}),signInDetails:i})),it(),await gt(),He(),{isSignedIn:!0,nextStep:{signInStep:"DONE"}}):en({challengeName:a,challengeParameters:c})}catch(a){it(),He(),Ue(a);let c=vn(a.name);if(c)return c;throw a}}async function Yh({username:t,clientMetadata:e,config:n,tokenOrchestrator:o,preferredChallenge:r,password:i,session:s}){let{userPoolId:a,userPoolClientId:c,userPoolEndpoint:l}=n,d=ke({username:t,userPoolId:a,userPoolClientId:c}),u={USERNAME:t};if(r){if(r==="PASSWORD_SRP")return ae(!!i,H.EmptySignInPassword),ra({username:t,password:i,clientMetadata:e,config:n,tokenOrchestrator:o,authFlow:"USER_AUTH",preferredChallenge:r});r==="PASSWORD"&&(ae(!!i,H.EmptySignInPassword),u.PASSWORD=i),u.PREFERRED_CHALLENGE=r}let p={AuthFlow:"USER_AUTH",AuthParameters:u,ClientMetadata:e,ClientId:c,UserContextData:d};s&&(p.Session=s);let f=await Gn({endpointResolver:te({endpointOverride:l})})({region:ee(a),userAgentValue:de(ie.SignIn)},p);return Zn(t),f}async function sa(t){let{username:e,password:n,options:o}=t,r=$.getConfig().Auth?.Cognito,i={loginId:e,authFlowType:"USER_AUTH"};V(r);let s=o?.clientMetadata,a=o?.preferredChallenge;ae(!!e,H.EmptySignInUsername);try{let c={username:e,config:r,tokenOrchestrator:De,clientMetadata:s,preferredChallenge:a,password:n},l=zt.getState();l.active&&l.username===e&&(c.session=l.session);let d=await Yh(c),u=Sn(e);return Vt({signInSession:d.Session,username:u,challengeName:d.ChallengeName,signInDetails:i}),d.AuthenticationResult?(await rt(U(y({username:u},d.AuthenticationResult),{NewDeviceMetadata:await Wt({userPoolId:r.userPoolId,userPoolEndpoint:r.userPoolEndpoint,newDeviceMetadata:d.AuthenticationResult.NewDeviceMetadata,accessToken:d.AuthenticationResult.AccessToken}),signInDetails:i})),it(),await gt(),He(),{isSignedIn:!0,nextStep:{signInStep:"DONE"}}):en({challengeName:d.ChallengeName,challengeParameters:d.ChallengeParameters,availableChallenges:"AvailableChallenges"in d?d.AvailableChallenges:void 0})}catch(c){it(),He(),Ue(c);let l=vn(c.name);if(l)return l;throw c}}async function dr(t){He(!1);let e=t.options?.authFlowType;switch(await ia(),e){case"USER_SRP_AUTH":return dl(t);case"USER_PASSWORD_AUTH":return Gh(t);case"CUSTOM_WITHOUT_SRP":return Kh(t);case"CUSTOM_WITH_SRP":return qh(t);case"USER_AUTH":return sa(t);default:return dl(t)}}var Qh=180*1e3;function Jh(t){let e=fo.listen("auth-internal",async({payload:o})=>{switch(o.event){case"confirmSignUp":o.data?.isSignUpComplete&&(fo.dispatch("auth-internal",{event:"autoSignIn"}),ei(ey(t)),e())}}),n=setTimeout(()=>{e(),clearTimeout(n),He()},Qh)}function Xh(t,e){let n;return o=>{n||t(...o),clearTimeout(n),n=setTimeout(()=>{n=void 0},e)}}function kI(t,e,n){let o=Date.now(),r=setInterval(async()=>{if(Date.now()-o>Qh)clearInterval(r),n(new D({name:zs,message:"The account was not confirmed on time.",recoverySuggestion:"Try to verify your account by clicking the link sent your email or phone and then login manually."})),He();else try{let a=await dr(t);a.nextStep.signInStep!=="CONFIRM_SIGN_UP"&&(e(a),clearInterval(r),He())}catch(a){clearInterval(r),n(a),He()}},5e3)}var UI=Xh(kI,300),FI=Xh(LI,300);function Zh(t){return async()=>new Promise((e,n)=>{UI([t,e,n])})}async function LI(t,e,n){try{let o=t?.options?.authFlowType==="USER_AUTH"?await sa(t):await dr(t);e(o),He()}catch(o){n(o),He()}}function ey(t){return async()=>new Promise((e,n)=>{FI([t,e,n])})}var ty=ey;var BI=()=>async t=>{if(t.statusCode>=300){let e=await bt(t);if(Ue(e),e.name===Zc.InvalidParameterException&&/'password'/.test(e.message)&&/Member must not be null/.test(e.message)){let n=H.EmptySignUpPassword,{message:o,recoverySuggestion:r}=Ls[n];throw new D({name:n,message:o,recoverySuggestion:r})}throw new D({name:e.name,message:e.message})}return fn(t)},ny=t=>se(ve,Ce("SignUp"),BI(),y(y({},Se),t));async function ul(t){let{username:e,password:n,options:o}=t,r=$.getConfig().Auth?.Cognito,i=r?.signUpVerificationMethod??"code",{clientMetadata:s,validationData:a,autoSignIn:c}=t.options??{};V(r),ae(!!e,H.EmptySignUpUsername);let l=typeof c!="boolean"?c:void 0,d={username:e,options:l};l?.authFlowType!=="CUSTOM_WITHOUT_SRP"&&(d.password=n);let{userPoolId:u,userPoolClientId:p,userPoolEndpoint:m}=r,f=ny({endpointResolver:te({endpointOverride:m})}),g={Username:e,Password:void 0,UserAttributes:o?.userAttributes&&Xc(o?.userAttributes),ClientMetadata:s,ValidationData:a&&Xc(a),ClientId:p,UserContextData:ke({username:e,userPoolId:u,userPoolClientId:p})};n&&(g.Password=n);let{UserSub:C,CodeDeliveryDetails:h,UserConfirmed:v,Session:x}=await f({region:ee(u),userAgentValue:de(ie.SignUp)},g);(l||c===!0)&&(zt.dispatch({type:"START"}),zt.dispatch({type:"SET_USERNAME",value:e}),zt.dispatch({type:"SET_SESSION",value:x}));let P={destination:h?.Destination,deliveryMedium:h?.DeliveryMedium,attributeName:h?.AttributeName},k=!!v,O=zt.getState().active;if(k)return O?(ei(ty(d)),{isSignUpComplete:!0,nextStep:{signUpStep:"COMPLETE_AUTO_SIGN_IN"},userId:C}):{isSignUpComplete:!0,nextStep:{signUpStep:"DONE"},userId:C};if(O){if(i==="link")return ei(Zh(d)),{isSignUpComplete:!1,nextStep:{signUpStep:"COMPLETE_AUTO_SIGN_IN",codeDeliveryDetails:P},userId:C};Jh(d)}return{isSignUpComplete:!1,nextStep:{signUpStep:"CONFIRM_SIGN_UP",codeDeliveryDetails:P},userId:C}}var oy=t=>se(ve,Ce("ForgotPassword"),xe(),y(y({},Se),t));async function pl(t){let{username:e}=t;ae(!!e,H.EmptyResetPasswordUsername);let n=$.getConfig().Auth?.Cognito;V(n);let{userPoolClientId:o,userPoolId:r,userPoolEndpoint:i}=n,s=t.options?.clientMetadata,a=ke({username:e,userPoolId:r,userPoolClientId:o}),d=(await oy({endpointResolver:te({endpointOverride:i})})({region:ee(r),userAgentValue:de(ie.ResetPassword)},{Username:e,ClientMetadata:s,ClientId:o,UserContextData:a})).CodeDeliveryDetails;return{isPasswordReset:!1,nextStep:{resetPasswordStep:"CONFIRM_RESET_PASSWORD_WITH_CODE",codeDeliveryDetails:{deliveryMedium:d?.DeliveryMedium,destination:d?.Destination,attributeName:d?.AttributeName}}}}var ry=t=>se(ve,Ce("ConfirmForgotPassword"),xe(),y(y({},Se),t));async function ml(t){let e=$.getConfig().Auth?.Cognito;V(e);let{userPoolClientId:n,userPoolId:o,userPoolEndpoint:r}=e,{username:i,newPassword:s}=t;ae(!!i,H.EmptyConfirmResetPasswordUsername),ae(!!s,H.EmptyConfirmResetPasswordNewPassword);let a=t.confirmationCode;ae(!!a,H.EmptyConfirmResetPasswordConfirmationCode);let c=t.options?.clientMetadata,l=ke({username:i,userPoolId:o,userPoolClientId:n});await ry({endpointResolver:te({endpointOverride:r})})({region:ee(e.userPoolId),userAgentValue:de(ie.ConfirmResetPassword)},{Username:i,ConfirmationCode:a,Password:s,ClientMetadata:c,ClientId:e.userPoolClientId,UserContextData:l})}var iy=t=>se(ve,Ce("ResendConfirmationCode"),xe(),y(y({},Se),t));async function fl(t){let{username:e}=t;ae(!!e,H.EmptySignUpUsername);let n=$.getConfig().Auth?.Cognito;V(n);let{userPoolClientId:o,userPoolId:r,userPoolEndpoint:i}=n,s=t.options?.clientMetadata,a=ke({username:e,userPoolId:r,userPoolClientId:o}),c=iy({endpointResolver:te({endpointOverride:i})}),{CodeDeliveryDetails:l}=await c({region:ee(n.userPoolId),userAgentValue:de(ie.ResendSignUpCode)},{Username:e,ClientMetadata:s,ClientId:n.userPoolClientId,UserContextData:a}),{DeliveryMedium:d,AttributeName:u,Destination:p}=y({},l);return{destination:p,deliveryMedium:d,attributeName:u||void 0}}var sy=t=>se(ve,Ce("ConfirmSignUp"),xe(),y(y({},Se),t));async function gl(t){let{username:e,confirmationCode:n,options:o}=t,r=$.getConfig().Auth?.Cognito;V(r);let{userPoolId:i,userPoolClientId:s,userPoolEndpoint:a}=r,c=o?.clientMetadata;ae(!!e,H.EmptyConfirmSignUpUsername),ae(!!n,H.EmptyConfirmSignUpCode);let l=ke({username:e,userPoolId:i,userPoolClientId:s}),d=sy({endpointResolver:te({endpointOverride:a})}),{Session:u}=await d({region:ee(r.userPoolId),userAgentValue:de(ie.ConfirmSignUp)},{Username:e,ConfirmationCode:n,ClientMetadata:c,ForceAliasCreation:o?.forceAliasCreation,ClientId:r.userPoolClientId,UserContextData:l});return new Promise((p,m)=>{try{let f={isSignUpComplete:!0,nextStep:{signUpStep:"DONE"}},g=zt.getState();if(!g.active||g.username!==e){p(f),He();return}zt.dispatch({type:"SET_SESSION",value:u});let C=fo.listen("auth-internal",({payload:h})=>{switch(h.event){case"autoSignIn":p({isSignUpComplete:!0,nextStep:{signUpStep:"COMPLETE_AUTO_SIGN_IN"}}),C()}});fo.dispatch("auth-internal",{event:"confirmSignUp",data:f})}catch(f){m(f)}})}var ay=t=>se(ve,Ce("GetUser"),xe(),y(y({},Se),t));var _K=new ye("AuthError");var cy={oauthSignInError:{message:je.OAUTH_ERROR,log:"Make sure Cognito Hosted UI has been configured correctly"},noConfig:{message:je.DEFAULT_MSG,log:`
            Error: Amplify has not been configured correctly.
            This error is typically caused by one of the following scenarios:

            1. Make sure you're passing the awsconfig object to Amplify.configure() in your app's entry point
                See https://aws-amplify.github.io/docs/js/authentication#configure-your-app for more information
            
            2. There might be multiple conflicting versions of amplify packages in your node_modules.
				Refer to our docs site for help upgrading Amplify packages (https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js)
        `},missingAuthConfig:{message:je.DEFAULT_MSG,log:`
            Error: Amplify has not been configured correctly. 
            The configuration object is missing required auth properties.
            This error is typically caused by one of the following scenarios:

            1. Did you run \`amplify push\` after adding auth via \`amplify add auth\`?
                See https://aws-amplify.github.io/docs/js/authentication#amplify-project-setup for more information

            2. This could also be caused by multiple conflicting versions of amplify packages, see (https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js) for help upgrading Amplify packages.
        `},emptyUsername:{message:je.EMPTY_USERNAME},invalidUsername:{message:je.INVALID_USERNAME},emptyPassword:{message:je.EMPTY_PASSWORD},emptyCode:{message:je.EMPTY_CODE},signUpError:{message:je.SIGN_UP_ERROR,log:"The first parameter should either be non-null string or object"},noMFA:{message:je.NO_MFA},invalidMFA:{message:je.INVALID_MFA},emptyChallengeResponse:{message:je.EMPTY_CHALLENGE},noUserSession:{message:je.NO_USER_SESSION},deviceConfig:{message:je.DEVICE_CONFIG},networkError:{message:je.NETWORK_ERROR},autoSignInError:{message:je.AUTOSIGNIN_ERROR},default:{message:je.DEFAULT_MSG}};var _n=(t,e)=>new D({message:t??"An error has occurred during the oauth process.",name:Mn.OAuthSignInError,recoverySuggestion:e??cy.oauthSignInError.log});var hl=(function(t){return t.NoConfig="noConfig",t.MissingAuthConfig="missingAuthConfig",t.EmptyUsername="emptyUsername",t.InvalidUsername="invalidUsername",t.EmptyPassword="emptyPassword",t.EmptyCode="emptyCode",t.SignUpError="signUpError",t.NoMFA="noMFA",t.InvalidMFA="invalidMFA",t.EmptyChallengeResponse="emptyChallengeResponse",t.NoUserSession="noUserSession",t.Default="default",t.DeviceConfig="deviceConfig",t.NetworkError="networkError",t.AutoSignInError="autoSignInError",t.OAuthSignInError="oauthSignInError",t})(hl||{});var zI="`signInWithRedirect` has been canceled.",VI="An error occurred while validating the state.",HI="Try to initiate an OAuth flow from Amplify",yl=async t=>{let e=await Ve.loadOAuthState(),n=t===e?e:void 0;if(!n)throw new D({name:hl.OAuthSignInError,message:t===null?zI:VI,recoverySuggestion:t===null?void 0:HI});return n};var aa=async({currentUrl:t,userAgentValue:e,clientId:n,redirectUri:o,responseType:r,domain:i,preferPrivateSession:s})=>{let a=new ot(t),c=a.searchParams.get("error"),l=a.searchParams.get("error_description");if(c)throw _n(l??c);return r==="code"?WI({currentUrl:t,userAgentValue:e,clientId:n,redirectUri:o,domain:i,preferPrivateSession:s}):KI({currentUrl:t,redirectUri:o,preferPrivateSession:s})},WI=async({currentUrl:t,userAgentValue:e,clientId:n,redirectUri:o,domain:r,preferPrivateSession:i})=>{let s=new ot(t),a=s.searchParams.get("code"),c=s.searchParams.get("state");if(!a||!c)throw _n("User cancelled OAuth flow.");let l=await yl(c),d="https://"+r+"/oauth2/token",u=await Ve.loadPKCE(),p=y({grant_type:"authorization_code",code:a,client_id:n,redirect_uri:o},u?{code_verifier:u}:{}),m=Object.entries(p).map(([O,w])=>`${encodeURIComponent(O)}=${encodeURIComponent(w)}`).join("&"),{access_token:f,refresh_token:g,id_token:C,error:h,error_message:v,token_type:x,expires_in:P}=await(await fetch(d,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",[Ac]:e},body:m})).json();if(h)throw _n(v??h);let k=(f&&Ye(f).payload.username)??"username";return await rt({username:k,AccessToken:f,IdToken:C,RefreshToken:g}),ly({redirectUri:o,state:l,preferPrivateSession:i})},KI=async({currentUrl:t,redirectUri:e,preferPrivateSession:n})=>{let o=new ot(t),{id_token:r,access_token:i,state:s,token_type:a,expires_in:c,error_description:l,error:d}=(o.hash??"#").substring(1).split("&").map(m=>m.split("=")).reduce((m,[f,g])=>U(y({},m),{[f]:g}),{id_token:void 0,access_token:void 0,state:void 0,token_type:void 0,expires_in:void 0,error_description:void 0,error:void 0});if(d)throw _n(l??d);if(!i)throw _n("No access token returned from OAuth flow.");let u=await yl(s),p=(i&&Ye(i).payload.username)??"username";return await rt({username:p,AccessToken:i,IdToken:r}),ly({redirectUri:e,state:u,preferPrivateSession:n})},ly=async({redirectUri:t,state:e,preferPrivateSession:n})=>{await De.setOAuthMetadata({oauthSignIn:!0}),await Ve.clearOAuthData(),await Ve.storeOAuthSignIn(!0,n),js(),$I(t),qI(e)&&ze.dispatch("auth",{event:"customOAuthState",data:Gc(jI(e))},"Auth",qe),ze.dispatch("auth",{event:"signInWithRedirect"},"Auth",qe),await gt()},qI=t=>/-/.test(t),jI=t=>t.split("-").splice(1).join("-"),$I=t=>{typeof window<"u"&&typeof window.history<"u"&&window.history.replaceState(window.history.state,"",t)};function ur(t,e){if(e){let n=t?.find(o=>o===e);if(!n)throw Zg;return n}else{let n=t?.find(GI)??t?.find(YI),o=t?.find(JI)??t?.find(QI);if(n)return n;throw o?eh:Xg}}var GI=t=>t.startsWith(String(window.location.origin+(window.location.pathname||"/"))),YI=t=>t.includes(String(window.location.hostname)),QI=t=>t.startsWith("http://"),JI=t=>t.startsWith("https://");var pr=async t=>{js(),await Ve.clearOAuthInflightData(),ze.dispatch("auth",{event:"signInWithRedirect_failure",data:{error:t}},"Auth",qe)};var dy=async t=>{try{V(t),Pn(t),Ve.setAuthConfig(t)}catch{return}if(await Ve.loadOAuthInFlight())try{let e=window.location.href,{loginWith:n,userPoolClientId:o}=t,{domain:r,redirectSignIn:i,responseType:s}=n.oauth,a=ur(i);await aa({currentUrl:e,clientId:o,domain:r,redirectUri:a,responseType:s,userAgentValue:de(ie.SignInWithRedirect)})}catch(e){await pr(e)}};Nn()&&$[kr](dy);var uy={Google:"Google",Facebook:"Facebook",Amazon:"LoginWithAmazon",Apple:"SignInWithApple"};var ca=async t=>{window?.location&&(window.location.href=t.replace("http://","https://"))};var py="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",my=t=>{let e=new Uint8Array(t);go().getRandomValues(e);let n="",o;for(let r of e)n+=py.charAt(r%py.length);return{value:n,method:"S256",toCodeChallenge(){return o||(o=XI(n),o)}}};function XI(t){let e=new An;return e.update(t),ZI(Bt.convert(e.digestSync(),{urlSafe:!0}))}function ZI(t){return t.replace(/=/g,"")}var fy=()=>$c(32);var gy=t=>{async function e(n){if(n.persisted&&await t.loadOAuthInFlight()){let r=_n("User cancelled OAuth flow.");await pr(r)}window.removeEventListener("pageshow",e)}window.addEventListener("pageshow",e)};async function la(t){let e=$.getConfig().Auth?.Cognito;V(e),Pn(e),Ve.setAuthConfig(e),t?.options?.prompt||await ia();let n="COGNITO";return typeof t?.provider=="string"?n=uy[t.provider]:t?.provider?.custom&&(n=t.provider.custom),eb({oauthConfig:e.loginWith.oauth,clientId:e.userPoolClientId,provider:n,customState:t?.customState,preferPrivateSession:t?.options?.preferPrivateSession,options:{loginHint:t?.options?.loginHint,lang:t?.options?.lang,nonce:t?.options?.nonce,prompt:t?.options?.prompt},authSessionOpener:t?.options?.authSessionOpener})}var eb=async({oauthConfig:t,provider:e,clientId:n,customState:o,preferPrivateSession:r,options:i,authSessionOpener:s})=>{let{domain:a,redirectSignIn:c,responseType:l,scopes:d}=t,{loginHint:u,lang:p,nonce:m,prompt:f}=i??{},g=fy(),C=s||ca,h=o?`${g}-${Yc(o)}`:g,{value:v,method:x,toCodeChallenge:P}=my(128),k=ur(t.redirectSignIn);Nn()&&Ve.storeOAuthInFlight(!0),Ve.storeOAuthState(h),Ve.storePKCE(v);let O=new URLSearchParams([["redirect_uri",k],["response_type",l],["client_id",n],["identity_provider",e],["scope",d.join(" ")]]);u&&O.append("login_hint",u),p&&O.append("lang",p),m&&O.append("nonce",m),f&&O.append("prompt",f.toLowerCase()),O.append("state",h),l==="code"&&(O.append("code_challenge",P()),O.append("code_challenge_method",x));let w=new URL("/oauth2/authorize",`https://${a}/`);w.search=O.toString(),gy(Ve);let{type:L,error:q,url:Y}=await C(w.href,c,r)??{};try{if(L==="error")throw _n(String(q));L==="success"&&Y&&await aa({currentUrl:Y,clientId:n,domain:a,redirectUri:k,responseType:l,userAgentValue:de(ie.SignInWithRedirect),preferPrivateSession:r})}catch(we){throw await pr(we),we}};var hy=async t=>{let e=t.getConfig().Auth?.Cognito;V(e);let{userPoolEndpoint:n,userPoolId:o}=e,{tokens:r}=await Br(t,{forceRefresh:!1});er(r);let i=ay({endpointResolver:te({endpointOverride:n})}),{UserAttributes:s}=await i({region:ee(o),userAgentValue:de(ie.FetchUserAttributes)},{AccessToken:r.accessToken.toString()});return Yg(s)};var Cl=()=>hy($);var yy=async t=>{await t.clearOAuthData(),De.clearTokens(),await Vr(),ze.dispatch("auth",{event:"signedOut"},"Auth",qe)};var Cy=async(t,e=!1,n)=>{Pn(t);let{loginWith:o,userPoolClientId:r}=t,{domain:i,redirectSignOut:s}=o.oauth,a=ur(s,n),c=`https://${i}/logout?${Object.entries({client_id:r,logout_uri:encodeURIComponent(a)}).map(([l,d])=>`${l}=${d}`).join("&")}`;return ca(c)};var vy=async(t,e,n,o)=>{let{isOAuthSignIn:r}=await e.loadOAuthSignIn(),i=await n.getOAuthMetadata();if(await yy(e),r||i?.oauthSignIn)return Cy(t,!1,o)};var Sy=t=>se(ve,Ce("RevokeToken"),xe(),y(y({},Se),t));var _y=t=>se(ve,Ce("GlobalSignOut"),xe(),y(y({},Se),t));var Ey=new ye("Auth");async function vl(t){let e=$.getConfig().Auth?.Cognito;V(e),t?.global?await nb(e):await tb(e);let n;try{Pn(e),n=!0}catch{n=!1}if(n){let o=new tr(Lt);o.setAuthConfig(e);let{type:r}=await vy(e,o,De,t?.oauth?.redirectUrl)??{};if(r==="error")throw new D({name:th,message:"An error occurred when attempting to log out from OAuth provider."})}else De.clearTokens(),await Vr(),ze.dispatch("auth",{event:"signedOut"},"Auth",qe)}async function tb(t){try{let{userPoolEndpoint:e,userPoolId:n,userPoolClientId:o}=t,r=await De.getTokenStore().loadTokens();Vs(r),ob(r.accessToken)&&await Sy({endpointResolver:te({endpointOverride:e})})({region:ee(n),userAgentValue:de(ie.SignOut)},{ClientId:o,Token:r.refreshToken})}catch{Ey.debug("Client signOut error caught but will proceed with token removal")}}async function nb(t){try{let{userPoolEndpoint:e,userPoolId:n}=t,o=await De.getTokenStore().loadTokens();er(o),await _y({endpointResolver:te({endpointOverride:e})})({region:ee(n),userAgentValue:de(ie.SignOut)},{AccessToken:o.accessToken.toString()})}catch{Ey.debug("Global signOut error caught but will proceed with token removal")}}var ob=t=>!!t?.payload?.origin_jti;var Iy={identityId:"identityId"};var rb=new ye("DefaultIdentityIdStore"),wo=class{setAuthConfig(e){yo(e.Cognito),this.authConfig=e,this._authKeys=ib("Cognito",e.Cognito.identityPoolId)}constructor(e){this._authKeys={},this._hasGuestIdentityId=!1,this.keyValueStorage=e}async loadIdentityId(){yo(this.authConfig?.Cognito);try{if(this._primaryIdentityId)return{id:this._primaryIdentityId,type:"primary"};{let e=await this.keyValueStorage.getItem(this._authKeys.identityId);return e?(this._hasGuestIdentityId=!0,{id:e,type:"guest"}):null}}catch(e){return rb.log("Error getting stored IdentityId.",e),null}}async storeIdentityId(e){yo(this.authConfig?.Cognito),e.type==="guest"?(this.keyValueStorage.setItem(this._authKeys.identityId,e.id),this._primaryIdentityId=void 0,this._hasGuestIdentityId=!0):(this._primaryIdentityId=e.id,this._hasGuestIdentityId&&(this.keyValueStorage.removeItem(this._authKeys.identityId),this._hasGuestIdentityId=!1))}async clearIdentityId(){this._primaryIdentityId=void 0,await this.keyValueStorage.removeItem(this._authKeys.identityId)}},ib=(t,e)=>Jr(Iy)(`com.amplify.${t}`,e);var ti=({endpointOverride:t})=>e=>t?{url:new ot(t)}:Wc(e);function da(t){let e=Ye(t).payload.iss,n={};if(!e)throw new D({name:"InvalidIdTokenException",message:"Invalid Idtoken."});let o=e.replace(/(^\w+:|^)\/\//,"");return n[o]=t,n}async function by({tokens:t,authConfig:e,identityIdStore:n}){n.setAuthConfig({Cognito:e});let o=await n.loadIdentityId();if(o)return o.id;let r=t?.idToken?da(t.idToken.toString()):{},i=await sb(r,e);return n.storeIdentityId({id:i,type:t?"primary":"guest"}),i}async function sb(t,e){let n=e?.identityPoolId,o=Qr(n),r=Vc({endpointResolver:ti({endpointOverride:e.identityPoolEndpoint})}),i;try{i=(await r({region:o},{IdentityPoolId:n,Logins:t})).IdentityId}catch(s){throw Ue(s),new D(s)}if(!i)throw new D({name:"GetIdResponseException",message:"Received undefined response from getId operation",recoverySuggestion:"Make sure to pass a valid identityPoolId in the configuration."});return i}var ua=new ye("CognitoCredentialsProvider"),xy=3e3*1e3,To=class{constructor(e){this._nextCredentialsRefresh=0,this._identityIdStore=e}async clearCredentialsAndIdentityId(){ua.debug("Clearing out credentials and identityId"),this._credentialsAndIdentityId=void 0,await this._identityIdStore.clearIdentityId()}async clearCredentials(){ua.debug("Clearing out in-memory credentials"),this._credentialsAndIdentityId=void 0}async getCredentialsAndIdentityId(e){let n=e.authenticated,{tokens:o}=e,{authConfig:r}=e;try{yo(r?.Cognito)}catch{return}if(!n&&!r.Cognito.allowGuestAccess)return;let{forceRefresh:i}=e,s=this.hasTokenChanged(o),a=await by({tokens:o,authConfig:r.Cognito,identityIdStore:this._identityIdStore});return(i||s)&&this.clearCredentials(),n?(rh(o),this.credsForOIDCTokens(r.Cognito,o,a)):this.getGuestCredentials(a,r.Cognito)}async getGuestCredentials(e,n){if(this._credentialsAndIdentityId&&!this.isPastTTL()&&this._credentialsAndIdentityId.isAuthenticatedCreds===!1)return ua.info("returning stored credentials as they neither past TTL nor expired."),this._credentialsAndIdentityId;this.clearCredentials();let o=Qr(n.identityPoolId),r=ws({endpointResolver:ti({endpointOverride:n.identityPoolEndpoint})}),i;try{i=await r({region:o},{IdentityId:e})}catch(s){throw Ue(s),new D(s)}if(i?.Credentials?.AccessKeyId&&i?.Credentials?.SecretKey){this._nextCredentialsRefresh=new Date().getTime()+xy;let s={credentials:{accessKeyId:i.Credentials.AccessKeyId,secretAccessKey:i.Credentials.SecretKey,sessionToken:i.Credentials.SessionToken,expiration:i.Credentials.Expiration},identityId:e};return i.IdentityId&&(s.identityId=i.IdentityId,this._identityIdStore.storeIdentityId({id:i.IdentityId,type:"guest"})),this._credentialsAndIdentityId=U(y({},s),{isAuthenticatedCreds:!1}),s}else throw new D({name:"CredentialsNotFoundException",message:"Cognito did not respond with either Credentials, AccessKeyId or SecretKey."})}async credsForOIDCTokens(e,n,o){if(this._credentialsAndIdentityId&&!this.isPastTTL()&&this._credentialsAndIdentityId.isAuthenticatedCreds===!0)return ua.debug("returning stored credentials as they neither past TTL nor expired."),this._credentialsAndIdentityId;this.clearCredentials();let r=n.idToken?da(n.idToken.toString()):{},i=Qr(e.identityPoolId),s=ws({endpointResolver:ti({endpointOverride:e.identityPoolEndpoint})}),a;try{a=await s({region:i},{IdentityId:o,Logins:r})}catch(c){throw Ue(c),new D(c)}if(a?.Credentials?.AccessKeyId&&a?.Credentials?.SecretKey){this._nextCredentialsRefresh=new Date().getTime()+xy;let c={credentials:{accessKeyId:a.Credentials.AccessKeyId,secretAccessKey:a.Credentials.SecretKey,sessionToken:a.Credentials.SessionToken,expiration:a.Credentials.Expiration},identityId:o};return a.IdentityId&&(c.identityId=a.IdentityId,this._identityIdStore.storeIdentityId({id:a.IdentityId,type:"primary"})),this._credentialsAndIdentityId=U(y({},c),{isAuthenticatedCreds:!0,associatedIdToken:n.idToken?.toString()}),c}else throw new D({name:"CredentialsException",message:"Cognito did not respond with either Credentials, AccessKeyId or SecretKey."})}isPastTTL(){return this._nextCredentialsRefresh===void 0?!0:this._nextCredentialsRefresh<=Date.now()}hasTokenChanged(e){return!!e&&!!this._credentialsAndIdentityId?.associatedIdToken&&e.idToken?.toString()!==this._credentialsAndIdentityId.associatedIdToken}};var Sl=new To(new wo(Lt));var pa={configure(t,e){let n=Ur(t),o=new Xo({sameSite:"lax"}),r=e?.ssr?o:Lt,i=e?.ssr?new To(new wo(o)):Sl;if(!n.Auth){$.configure(n,e);return}if(e?.Auth){$.configure(n,e);return}if(!$.libraryOptions.Auth){xo.setAuthConfig(n.Auth),xo.setKeyValueStorage(r),$.configure(n,U(y({},e),{Auth:{tokenProvider:xo,credentialsProvider:i}}));return}if(e){let s=$.libraryOptions.Auth;e.ssr!==void 0&&(xo.setKeyValueStorage(r),s.credentialsProvider=i),$.configure(n,y({Auth:s},e));return}$.configure(n)},getConfig(){return $.getConfig()}};var mr=class t{state;user;tokens;error;constructor(e,n,o,r){this.state=e,this.user=n,this.tokens=o,this.error=r}static fromError(e){return new t("error",void 0,void 0,e)}static fromAuthenticated(e,n){return new t("authenticated",e,n)}static unknown(){return new t("unknown")}static fromUnauthenticated(){return new t("unauthenticated")}},wy=new Ol("AUTH_COGNITO_CONFIG"),Ty=t=>{let e=t.cognito.oauth,n=[{provide:wy,useValue:t}];return e?(pa.configure({Auth:{Cognito:{userPoolId:t.cognito.userPoolId,userPoolClientId:t.cognito.userPoolClientId,loginWith:{oauth:y({scopes:["email","openid","aws.cognito.signin.user.admin"],responseType:"code"},e)}}}}),n.push(Sr(()=>b(_l).startListening()))):pa.configure({Auth:{Cognito:{userPoolId:t.cognito.userPoolId,userPoolClientId:t.cognito.userPoolClientId}}}),n},ab=async t=>{let e=await zr({forceRefresh:t}),n=e?.tokens?.idToken,o=e?.tokens?.accessToken;return!n||!o?null:{idToken:new ba(n.toString(),n.payload),accessToken:new ba(o.toString(),o.payload)}},_l=(()=>{class t extends Su{#e=b(bu);#t=b(Iu);#c=b(Bn);#i=b(_u);#l=b(wy);#d=b(Ze);#r;#s=()=>{};startListening(){this.#s=ze.listen("auth",({payload:n})=>{switch(this.#t.reset(),n.event){case"signInWithRedirect":this.#a(),this.stopListening();break;case"signInWithRedirect_failure":this.stopListening(),this.#n(this.#o("signInWithProvider",n.data.error));break;case"customOAuthState":this.stopListening(),this.#n(new dt("signInWithProvider","invalidConfiguration",new ro("Custom OAuth state handling not implemented")));break}})}stopListening(){this.#s()}authState=nd({defaultValue:mr.unknown(),loader:async()=>{try{if(!(await zr())?.tokens)return mr.fromUnauthenticated();let o=await Cl();if(!o)throw"Runtime error: user authenticated, but cannot be fetched";return mr.fromAuthenticated({displayName:o.name??o.email??"",email:o.email,fullName:o.name,phone:o.phone_number,verified:!!o.email_verified},new Cu(ab))}catch(n){return mr.fromError(new vu(n))}}});accessToken$=hi(this.authState.value).pipe(xt(void 0),Fe(n=>n?.tokens||null),at(async n=>n?.getAccessToken()??null));idToken$=hi(this.authState.value).pipe(xt(void 0),Fe(n=>n?.tokens||null),at(async n=>n?.getIdToken()??null));currentUser=to(()=>this.authState.value().user);#u=hi(to(()=>this.authState.value().state==="authenticated")).pipe(Te(Boolean));async signOut(n=!1){try{this.#t.reset();let o=this.#d.defaultView;if(!o)throw new ro("Window is not available. Cannot sign out.","Make sure to run this code in a browser environment.");let r=this.#l.cognito.oauth?.redirectSignOut??[],i=o.location.origin,s=[i,`${i}/`];if(this.#i.routing?.guest){let c=`${i}/${this.#c.createUrlTree(this.#i.routing?.guest).toString()}`;s.unshift(c),s.unshift(`${c}/`)}let a=s.find(c=>r.includes(c));await vl({global:n,oauth:{redirectUrl:a}}),this.authState.reload(),this.#e.navigateToGuestPage()}catch(o){return this.#n(this.#o("signOut",o))}}async signUp(n){try{this.#t.reset();let o=Object.fromEntries(Object.entries(n.customAttributes||{}).map(([i,s])=>[`custom:${i}`,typeof s=="number"?s:String(s)])),{nextStep:r}=await ul({username:n.email,password:n.password,options:{userAttributes:y({email:n.email,name:n.fullName},o)}});switch(r.signUpStep){case"DONE":this.#e.nextStep("login",{email:n.email});break;case"CONFIRM_SIGN_UP":this.#e.nextStep("confirm_sign_up",{email:n.email});break;case"COMPLETE_AUTO_SIGN_IN":this.#e.nextStep("login",{email:n.email});break}}catch(o){return this.#n(this.#o("signUp",o))}}async confirmSignUp(n){try{this.#t.reset();let{nextStep:o}=await gl({username:n.email,confirmationCode:n.code});switch(o.signUpStep){case"DONE":this.#e.nextStep("login",{email:n.email});break;case"CONFIRM_SIGN_UP":this.#e.nextStep("confirm_sign_up",{email:n.email});break;case"COMPLETE_AUTO_SIGN_IN":this.#e.nextStep("login",{email:n.email});break;default:throw new ro("Unexpected next step: "+o)}}catch(o){return"message"in o&&o.message==="User cannot be confirmed. Current status is CONFIRMED"&&this.#e.nextStep("login",{email:n.email}),this.#n(this.#o("signIn",o))}}async resendSignUpCode(n){try{this.#t.reset(),await fl({username:n.email})}catch(o){return this.#n(this.#o("resendSignUpCode",o))}}async signIn(n){try{this.#t.reset();let{nextStep:o}=await dr({username:n.email,password:n.password});switch(o.signInStep){case"DONE":this.#a();break;case"CONFIRM_SIGN_UP":this.#e.nextStep("confirm_sign_up",{email:n.email});break;case"RESET_PASSWORD":this.#e.nextStep("reset_password",{email:n.email});break;default:throw new ro("Unexpected next step: "+o)}}catch(o){return this.#n(this.#o("signIn",o))}}async forgotPassword(n){try{this.#t.reset();let{nextStep:o}=await pl({username:n.email});switch(o.resetPasswordStep){case"DONE":this.#e.nextStep("login",{email:n.email});break;case"CONFIRM_RESET_PASSWORD_WITH_CODE":this.#e.nextStep("reset_password",{email:n.email});break;default:throw new ro("Unexpected next step: "+o)}}catch(o){return this.#n(this.#o("forgotPassword",o))}}async confirmForgotPassword(n){try{this.#t.reset(),await ml({username:n.email,confirmationCode:n.code,newPassword:n.newPassword}),this.#e.nextStep("login",{email:n.email})}catch(o){return this.#n(this.#o("confirmForgotPassword",o))}}async signInWithProvider(n){try{this.#t.reset();let o;switch(n){case"google":o="Google";break;case"facebook":o="Facebook";break;case"apple":o="Apple";break;case"amazon":o="Amazon";break;default:o={custom:n}}await la({provider:o})}catch(o){return this.#n(this.#o("signInWithProvider",o))}}#o(n,o){switch(!0){case String(o).includes("Cannot reset password for the user as there is no registered/verified email"):return new dt(n,"notVerified",o);case String(o).includes("already a signed in user"):return new dt(n,"alreadySignedIn",o);case String(o).includes("User already exists."):return new dt(n,"userAlreadyExists",o);case String(o).includes("User is not confirmed."):return new dt(n,"userIsNotConfirmed",o);case String(o).includes("User does not exist."):return new dt(n,"userDoesNotExist",o);case String(o).includes("Incorrect username or password."):return new dt(n,"incorrectUsernameOrPassword",o);case String(o).includes("Username/client id combination not found."):return new dt(n,"usernameNotFound",o);case String(o).includes("Invalid verification code provided, please try again"):return new dt(n,"invalidCode",o);case String(o).includes("The given preferredRedirectUrl"):return console.error(o),new dt(n,"invalidConfiguration",o,!0);case String(o).includes("User cancelled OAuth flow"):return console.error(o),new dt(n,"cancelledFlow",o,!0);case String(o).includes("can not be converted to"):return new dt(n,"invalidConfiguration",new ro("Invalid configuration, see console for details","Make sure you set up the attributes options correctly."),!0);default:return console.error(o),new dt(n,"unknown",o)}}#n(n){return this.#t.handle(n),n}#a(){this.#e.nextStep("login"),this.authState.reload(),!this.#r&&(this.#r=this.#u.subscribe(()=>{this.#e.navigateToSecuredPage(),this.#r?.unsubscribe(),this.#r=void 0}))}static \u0275fac=(()=>{let n;return function(r){return(n||(n=Fl(t)))(r||t)}})();static \u0275prov=sn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var ni={cognito:{userPoolId:"eu-central-1_tCvJh8QOR",userPoolClientId:"24dmf3cgv1t0i9pcm7hbj2vgp0",userPoolDomain:"cognito-idp.eu-central-1.amazonaws.com/eu-central-1_tCvJh8QOR"},apiTestingUrl:"todo"};var Py={providers:[kl(),td(),Vf(),Sa(_a()),Sd([...Wm,{path:"**",redirectTo:"getting-started/what-is-ngx-omni-auth"}],_d({scrollPositionRestoration:"enabled",anchorScrolling:"enabled"})),Sa(_a(),ud()),Hm(),Bm(),Vm(Bi),zm(Lm),su(Fm),Eu({authService:_l,bearerAuthentication:{whitelistedEndpoints:[ni.apiTestingUrl]}}),Ty({cognito:{userPoolId:ni.cognito.userPoolId,userPoolClientId:ni.cognito.userPoolClientId,oauth:{domain:ni.cognito.userPoolDomain,redirectSignIn:["http://localhost:4200/"],redirectSignOut:["http://localhost:4200/"],providers:["Google"]}}})]};function cb(t,e){t&1&&(S(0,"div",10)(1,"a",11),j(2,"MIT \xA9 2025"),E(),j(3," Piotr Liszka "),E())}var ma=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=F({type:t,selectors:[["app-root"]],features:[Ln([Ro])],decls:17,vars:2,consts:[["footerContent",""],[3,"footerContent"],["ngDocNavbarLeft","",1,"brand"],["alt","Logo","height","28","ngSrc","logo.png","width","28",1,"brand-logo"],[1,"brand-title-ngx"],[1,"brand-title-omni-auth"],["ngDocNavbarRight","",1,"header-controls"],["href","https://github.com/ngx-addons/omni-auth","ng-doc-button-icon","","ngDocTooltip","Repository on GitHub","size","large","target","_blank"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"feather","feather-github"],["d","M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"],[1,"footer"],["href","https://github.com/ngx-addons/omni-auth/blob/main/LICENSE.md","target","_blank"]],template:function(n,o){if(n&1&&(S(0,"ng-doc-root",1)(1,"ng-doc-navbar")(2,"h3",2),N(3,"img",3),S(4,"span",4),j(5,"ngx-addons/"),E(),S(6,"span",5),j(7,"omni-auth"),E()(),S(8,"div",6),N(9,"ng-doc-theme-toggle"),S(10,"a",7),li(),S(11,"svg",8),N(12,"path",9),E()()()(),Rl(),N(13,"ng-doc-sidebar")(14,"router-outlet"),J(15,cb,4,0,"ng-template",null,0,pe),E()),n&2){let r=le(16);I("footerContent",r),_(8),I("@preventInitialChild",void 0)}},dependencies:[Cd,Nm,ym,Rm,Mm,ad,xi,ln],styles:[".brand[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.brand-logo[_ngcontent-%COMP%]{margin-right:8px}.brand-title-ngx[_ngcontent-%COMP%]{font-family:var(--ng-doc-font-family),serif;font-weight:400}.brand-title-omni-auth[_ngcontent-%COMP%]{font-family:var(--ng-doc-heading-font-family),serif;font-weight:700}.header-controls[_ngcontent-%COMP%]{display:flex;margin-left:calc(var(--ng-doc-base-gutter) * 2);gap:calc(var(--ng-doc-base-gutter) * 2)}@media screen and (max-width: 600px){.header-controls[_ngcontent-%COMP%]{gap:calc(var(--ng-doc-base-gutter))}}.footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:calc(var(--ng-doc-base-gutter) * 3);color:var(--ng-doc-text-muted);font-size:12px;gap:8px}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--ng-doc-link-color)}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}"],data:{animation:[wd]},changeDetection:0})};ld(ma,Py).catch(t=>console.error(t));
