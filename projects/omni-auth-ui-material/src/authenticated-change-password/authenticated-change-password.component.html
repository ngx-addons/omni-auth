<form #sendCode="ngForm" class="auth-form" (ngSubmit)="onSubmit()">
  <div class="auth-form-body">
    <omni-auth-ui-mat-message class="auth-form-hint" icon="email">
      <span class="title">{{ content().resetPassword.sendCodeMessage }}</span>
    </omni-auth-ui-mat-message>

    <omni-auth-ui-mat-input
      #password="ngModel"
      name="password"
      required
      type="password"
      [class.invalid-password]="password.control.hasError('pattern')"
      [label]="content().common.passwordLabel"
      [pattern]="passwordPattern"
      [placeholder]="content().common.passwordPlaceholder"
      [(ngModel)]="user.password"
    >
      @switch (true) {
        @case (password.control.hasError("required")) {
          <ng-container>{{ content().common.passwordErrorRequiredText }}</ng-container>
        }
        @case (password.control.hasError("pattern")) {
          <ng-container>{{ content().common.passwordPatternText }}</ng-container>
        }
      }
    </omni-auth-ui-mat-input>
    <omni-auth-ui-mat-print-error source="confirmForgotPassword" [content]="content()"/>
  </div>

  <div class="auth-form-footer">
    <omni-auth-ui-mat-button
      buttonType="submit"
      type="primary"
      [disabled]="!!sendCode.invalid"
      [loading]="processing()"
    >{{ content().resetPassword.submitLabel }}
    </omni-auth-ui-mat-button>
  </div>
</form>
