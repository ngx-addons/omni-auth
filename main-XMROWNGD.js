import{A as bu,C as ro,D as dt,G as xu,a as qd,b as Jd,c as bi,d as ou,e as zn,f as ru,g as iu,h as Ti,i as uu,j as pu,k as mu,l as Mo,m as fu,n as gu,o as ko,q as hu,s as yu,t as Ia,u as vu,v as Su,w as _u,x as Eu,y as Iu}from"./chunk-L7HWTPKI.js";import{a as Cu}from"./chunk-TILH3L57.js";import{a as tu}from"./chunk-K5N2DM54.js";import{a as gi,b as Pd,c as Ad,d as Bn,r as $d,s as Gd,t as Yd,u as Qd}from"./chunk-2MVJMHEU.js";import{A as Id,Aa as Et,B as lt,Ba as Md,C as bd,D as Ea,E as oo,F as vi,Fa as kd,G as br,Ga as Ud,Ha as Fd,J as xd,Ja as Ld,K as wd,Ka as cn,L as Td,La as Mt,Ma as Bd,Na as zd,Oa as jd,Pa as Si,Qa as _i,Ra as Ei,Sa as Ii,Ta as jt,Ua as nu,b as fd,da as Dd,f as gd,j as hd,ka as Nd,na as Od,sa as Py,t as yi,v as X,w as qt,x as Ed,y as no,ya as Rd,z as _a}from"./chunk-N5P5ES2X.js";import{a as Xd,b as Zd,c as eu,d as xi,e as wi,f as su,g as au,h as cu,i as lu,j as du}from"./chunk-WJJ5IHLP.js";import{$ as Ze,$a as En,A as Tl,Ab as Xl,Ba as F,Bb as Zl,Bc as Ci,C as Do,Cb as ed,Cc as yd,Da as Tt,E as Pl,Ea as Hl,Eb as Fn,Ec as Cd,Fa as Wl,Fb as In,Fc as Ln,G as Al,Gb as pi,Gc as an,H as ci,Ha as J,Hc as vd,I as Dl,Ia as Kl,Ib as he,Ic as Sd,J as xt,Ja as di,Jb as Rt,Jc as _d,K as at,Ka as Pt,Kb as _t,Kc as Vd,L as yr,La as kn,Lb as Er,Lc as Hd,M as Cr,Mb as pe,Na as _r,Nb as td,Nc as Wd,O as oe,Oc as Kd,P as Nl,Pa as fe,Pb as to,Pc as ue,Q as sn,Qa as ql,Ra as W,Rb as nd,S as Ol,Sa as K,T as li,Ta as Le,U as b,Ua as Oe,Ub as bn,Va as Re,Vb as od,W as Je,Wa as I,X as Xe,Xa as S,Y as Rl,Ya as E,Yb as ct,Za as O,_ as Ml,_a as _n,aa as wt,ab as No,bb as At,ca as kl,cb as Dt,cc as Ca,db as Ct,e as si,ea as Kt,eb as nt,ec as mi,fa as Ul,fb as jl,fc as Ro,ga as Fl,gb as $l,gc as fi,h as El,ha as Ge,hb as ce,i as ai,ia as vr,ib as Gl,ic as rd,j as Il,jb as T,jc as id,k as bl,ka as Ll,kb as Be,kc as sd,l as ga,la as ha,lb as ge,lc as ad,mb as Yl,mc as cd,nb as Nt,nc as ld,o as Fe,ob as vt,p as xl,pa as Sr,pb as St,pc as dd,qa as Bl,qc as va,ra as _,rb as Ql,rc as Sa,s as Ke,sa as ya,sb as Jl,sc as ud,tb as le,u as gr,ua as zl,ub as Un,v as wl,va as eo,vb as ui,vc as pd,w as Te,wb as Oo,wc as Ir,xb as j,xc as md,yb as Ot,yc as _e,z as hr,za as Vl,zb as Pe,zc as hi}from"./chunk-2Q4CPQVZ.js";import{a as y,b as U,d as ii,h as rn}from"./chunk-JGDRNPQP.js";var Vn=class{};var Wp=rn(Ir(),1),Kp=rn(md(),1);var wu={arabic:"ar",armenian:"am",bulgarian:"bg",danish:"dk",dutch:"nl",english:"en",finnish:"fi",french:"fr",german:"de",greek:"gr",hungarian:"hu",indian:"in",indonesian:"id",irish:"ie",italian:"it",lithuanian:"lt",nepali:"np",norwegian:"no",portuguese:"pt",romanian:"ro",russian:"ru",serbian:"rs",slovenian:"ru",spanish:"es",swedish:"se",tamil:"ta",turkish:"tr",ukrainian:"uk",sanskrit:"sk"},Tu={dutch:/[^A-Za-zàèéìòóù0-9_'-]+/gim,english:/[^A-Za-zàèéìòóù0-9_'-]+/gim,french:/[^a-z0-9äâàéèëêïîöôùüûœç-]+/gim,italian:/[^A-Za-zàèéìòóù0-9_'-]+/gim,norwegian:/[^a-z0-9_æøåÆØÅäÄöÖüÜ]+/gim,portuguese:/[^a-z0-9à-úÀ-Ú]/gim,russian:/[^a-z0-9а-яА-ЯёЁ]+/gim,spanish:/[^a-z0-9A-Zá-úÁ-ÚñÑüÜ]+/gim,swedish:/[^a-z0-9_åÅäÄöÖüÜ-]+/gim,german:/[^a-z0-9A-ZäöüÄÖÜß]+/gim,finnish:/[^a-z0-9äöÄÖ]+/gim,danish:/[^a-z0-9æøåÆØÅ]+/gim,hungarian:/[^a-z0-9áéíóöőúüűÁÉÍÓÖŐÚÜŰ]+/gim,romanian:/[^a-z0-9ăâîșțĂÂÎȘȚ]+/gim,serbian:/[^a-z0-9čćžšđČĆŽŠĐ]+/gim,turkish:/[^a-z0-9çÇğĞıİöÖşŞüÜ]+/gim,lithuanian:/[^a-z0-9ąčęėįšųūžĄČĘĖĮŠŲŪŽ]+/gim,arabic:/[^a-z0-9أ-ي]+/gim,nepali:/[^a-z0-9अ-ह]+/gim,irish:/[^a-z0-9áéíóúÁÉÍÓÚ]+/gim,indian:/[^a-z0-9अ-ह]+/gim,armenian:/[^a-z0-9ա-ֆ]+/gim,greek:/[^a-z0-9α-ωά-ώ]+/gim,indonesian:/[^a-z0-9]+/gim,ukrainian:/[^a-z0-9а-яА-ЯіїєІЇЄ]+/gim,slovenian:/[^a-z0-9čžšČŽŠ]+/gim,bulgarian:/[^a-z0-9а-яА-Я]+/gim,tamil:/[^a-z0-9அ-ஹ]+/gim,sanskrit:/[^a-z0-9A-Zāīūṛḷṃṁḥśṣṭḍṇṅñḻḹṝ]+/gim},xr=Object.keys(wu);function Pu(t){return t!==void 0&&xr.includes(t)?wu[t]:void 0}var Ay=Date.now().toString().slice(5),Dy=0;var Au=BigInt(1e3),Du=BigInt(1e6),Nu=BigInt(1e9);var ba=65535;function me(t,e){if(e.length<ba)Array.prototype.push.apply(t,e);else{let n=e.length;for(let o=0;o<n;o+=ba)Array.prototype.push.apply(t,e.slice(o,o+ba))}}function Ru(t,...e){return t.replace(/%(?:(?<position>\d+)\$)?(?<width>-?\d*\.?\d*)(?<type>[dfs])/g,function(...n){let o=n[n.length-1],{width:r,type:i,position:s}=o,a=s?e[Number.parseInt(s)-1]:e.shift(),c=r===""?0:Number.parseInt(r);switch(i){case"d":return a.toString().padStart(c,"0");case"f":{let l=a,[d,u]=r.split(".").map(p=>Number.parseFloat(p));return typeof u=="number"&&u>=0&&(l=l.toFixed(u)),typeof d=="number"&&d>=0?l.toString().padStart(c,"0"):l.toString()}case"s":return c<0?a.toString().padEnd(-c," "):a.toString().padStart(c," ");default:return a}})}function Ny(){return typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope}function Oy(){return typeof process<"u"&&process.release&&process.release.name==="node"}function Ou(){return BigInt(Math.floor(performance.now()*1e6))}async function Uo(t){return typeof t=="number"&&(t=BigInt(t)),t<Au?`${t}ns`:t<Du?`${t/Au}\u03BCs`:t<Nu?`${t/Du}ms`:`${t/Nu}s`}async function ln(){var t;return Ny()?Ou():Oy()||typeof process<"u"&&typeof(process==null||(t=process.hrtime)===null||t===void 0?void 0:t.bigint)=="function"?process.hrtime.bigint():typeof performance<"u"?Ou():BigInt(0)}async function Pi(){return`${Ay}-${Dy++}`}function Fo(t,e){return Object.hasOwn===void 0?Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0:Object.hasOwn(t,e)?t[e]:void 0}function Mu(t,e){return e[1]===t[1]?t[0]-e[0]:e[1]-t[1]}function Lo(t){if(t.length===0)return[];if(t.length===1)return t[0];for(let n=1;n<t.length;n++)if(t[n].length<t[0].length){let o=t[0];t[0]=t[n],t[n]=o}let e=new Map;for(let n of t[0])e.set(n,1);for(let n=1;n<t.length;n++){let o=0;for(let r of t[n]){let i=e.get(r);i===n&&(e.set(r,i+1),o++)}if(o===0)return[]}return t[0].filter(n=>{let o=e.get(n);return o!==void 0&&e.set(n,0),o===t.length})}async function Ai(t,e){let n={},o=e.length;for(let r=0;r<o;r++){let i=e[r],s=i.split("."),a=t,c=s.length;for(let l=0;l<c;l++)if(a=a[s[l]],typeof a=="object"){if(a!==null&&"lat"in a&&"lon"in a&&typeof a.lat=="number"&&typeof a.lon=="number"){a=n[i]=a;break}else if(!Array.isArray(a)&&a!==null&&l===c-1){a=void 0;break}}else if((a===null||typeof a!="object")&&l<c-1){a=void 0;break}typeof a<"u"&&(n[i]=a)}return n}async function Bo(t,e){return(await Ai(t,[e]))[e]}var Ry={cm:.01,m:1,km:1e3,ft:.3048,yd:.9144,mi:1609.344};function ku(t,e){let n=Ry[e];if(n===void 0)throw new Error(z("INVALID_DISTANCE_SUFFIX",t).message);return t*n}function Di(t,e){t.hits=t.hits.map(n=>U(y({},n),{document:y(y({},n.document),e.reduce((o,r)=>{let i=r.split("."),s=i.pop(),a=o;for(let c of i)a[c]=a[c]??{},a=a[c];return a[s]=null,o},n.document))}))}var My=xr.join(`
 - `),ky={NO_LANGUAGE_WITH_CUSTOM_TOKENIZER:"Do not pass the language option to create when using a custom tokenizer.",LANGUAGE_NOT_SUPPORTED:`Language "%s" is not supported.
Supported languages are:
 - ${My}`,INVALID_STEMMER_FUNCTION_TYPE:"config.stemmer property must be a function.",MISSING_STEMMER:'As of version 1.0.0 @orama/orama does not ship non English stemmers by default. To solve this, please explicitly import and specify the "%s" stemmer from the package @orama/stemmers. See https://docs.oramasearch.com/open-source/text-analysis/stemming for more information.',CUSTOM_STOP_WORDS_MUST_BE_FUNCTION_OR_ARRAY:"Custom stop words array must only contain strings.",UNSUPPORTED_COMPONENT:'Unsupported component "%s".',COMPONENT_MUST_BE_FUNCTION:'The component "%s" must be a function.',COMPONENT_MUST_BE_FUNCTION_OR_ARRAY_FUNCTIONS:'The component "%s" must be a function or an array of functions.',INVALID_SCHEMA_TYPE:'Unsupported schema type "%s" at "%s". Expected "string", "boolean" or "number" or array of them.',DOCUMENT_ID_MUST_BE_STRING:'Document id must be of type "string". Got "%s" instead.',DOCUMENT_ALREADY_EXISTS:'A document with id "%s" already exists.',DOCUMENT_DOES_NOT_EXIST:'A document with id "%s" does not exists.',MISSING_DOCUMENT_PROPERTY:'Missing searchable property "%s".',INVALID_DOCUMENT_PROPERTY:'Invalid document property "%s": expected "%s", got "%s"',UNKNOWN_INDEX:'Invalid property name "%s". Expected a wildcard string ("*") or array containing one of the following properties: %s',INVALID_BOOST_VALUE:"Boost value must be a number greater than, or less than 0.",INVALID_FILTER_OPERATION:"You can only use one operation per filter, you requested %d.",SCHEMA_VALIDATION_FAILURE:'Cannot insert document due schema validation failure on "%s" property.',INVALID_SORT_SCHEMA_TYPE:'Unsupported sort schema type "%s" at "%s". Expected "string" or "number".',CANNOT_SORT_BY_ARRAY:'Cannot configure sort for "%s" because it is an array (%s).',UNABLE_TO_SORT_ON_UNKNOWN_FIELD:'Unable to sort on unknown field "%s". Allowed fields: %s',SORT_DISABLED:"Sort is disabled. Please read the documentation at https://docs.oramasearch for more information.",UNKNOWN_GROUP_BY_PROPERTY:'Unknown groupBy property "%s".',INVALID_GROUP_BY_PROPERTY:'Invalid groupBy property "%s". Allowed types: "%s", but given "%s".',UNKNOWN_FILTER_PROPERTY:'Unknown filter property "%s".',INVALID_VECTOR_SIZE:'Vector size must be a number greater than 0. Got "%s" instead.',INVALID_VECTOR_VALUE:'Vector value must be a number greater than 0. Got "%s" instead.',INVALID_INPUT_VECTOR:`Property "%s" was declared as a %s-dimensional vector, but got a %s-dimensional vector instead.
Input vectors must be of the size declared in the schema, as calculating similarity between vectors of different sizes can lead to unexpected results.`,WRONG_SEARCH_PROPERTY_TYPE:'Property "%s" is not searchable. Only "string" properties are searchable.',FACET_NOT_SUPPORTED:`Facet doens't support the type "%s".`,INVALID_DISTANCE_SUFFIX:'Invalid distance suffix "%s". Valid suffixes are: cm, m, km, mi, yd, ft.',INVALID_SEARCH_MODE:'Invalid search mode "%s". Valid modes are: "fulltext", "vector", "hybrid".',MISSING_VECTOR_AND_SECURE_PROXY:"No vector was provided and no secure proxy was configured. Please provide a vector or configure an Orama Secure Proxy to perform hybrid search.",MISSING_TERM:'"term" is a required parameter when performing hybrid search. Please provide a search term.',INVALID_VECTOR_INPUT:'Invalid "vector" property. Expected an object with "value" and "property" properties, but got "%s" instead.',PLUGIN_CRASHED:"A plugin crashed during initialization. Please check the error message for more information:"};function z(t,...e){let n=new Error(Ru(ky[t]??`Unsupported Orama Error code: ${t}`,...e));return n.code=t,"captureStackTrace"in Error.prototype&&Error.captureStackTrace(n),n}async function Uu(t){return{raw:Number(t),formatted:await Uo(t)}}async function Fu(t){if(t.id){if(typeof t.id!="string")throw z("DOCUMENT_ID_MUST_BE_STRING",typeof t.id);return t.id}return await Pi()}async function xa(t,e){for(let[n,o]of Object.entries(e)){let r=t[n];if(!(typeof r>"u")&&!(o==="geopoint"&&typeof r=="object"&&typeof r.lon=="number"&&typeof r.lat=="number")&&!(o==="enum"&&(typeof r=="string"||typeof r=="number"))){if(o==="enum[]"&&Array.isArray(r)){let i=r.length;for(let s=0;s<i;s++)if(typeof r[s]!="string"&&typeof r[s]!="number")return n+"."+s;continue}if(xn(o)){let i=Ta(o);if(!Array.isArray(r)||r.length!==i)throw z("INVALID_INPUT_VECTOR",n,i,r.length);continue}if(zo(o)){if(!Array.isArray(r))return n;let i=wa(o),s=r.length;for(let a=0;a<s;a++)if(typeof r[a]!==i)return n+"."+a;continue}if(typeof o=="object"){if(!r||typeof r!="object")return n;let i=await xa(r,o);if(i)return n+"."+i;continue}if(typeof r!==o)return n}}}var Uy={string:!1,number:!1,boolean:!1,enum:!1,geopoint:!1,"string[]":!0,"number[]":!0,"boolean[]":!0,"enum[]":!0},Fy={"string[]":"string","number[]":"number","boolean[]":"boolean","enum[]":"enum"};function Lu(t){return t==="geopoint"}function xn(t){return typeof t=="string"&&/^vector\[\d+\]$/.test(t)}function zo(t){return typeof t=="string"&&Uy[t]}function wa(t){return Fy[t]}function Ta(t){let e=Number(t.slice(7,-1));switch(!0){case isNaN(e):throw z("INVALID_VECTOR_VALUE",t);case e<=0:throw z("INVALID_VECTOR_SIZE",t);default:return e}}function Bu(){return{idToInternalId:new Map,internalIdToId:[],save:Ly,load:By}}function Ly(t){return{internalIdToId:t.internalIdToId}}function By(t,e){let{internalIdToId:n}=e;t.internalDocumentIDStore.idToInternalId.clear(),t.internalDocumentIDStore.internalIdToId=[];let o=n.length;for(let r=0;r<o;r++){let i=n[r];t.internalDocumentIDStore.idToInternalId.set(i,r+1),t.internalDocumentIDStore.internalIdToId.push(i)}}function be(t,e){if(typeof e=="string"){let n=t.idToInternalId.get(e);if(n)return n;let o=t.idToInternalId.size+1;return t.idToInternalId.set(e,o),t.internalIdToId.push(e),o}return e>t.internalIdToId.length?be(t,e.toString()):e}function io(t,e){if(t.internalIdToId.length<e)throw new Error(`Invalid internalId ${e}`);return t.internalIdToId[e-1]}async function zy(t,e){return{sharedInternalDocumentStore:e,docs:{},count:0}}async function Vy(t,e){let n=be(t.sharedInternalDocumentStore,e);return t.docs[n]}async function Hy(t,e){let n=e.length,o=Array.from({length:n});for(let r=0;r<n;r++){let i=be(t.sharedInternalDocumentStore,e[r]);o[r]=t.docs[i]}return o}async function Wy(t){return t.docs}async function Ky(t,e,n){let o=be(t.sharedInternalDocumentStore,e);return typeof t.docs[o]<"u"?!1:(t.docs[o]=n,t.count++,!0)}async function qy(t,e){let n=be(t.sharedInternalDocumentStore,e);return typeof t.docs[n]>"u"?!1:(delete t.docs[n],t.count--,!0)}async function jy(t){return t.count}async function $y(t,e){let n=e;return{docs:n.docs,count:n.count,sharedInternalDocumentStore:t}}async function Gy(t){return{docs:t.docs,count:t.count}}async function zu(){return{create:zy,get:Vy,getMultiple:Hy,getAll:Wy,store:Ky,remove:qy,count:jy,load:$y,save:Gy}}var Vu=["beforeInsert","afterInsert","beforeRemove","afterRemove","beforeUpdate","afterUpdate","beforeSearch","afterSearch","beforeInsertMultiple","afterInsertMultiple","beforeRemoveMultiple","afterRemoveMultiple","beforeUpdateMultiple","afterUpdateMultiple","beforeLoad","afterLoad","afterCreate"];async function Hu(t,e){var n;let o=[],r=(n=t.plugins)===null||n===void 0?void 0:n.length;if(!r)return o;for(let i=0;i<r;i++)try{let s=await t.plugins[i];typeof s[e]=="function"&&o.push(s[e])}catch(s){throw console.error("Caught error in getAllPluginsByHook:",s),z("PLUGIN_CRASHED")}return o}var Wu=["tokenizer","index","documentsStore","sorter"],Pa=["validateSchema","getDocumentIndexId","getDocumentProperties","formatElapsedTime"];async function Aa(t,e,n,o){let r=t.length;for(let i=0;i<r;i++)await t[i](e,n,o)}async function Da(t,e,n){let o=t.length;for(let r=0;r<o;r++)await t[r](e,n)}async function Vo(t,e,n,o,r){let i=t.length;for(let s=0;s<i;s++)await t[s](e,n,o,r)}async function Ho(t,e,n,o){let r=t.length;for(let i=0;i<r;i++)await t[i](e,n,o)}async function Ku(t,e){let n=t.length;for(let o=0;o<n;o++)await t[o](e)}function Na(t){let e=t.r;return t.r=e.l,e.l=t,t.h=Math.max(kt(t.l),kt(t.r))+1,e.h=Math.max(kt(e.l),kt(e.r))+1,e}function Oa(t){let e=t.l;return t.l=e.r,e.r=t,t.h=Math.max(kt(t.l),kt(t.r))+1,e.h=Math.max(kt(e.l),kt(e.r))+1,e}function qu(t,e,n){let o=[];function r(i){i!==null&&(e<i.k&&r(i.l),i.k>=e&&i.k<=n&&me(o,i.v),n>i.k&&r(i.r))}return r(t.root),o}function Ra(t,e,n=!1){let o=[];if(t===null)return o;let r=[t.root];for(;r.length>0;){let i=r.pop();i&&(n&&i.k>=e&&me(o,i.v),!n&&i.k>e&&me(o,i.v),r.push(i.r),r.push(i.l))}return o}function Ma(t,e,n=!1){let o=[];if(t===null)return o;let r=[t.root];for(;r.length>0;){let i=r.pop();i&&(n&&i.k<=e&&me(o,i.v),!n&&i.k<e&&me(o,i.v),r.push(i.r),r.push(i.l))}return o}function ju(t,e){for(;t!==null;)if(e<t.k)t=t.l;else if(e>t.k)t=t.r;else return t;return null}function $u(t,e){return{root:{k:t,v:e,l:null,r:null,h:0}}}function Gu(t,e,n){function o(r,i,s){if(r===null)return{k:i,v:s,l:null,r:null,h:0};if(i<r.k)r.l=o(r.l,i,s);else if(i>r.k)r.r=o(r.r,i,s);else{for(let c of s)r.v.push(c);return r}r.h=1+Math.max(kt(r.l),kt(r.r));let a=kt(r.l)-kt(r.r);return a>1&&i<r.l.k?Oa(r):a<-1&&i>r.r.k?Na(r):a>1&&i>r.l.k?(r.l=Na(r.l),Oa(r)):a<-1&&i<r.r.k?(r.r=Oa(r.r),Na(r)):r}t.root=o(t.root,e,n)}function kt(t){return t!==null?t.h:-1}function Yu(t,e){let n=ju(t.root,e);return n===null?null:n.v}function Yy(t,e){if(t===null||t.root===null)return;let n=t.root,o=null;for(;n!=null&&n.k!==e;)o=n,e<n.k?n=n.l:n=n.r;if(n===null)return;(()=>{if(n.l===null&&n.r===null)o===null?t.root=null:o.l===n?o.l=null:o.r=null;else if(n.l!=null&&n.r!=null){let i=n.r,s=n;for(;i.l!=null;)s=i,i=i.l;n.k=i.k,s===n?s.r=i.r:s.l=i.r}else{let i=n.l!=null?n.l:n.r;o===null?t.root=i:o.l===n?o.l=i:o.r=i}})()}function Qu(t,e,n){let o=ju(t.root,n);if(o){if(o.v.length===1){Yy(t,n);return}o.v.splice(o.v.indexOf(e),1)}}function Ju(){return{numberToDocumentId:new Map}}function Xu(t,e,n){return t.numberToDocumentId.has(e)?(t.numberToDocumentId.get(e).push(n),t):(t.numberToDocumentId.set(e,[n]),t)}function Zu(t,e,n){var o,r;t?.numberToDocumentId.set(n,((o=t?.numberToDocumentId.get(n))===null||o===void 0?void 0:o.filter(i=>i!==e))??[]),((r=t?.numberToDocumentId.get(n))===null||r===void 0?void 0:r.length)===0&&t?.numberToDocumentId.delete(n)}function ep(t,e){let n=Object.keys(e);if(n.length!==1)throw new Error("Invalid operation");let o=n[0];switch(o){case"eq":{let r=e[o];return t.numberToDocumentId.get(r)??[]}case"in":{let r=e[o],i=[];for(let s of r){let a=t.numberToDocumentId.get(s);a!=null&&me(i,a)}return i}case"nin":{let r=e[o],i=[],s=t.numberToDocumentId.keys();for(let a of s){if(r.includes(a))continue;let c=t.numberToDocumentId.get(a);c!=null&&me(i,c)}return i}}throw new Error("Invalid operation")}function tp(t,e){let n=Object.keys(e);if(n.length!==1)throw new Error("Invalid operation");let o=n[0];switch(o){case"containsAll":{let i=e[o].map(s=>t.numberToDocumentId.get(s)??[]);return Lo(i)}}throw new Error("Invalid operation")}function np(t,e,n){if(t===e)return 0;let o=t;t.length>e.length&&(t=e,e=o);let r=t.length,i=e.length,s=0;for(;s<r&&t.charCodeAt(s)===e.charCodeAt(s);)s++;if(s===r)return 0;for(;r>0&&t.charCodeAt(~-r)===e.charCodeAt(~-i);)r--,i--;if(!r)return i>n?-1:i;if(r-=s,i-=s,r<=n&&i<=n)return r>i?r:i;let a=i-r;if(n>i)n=i;else if(a>n)return-1;let c=0,l=[],d=[];for(;c<n;)d[c]=e.charCodeAt(s+c),l[c]=++c;for(;c<i;)d[c]=e.charCodeAt(s+c),l[c++]=n+1;let u=n-a,p=n<i,m=0,f=n,g=0,C=0,h=0,v=0,x=0;for(c=0;c<r;c++){for(C=c,g=c+1,v=t.charCodeAt(s+c),m+=c>u?1:0,f+=f<i?1:0,x=m;x<f;x++)h=g,g=C,C=l[x],v!==d[x]&&(C<g&&(g=C),h<g&&(g=h),g++),l[x]=g;if(p&&l[c+a]>n)return-1}return g<=n?g:-1}async function ka(t,e,n){let o=np(t,e,n);return{distance:o,isBounded:o>=0}}function Ua(t,e,n){let o=np(t,e,n);return{distance:o,isBounded:o>=0}}var Fa=class{constructor(e,n,o){this.k=e,this.s=n,this.e=o}c={};d=[];w="";toJSON(){return{w:this.w,s:this.s,c:this.c,d:this.d,e:this.e}}};function Wo(t,e){t.w=e.w+t.s}function Ni(t,e){t.d.push(e)}function Qy(t,e){let n=t.d.indexOf(e);return n===-1?!1:(t.d.splice(n,1),!0)}function La(t,e,n,o,r){if(t.e){let{w:i,d:s}=t;if(o&&i!==n)return{};if(Fo(e,i)==null&&(r?Math.abs(n.length-i.length)<=r&&Ua(n,i,r).isBounded&&(e[i]=[]):e[i]=[]),Fo(e,i)!=null&&s.length>0){let a=new Set(e[i]),c=s.length;for(let l=0;l<c;l++)a.add(s[l]);e[i]=Array.from(a)}}for(let i of Object.keys(t.c))La(t.c[i],e,n,o,r);return e}function op(t,e){let n="",o=Math.min(t.length,e.length);for(let r=0;r<o;r++){if(t[r]!==e[r])return n;n+=t[r]}return n}function so(t=!1,e="",n=""){return new Fa(n,e,t)}function rp(t,e,n){let o=e.length;for(let r=0;r<o;r++){let i=e[r],s=e.substring(r),a=t.c[i];if(a){let c=a.s,l=c.length,d=op(c,s),u=d.length;if(c===s){Ni(a,n),a.e=!0;return}let p=c[u];if(u<l&&u===s.length){let m=so(!0,s,i);m.c[p]=a;let f=m.c[p];f.s=c.substring(u),f.k=p,t.c[i]=m,Wo(m,t),Wo(f,m),Ni(m,n);return}if(u<l&&u<s.length){let m=so(!1,d,i);m.c[p]=a,t.c[i]=m;let f=m.c[p];f.s=c.substring(u),f.k=p;let g=s[u],C=so(!0,e.substring(r+u),g);Ni(C,n),m.c[g]=C,Wo(m,t),Wo(C,m),Wo(f,m);return}r+=l-1,t=a}else{let c=so(!0,s,i);Ni(c,n),t.c[i]=c,Wo(c,t);return}}}function wr(t,e,n,o,r,i){if(!(o<0)){if(t.w.startsWith(e)){La(t,i,e,!1,0);return}if(t.e){let{w:s,d:a}=t;if(s&&(Ua(e,s,r).isBounded&&(i[s]=[]),Fo(i,s)!=null&&a.length>0)){let c=new Set(i[s]),l=a.length;for(let d=0;d<l;d++)c.add(a[d]);i[s]=Array.from(c)}}if(!(n>=e.length)){e[n]in t.c&&wr(t.c[e[n]],e,n+1,o,r,i),wr(t,e,n+1,o-1,r,i);for(let s in t.c)wr(t.c[s],e,n,o-1,r,i);for(let s in t.c)s!==e[n]&&wr(t.c[s],e,n+1,o-1,r,i)}}}function Ba(t,{term:e,exact:n,tolerance:o}){if(o&&!n){let r={};return o=o||0,wr(t,e,0,o||0,o,r),r}else{let r=e.length;for(let s=0;s<r;s++){let a=e[s];if(a in t.c){let c=t.c[a],l=c.s,d=e.substring(s),p=op(l,d).length;if(p!==l.length&&p!==d.length){if(o)break;return{}}s+=c.s.length-1,t=c}else return{}}let i={};return La(t,i,e,n,o),i}}function ip(t,e,n,o=!0){if(!e)return!0;let r=e.length;for(let i=0;i<r;i++){let s=e[i];if(s in t.c){let a=t.c[s];i+=a.s.length-1,t=a,o&&t.w!==e||Qy(t,n)}else return!1}return!0}function sp(){return{root:null}}function ap(t,e,n){let o={point:e,docIDs:n};if(t.root==null){t.root=o;return}let r=t.root,i=0;for(;r!==null;){if(r.point.lon===e.lon&&r.point.lat===e.lat){let a=r.docIDs??[];r.docIDs=Array.from(new Set([...a,...n||[]]));return}if(i%2===0)if(e.lon<r.point.lon){if(r.left==null){r.left=o;return}r=r.left}else{if(r.right==null){r.right=o;return}r=r.right}else if(e.lat<r.point.lat){if(r.left==null){r.left=o;return}r=r.left}else{if(r.right==null){r.right=o;return}r=r.right}i++}}function cp(t,e,n){let o=t.root,r=0,i=null,s=null;for(;o!==null;){if(o?.point.lon===e.lon&&o.point.lat===e.lat){var a;let d=(a=o.docIDs)===null||a===void 0?void 0:a.indexOf(n);if(d!==void 0&&d>-1){var c;(c=o.docIDs)===null||c===void 0||c.splice(d,1),(o.docIDs==null||o.docIDs.length===0)&&(i!=null?s==="left"?i.left=o.left!==null?o.left:o.right:s==="right"&&(i.right=o.right!==null?o.right:o.left):t.root=o.left!==null?o.left:o.right);return}}let l=r%2;i=o,l===0?e.lon<o.point.lon?(o=o?.left,s="left"):(o=o?.right,s="right"):e.lat<o.point.lat?(o=o?.left,s="left"):(o=o?.right,s="right"),r++}}function lp(t,e,n,o=!0,r="asc",i=!1){let s=i?pp:up,a=[{node:t,depth:0}],c=[];for(;a.length>0;){let{node:l,depth:d}=a.pop();if(l===null)continue;let u=s(e,l.point);(o?u<=n:u>n)&&c.push({point:l.point,docIDs:l.docIDs??[]}),l.left!=null&&a.push({node:l.left,depth:d+1}),l.right!=null&&a.push({node:l.right,depth:d+1})}return r&&c.sort((l,d)=>{let u=s(e,l.point),p=s(e,d.point);return r.toLowerCase()==="asc"?u-p:p-u}),c}function dp(t,e,n=!0,o=null,r=!1){let i=[{node:t,depth:0}],s=[];for(;i.length>0;){let c=i.pop();if(c==null||c.node==null)continue;let{node:l,depth:d}=c,u=d+1;l.left!=null&&i.push({node:l.left,depth:u}),l.right!=null&&i.push({node:l.right,depth:u});let p=Xy(e,l.point);p&&n?s.push({point:l.point,docIDs:l.docIDs??[]}):!p&&!n&&s.push({point:l.point,docIDs:l.docIDs??[]})}let a=Jy(e);if(o){let c=r?pp:up;s.sort((l,d)=>{let u=c(a,l.point),p=c(a,d.point);return o.toLowerCase()==="asc"?u-p:p-u})}return s}function Jy(t){let e=0,n=0,o=0,r=t.length;for(let s=0,a=r-1;s<r;a=s++){let c=t[s].lon,l=t[s].lat,d=t[a].lon,u=t[a].lat,p=c*u-d*l;e+=p,n+=(c+d)*p,o+=(l+u)*p}e/=2;let i=6*e;return n/=i,o/=i,{lon:n,lat:o}}function Xy(t,e){let n=!1,o=e.lon,r=e.lat,i=t.length;for(let s=0,a=i-1;s<i;a=s++){let c=t[s].lon,l=t[s].lat,d=t[a].lon,u=t[a].lat;l>r!=u>r&&o<(d-c)*(r-l)/(u-l)+c&&(n=!n)}return n}function up(t,e){let n=Math.PI/180,o=t.lat*n,r=e.lat*n,i=(e.lat-t.lat)*n,s=(e.lon-t.lon)*n,a=Math.sin(i/2)*Math.sin(i/2)+Math.cos(o)*Math.cos(r)*Math.sin(s/2)*Math.sin(s/2);return 6371e3*(2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a)))}function pp(t,e){let o=.0033528106647474805,r=(1-o)*6378137,i=Math.PI/180,s=t.lat*i,a=e.lat*i,c=(e.lon-t.lon)*i,l=Math.atan((1-o)*Math.tan(s)),d=Math.atan((1-o)*Math.tan(a)),u=Math.sin(l),p=Math.cos(l),m=Math.sin(d),f=Math.cos(d),g=c,C,h=1e3,v,x,P,k,N;do{let re=Math.sin(g),ne=Math.cos(g);P=Math.sqrt(f*re*(f*re)+(p*m-u*f*ne)*(p*m-u*f*ne)),k=u*m+p*f*ne,N=Math.atan2(P,k),v=p*f*re/P,x=1-v*v;let $e=k-2*u*m/x,ht=o/16*x*(4+o*(4-3*x));C=g,g=c+(1-ht)*o*v*(N+ht*P*($e+ht*k*(-1+2*$e*$e)))}while(Math.abs(g-C)>1e-12&&--h>0);let w=x*(6378137*6378137-r*r)/(r*r),L=1+w/16384*(4096+w*(-768+w*(320-175*w))),q=w/1024*(256+w*(-128+w*(74-47*w))),Y=q*P*(k-2*u*m/x+q/4*(k*(-1+2*P*P)-q/6*N*(-3+4*P*P)*(-3+4*N*N)));return r*L*(N-Y)}function Oi(t,e,n=1,o){if(e===0)throw z("INVALID_BOOST_VALUE");let r=new Map,i=t.length;for(let h=0;h<i;h++){let v=t[h],x=v.length;for(let P=0;P<x;P++){var s;let[k,N]=v[P],w=N*e,L=(s=r.get(k))===null||s===void 0?void 0:s[0];if(L!==void 0){var a;r.set(k,[L*1.5+w,(((a=r?.get(k))===null||a===void 0?void 0:a[1])||0)+1])}else r.set(k,[w,1])}}let c=[];for(let h of r.entries())c.push([h[0],h[1][0]]);let l=c.sort((h,v)=>v[1]-h[1]);if(n===1)return l;let d=l.length,u=[];for(let h of r.entries())u.push([h[0],h[1][0],h[1][1]]);let p=u.sort((h,v)=>h[2]>v[2]?-1:h[2]<v[2]?1:h[1]>v[1]?-1:h[1]<v[1]?1:0),m;for(let h=0;h<d&&p[h][2]===o;h++)m=h;if(typeof m>"u"){if(n===0)return[];m=0}let f=p.length,g=new Array(f);for(let h=0;h<f;h++)g[h]=[p[h][0],p[h][1]];if(n===0)return g.slice(0,m+1);let C=m+Math.ceil(n*100*(d-m)/100);return g.slice(0,d+C)}function mp(t,e,n,o,r,{k:i,b:s,d:a}){return Math.log(1+(n-e+.5)/(e+.5))*(a+t*(i+1))/(t+i*(1-s+s*o/r))}function za(t,e){let n=0;for(let o=0;o<e;o++)n+=t[o]*t[o];return Math.sqrt(n)}function Ri(t,e,n,o=.8){let r=za(t,n),i=[];for(let[s,[a,c]]of Object.entries(e)){let l=0;for(let u=0;u<n;u++)l+=t[u]*c[u];let d=l/(r*a);d>=o&&i.push([s,d])}return i.sort((s,a)=>a[1]-s[1])}async function Zy(t,e,n,o,r){let i=be(t.sharedInternalDocumentStore,n);t.avgFieldLength[e]=((t.avgFieldLength[e]??0)*(r-1)+o.length)/r,t.fieldLengths[e][i]=o.length,t.frequencies[e][i]={}}async function eC(t,e,n,o,r){let i=0;for(let c of o)c===r&&i++;let s=be(t.sharedInternalDocumentStore,n),a=i/o.length;t.frequencies[e][s][r]=a,r in t.tokenOccurrences[e]||(t.tokenOccurrences[e][r]=0),t.tokenOccurrences[e][r]=(t.tokenOccurrences[e][r]??0)+1}async function tC(t,e,n,o){let r=be(t.sharedInternalDocumentStore,n);t.avgFieldLength[e]=(t.avgFieldLength[e]*o-t.fieldLengths[e][r])/(o-1),t.fieldLengths[e][r]=void 0,t.frequencies[e][r]=void 0}async function nC(t,e,n){t.tokenOccurrences[e][n]--}async function oC(t,e,n,o,r){let i=Array.from(r),s=e.avgFieldLength[n],a=e.fieldLengths[n],c=e.tokenOccurrences[n],l=e.frequencies[n],d=typeof c[o]=="number"?c[o]??0:0,u=[],p=i.length;for(let f=0;f<p;f++){var m;let g=be(e.sharedInternalDocumentStore,i[f]),C=(l==null||(m=l[g])===null||m===void 0?void 0:m[o])??0,h=mp(C,d,t.docsCount,a[g],s,t.params.relevance);u.push([g,h])}return u}async function gp(t,e,n,o,r=""){o||(o={sharedInternalDocumentStore:e,indexes:{},vectorIndexes:{},searchableProperties:[],searchablePropertiesWithTypes:{},frequencies:{},tokenOccurrences:{},avgFieldLength:{},fieldLengths:{}});for(let[i,s]of Object.entries(n)){let a=`${r}${r?".":""}${i}`;if(typeof s=="object"&&!Array.isArray(s)){gp(t,e,s,o,a);continue}if(xn(s))o.searchableProperties.push(a),o.searchablePropertiesWithTypes[a]=s,o.vectorIndexes[a]={size:Ta(s),vectors:{}};else{let c=/\[/.test(s);switch(s){case"boolean":case"boolean[]":o.indexes[a]={type:"Bool",node:{true:[],false:[]},isArray:c};break;case"number":case"number[]":o.indexes[a]={type:"AVL",node:$u(0,[]),isArray:c};break;case"string":case"string[]":o.indexes[a]={type:"Radix",node:so(),isArray:c},o.avgFieldLength[a]=0,o.frequencies[a]={},o.tokenOccurrences[a]={},o.fieldLengths[a]={};break;case"enum":case"enum[]":o.indexes[a]={type:"Flat",node:Ju(),isArray:c};break;case"geopoint":o.indexes[a]={type:"BKD",node:sp(),isArray:c};break;default:throw z("INVALID_SCHEMA_TYPE",Array.isArray(s)?"array":s,a)}o.searchableProperties.push(a),o.searchablePropertiesWithTypes[a]=s}}return o}function rC(t,e,n,o,r,i,s){return async a=>{let c=be(e.sharedInternalDocumentStore,o),{type:l,node:d}=e.indexes[n];switch(l){case"Bool":{d[a?"true":"false"].push(c);break}case"AVL":{Gu(d,a,[c]);break}case"Radix":{let u=await i.tokenize(a,r,n);await t.insertDocumentScoreParameters(e,n,c,u,s);for(let p of u)await t.insertTokenScoreParameters(e,n,c,u,p),rp(d,p,c);break}case"Flat":{Xu(d,a,c);break}case"BKD":{ap(d,a,[c]);break}}}}async function iC(t,e,n,o,r,i,s,a,c){if(xn(i))return sC(e,n,r,o);let l=rC(t,e,n,o,s,a,c);if(!zo(i))return l(r);let d=r,u=d.length;for(let p=0;p<u;p++)await l(d[p])}function sC(t,e,n,o){n instanceof Float32Array||(n=new Float32Array(n));let r=t.vectorIndexes[e].size,i=za(n,r);t.vectorIndexes[e].vectors[o]=[i,n]}async function fp(t,e,n,o,r,i,s,a,c){let l=be(e.sharedInternalDocumentStore,o);if(xn(i))return delete e.vectorIndexes[n].vectors[o],!0;let{type:d,node:u}=e.indexes[n];switch(d){case"AVL":return Qu(u,l,r),!0;case"Bool":{let m=u[r?"true":"false"].indexOf(l);return u[r?"true":"false"].splice(m,1),!0}case"Radix":{let p=await a.tokenize(r,s,n);await t.removeDocumentScoreParameters(e,n,o,c);for(let m of p)await t.removeTokenScoreParameters(e,n,m),ip(u,m,l);return!0}case"Flat":return Zu(u,l,r),!0;case"BKD":return cp(u,r,l),!1}}async function aC(t,e,n,o,r,i,s,a,c){if(!zo(i))return fp(t,e,n,o,r,i,s,a,c);let l=wa(i),d=r,u=d.length;for(let p=0;p<u;p++)await fp(t,e,n,o,d[p],l,s,a,c);return!0}async function cC(t,e,n,o){if(!(n in e.tokenOccurrences))return[];let{node:r,type:i}=e.indexes[n];if(i!=="Radix")throw z("WRONG_SEARCH_PROPERTY_TYPE",n);let{exact:s,tolerance:a}=t.params,c=Ba(r,{term:o,exact:s,tolerance:a}),l=new Set;for(let d in c)if(Fo(c,d))for(let p of c[d])l.add(p);return t.index.calculateResultScores(t,e,n,o,Array.from(l))}async function lC(t,e,n){let o=Object.keys(n),r=o.reduce((s,a)=>y({[a]:[]},s),{});for(let s of o){let a=n[s];if(typeof e.indexes[s]>"u")throw z("UNKNOWN_FILTER_PROPERTY",s);let{node:c,type:l,isArray:d}=e.indexes[s];if(l==="Bool"){let m=c[a.toString()];me(r[s],m);continue}if(l==="BKD"){let p;if("radius"in a)p="radius";else if("polygon"in a)p="polygon";else throw new Error(`Invalid operation ${a}`);if(p==="radius"){let{value:m,coordinates:f,unit:g="m",inside:C=!0,highPrecision:h=!1}=a[p],v=ku(m,g),x=lp(c.root,f,v,C,void 0,h);me(r[s],x.map(({docIDs:P})=>P).flat())}else{let{coordinates:m,inside:f=!0,highPrecision:g=!1}=a[p],C=dp(c.root,m,f,void 0,g);me(r[s],C.map(({docIDs:h})=>h).flat())}continue}if(l==="Radix"&&(typeof a=="string"||Array.isArray(a))){for(let p of[a].flat()){let m=await t.tokenizer.tokenize(p,t.language,s);for(let f of m){let g=Ba(c,{term:f,exact:!0});me(r[s],Object.values(g).flat())}}continue}let u=Object.keys(a);if(u.length>1)throw z("INVALID_FILTER_OPERATION",u.length);if(l==="Flat"){d?me(r[s],tp(c,a)):me(r[s],ep(c,a));continue}if(l==="AVL"){let p=u[0],m=a[p],f=[];switch(p){case"gt":{f=Ra(c,m,!1);break}case"gte":{f=Ra(c,m,!0);break}case"lt":{f=Ma(c,m,!1);break}case"lte":{f=Ma(c,m,!0);break}case"eq":{f=Yu(c,m)??[];break}case"between":{let[g,C]=m;f=qu(c,g,C);break}}me(r[s],f)}}return Lo(Object.values(r))}async function dC(t){return t.searchableProperties}async function uC(t){return t.searchablePropertiesWithTypes}function hp(t){let e=so(t.e,t.s,t.k);e.d=t.d,e.w=t.w;for(let n of Object.keys(t.c))e.c[n]=hp(t.c[n]);return e}function pC(t){return{numberToDocumentId:new Map(t)}}function mC(t){return Array.from(t.numberToDocumentId.entries())}async function fC(t,e){let{indexes:n,vectorIndexes:o,searchableProperties:r,searchablePropertiesWithTypes:i,frequencies:s,tokenOccurrences:a,avgFieldLength:c,fieldLengths:l}=e,d={},u={};for(let p of Object.keys(n)){let{node:m,type:f,isArray:g}=n[p];switch(f){case"Radix":d[p]={type:"Radix",node:hp(m),isArray:g};break;case"Flat":d[p]={type:"Flat",node:pC(m),isArray:g};break;default:d[p]=n[p]}}for(let p of Object.keys(o)){let m=o[p].vectors;for(let f in m)m[f]=[m[f][0],new Float32Array(m[f][1])];u[p]={size:o[p].size,vectors:m}}return{sharedInternalDocumentStore:t,indexes:d,vectorIndexes:u,searchableProperties:r,searchablePropertiesWithTypes:i,frequencies:s,tokenOccurrences:a,avgFieldLength:c,fieldLengths:l}}async function gC(t){let{indexes:e,vectorIndexes:n,searchableProperties:o,searchablePropertiesWithTypes:r,frequencies:i,tokenOccurrences:s,avgFieldLength:a,fieldLengths:c}=t,l={};for(let u of Object.keys(n)){let p=n[u].vectors;for(let m in p)p[m]=[p[m][0],Array.from(p[m][1])];l[u]={size:n[u].size,vectors:p}}let d={};for(let u of Object.keys(e)){let{type:p,node:m,isArray:f}=e[u];if(p!=="Flat"){d[u]=e[u];continue}d[u]={type:"Flat",node:mC(m),isArray:f}}return{indexes:d,vectorIndexes:l,searchableProperties:o,searchablePropertiesWithTypes:r,frequencies:i,tokenOccurrences:s,avgFieldLength:a,fieldLengths:c}}async function yp(){return{create:gp,insert:iC,remove:aC,insertDocumentScoreParameters:Zy,insertTokenScoreParameters:eC,removeDocumentScoreParameters:tC,removeTokenScoreParameters:nC,calculateResultScores:oC,search:cC,searchByWhereClause:lC,getSearchableProperties:dC,getSearchablePropertiesWithTypes:uC,load:fC,save:gC}}function Cp(t,e,n,o,r){let i={language:t.tokenizer.language,sharedInternalDocumentStore:e,enabled:!0,isSorted:!0,sortableProperties:[],sortablePropertiesWithTypes:{},sorts:{}};for(let[s,a]of Object.entries(n)){let c=`${r}${r?".":""}${s}`;if(!o.includes(c)){if(typeof a=="object"&&!Array.isArray(a)){let l=Cp(t,e,a,o,c);me(i.sortableProperties,l.sortableProperties),i.sorts=y(y({},i.sorts),l.sorts),i.sortablePropertiesWithTypes=y(y({},i.sortablePropertiesWithTypes),l.sortablePropertiesWithTypes);continue}if(!xn(a))switch(a){case"boolean":case"number":case"string":i.sortableProperties.push(c),i.sortablePropertiesWithTypes[c]=a,i.sorts[c]={docs:new Map,orderedDocsToRemove:new Map,orderedDocs:[],type:a};break;case"geopoint":case"enum":continue;case"enum[]":case"boolean[]":case"number[]":case"string[]":continue;default:throw z("INVALID_SORT_SCHEMA_TYPE",Array.isArray(a)?"array":a,c)}}}return i}async function hC(t,e,n,o){return o?.enabled!==!1?Cp(t,e,n,(o||{}).unsortableProperties||[],""):{disabled:!0}}async function yC(t,e,n,o){if(!t.enabled)return;t.isSorted=!1;let r=be(t.sharedInternalDocumentStore,n),i=t.sorts[e];i.orderedDocsToRemove.has(r)&&Va(t,e),i.docs.set(r,i.orderedDocs.length),i.orderedDocs.push([r,o])}function vp(t){if(t.isSorted||!t.enabled)return;let e=Object.keys(t.sorts);for(let n of e)_C(t,n);t.isSorted=!0}function CC(t,e,n){return e[1].localeCompare(n[1],Pu(t))}function vC(t,e){return t[1]-e[1]}function SC(t,e){return e[1]?-1:1}function _C(t,e){let n=t.sorts[e],o;switch(n.type){case"string":o=CC.bind(null,t.language);break;case"number":o=vC.bind(null);break;case"boolean":o=SC.bind(null);break}n.orderedDocs.sort(o);let r=n.orderedDocs.length;for(let i=0;i<r;i++){let s=n.orderedDocs[i][0];n.docs.set(s,i)}}function EC(t){let e=Object.keys(t.sorts);for(let n of e)Va(t,n)}function Va(t,e){let n=t.sorts[e];n.orderedDocsToRemove.size&&(n.orderedDocs=n.orderedDocs.filter(o=>!n.orderedDocsToRemove.has(o[0])),n.orderedDocsToRemove.clear())}async function IC(t,e,n){if(!t.enabled)return;let o=t.sorts[e],r=be(t.sharedInternalDocumentStore,n);o.docs.get(r)&&(o.docs.delete(r),o.orderedDocsToRemove.set(r,!0))}async function bC(t,e,n){if(!t.enabled)throw z("SORT_DISABLED");let o=n.property,r=n.order==="DESC",i=t.sorts[o];if(!i)throw z("UNABLE_TO_SORT_ON_UNKNOWN_FIELD",o,t.sortableProperties.join(", "));return Va(t,o),vp(t),e.sort((s,a)=>{let c=i.docs.get(be(t.sharedInternalDocumentStore,s[0])),l=i.docs.get(be(t.sharedInternalDocumentStore,a[0])),d=typeof c<"u",u=typeof l<"u";return!d&&!u?0:d?u?r?l-c:c-l:-1:1}),e}async function xC(t){return t.enabled?t.sortableProperties:[]}async function wC(t){return t.enabled?t.sortablePropertiesWithTypes:{}}async function TC(t,e){let n=e;if(!n.enabled)return{enabled:!1};let o=Object.keys(n.sorts).reduce((r,i)=>{let{docs:s,orderedDocs:a,type:c}=n.sorts[i];return r[i]={docs:new Map(Object.entries(s).map(([l,d])=>[+l,d])),orderedDocsToRemove:new Map,orderedDocs:a,type:c},r},{});return{sharedInternalDocumentStore:t,language:n.language,sortableProperties:n.sortableProperties,sortablePropertiesWithTypes:n.sortablePropertiesWithTypes,sorts:o,enabled:!0,isSorted:n.isSorted}}async function PC(t){if(!t.enabled)return{enabled:!1};EC(t),vp(t);let e=Object.keys(t.sorts).reduce((n,o)=>{let{docs:r,orderedDocs:i,type:s}=t.sorts[o];return n[o]={docs:Object.fromEntries(r.entries()),orderedDocs:i,type:s},n},{});return{language:t.language,sortableProperties:t.sortableProperties,sortablePropertiesWithTypes:t.sortablePropertiesWithTypes,sorts:e,enabled:t.enabled,isSorted:t.isSorted}}async function Sp(){return{create:hC,insert:yC,remove:IC,save:PC,load:TC,sortBy:bC,getSortableProperties:xC,getSortablePropertiesWithTypes:wC}}var AC=[65,65,65,65,65,65,65,67,69,69,69,69,73,73,73,73,69,78,79,79,79,79,79,null,79,85,85,85,85,89,80,115,97,97,97,97,97,97,97,99,101,101,101,101,105,105,105,105,101,110,111,111,111,111,111,null,111,117,117,117,117,121,112,121,65,97,65,97,65,97,67,99,67,99,67,99,67,99,68,100,68,100,69,101,69,101,69,101,69,101,69,101,71,103,71,103,71,103,71,103,72,104,72,104,73,105,73,105,73,105,73,105,73,105,73,105,74,106,75,107,107,76,108,76,108,76,108,76,108,76,108,78,110,78,110,78,110,110,78,110,79,111,79,111,79,111,79,111,82,114,82,114,82,114,83,115,83,115,83,115,83,115,84,116,84,116,84,116,85,117,85,117,85,117,85,117,85,117,85,117,87,119,89,121,89,90,122,90,122,90,122,115];function DC(t){return t<192||t>383?t:AC[t-192]||t}function _p(t){let e=[];for(let n=0;n<t.length;n++)e[n]=DC(t.charCodeAt(n));return String.fromCharCode(...e)}var NC={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},OC={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""},RC="[^aeiou]",ki="[aeiouy]",dn=RC+"[^aeiouy]*",Tr=ki+"[aeiou]*",Ha="^("+dn+")?"+Tr+dn,MC="^("+dn+")?"+Tr+dn+"("+Tr+")?$",Mi="^("+dn+")?"+Tr+dn+Tr+dn,Ep="^("+dn+")?"+ki;function Ip(t){let e,n,o,r,i,s;if(t.length<3)return t;let a=t.substring(0,1);if(a=="y"&&(t=a.toUpperCase()+t.substring(1)),o=/^(.+?)(ss|i)es$/,r=/^(.+?)([^s])s$/,o.test(t)?t=t.replace(o,"$1$2"):r.test(t)&&(t=t.replace(r,"$1$2")),o=/^(.+?)eed$/,r=/^(.+?)(ed|ing)$/,o.test(t)){let c=o.exec(t);o=new RegExp(Ha),o.test(c[1])&&(o=/.$/,t=t.replace(o,""))}else r.test(t)&&(e=r.exec(t)[1],r=new RegExp(Ep),r.test(e)&&(t=e,r=/(at|bl|iz)$/,i=new RegExp("([^aeiouylsz])\\1$"),s=new RegExp("^"+dn+ki+"[^aeiouwxy]$"),r.test(t)?t=t+"e":i.test(t)?(o=/.$/,t=t.replace(o,"")):s.test(t)&&(t=t+"e")));if(o=/^(.+?)y$/,o.test(t)){let c=o.exec(t);e=c?.[1],o=new RegExp(Ep),e&&o.test(e)&&(t=e+"i")}if(o=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/,o.test(t)){let c=o.exec(t);e=c?.[1],n=c?.[2],o=new RegExp(Ha),e&&o.test(e)&&(t=e+NC[n])}if(o=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,o.test(t)){let c=o.exec(t);e=c?.[1],n=c?.[2],o=new RegExp(Ha),e&&o.test(e)&&(t=e+OC[n])}if(o=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/,r=/^(.+?)(s|t)(ion)$/,o.test(t)){let c=o.exec(t);e=c?.[1],o=new RegExp(Mi),e&&o.test(e)&&(t=e)}else if(r.test(t)){let c=r.exec(t);e=c?.[1]??""+c?.[2]??"",r=new RegExp(Mi),r.test(e)&&(t=e)}if(o=/^(.+?)e$/,o.test(t)){let c=o.exec(t);e=c?.[1],o=new RegExp(Mi),r=new RegExp(MC),i=new RegExp("^"+dn+ki+"[^aeiouwxy]$"),e&&(o.test(e)||r.test(e)&&!i.test(e))&&(t=e)}return o=/ll$/,r=new RegExp(Mi),o.test(t)&&r.test(t)&&(o=/.$/,t=t.replace(o,"")),a=="y"&&(t=a.toLowerCase()+t.substring(1)),t}function bp(t,e){var n;let o=`${this.language}:${t}:${e}`;return this.normalizationCache.has(o)?this.normalizationCache.get(o):!((n=this.stopWords)===null||n===void 0)&&n.includes(e)?(this.normalizationCache.set(o,""),""):(this.stemmer&&!this.stemmerSkipProperties.has(t)&&(e=this.stemmer(e)),e=_p(e),this.normalizationCache.set(o,e),e)}function kC(t){for(;t[t.length-1]==="";)t.pop();for(;t[0]==="";)t.shift();return t}function xp(t,e,n){if(e&&e!==this.language)throw z("LANGUAGE_NOT_SUPPORTED",e);if(typeof t!="string")return[t];let o;if(n&&this.tokenizeSkipProperties.has(n))o=[this.normalizeToken.bind(this,n??"")(t)];else{let i=Tu[this.language];o=t.toLowerCase().split(i).map(this.normalizeToken.bind(this,n??"")).filter(Boolean)}let r=kC(o);return this.allowDuplicates?r:Array.from(new Set(r))}async function Wa(t={}){if(!t.language)t.language="english";else if(!xr.includes(t.language))throw z("LANGUAGE_NOT_SUPPORTED",t.language);let e;if(t.stemming||t.stemmer&&!("stemming"in t))if(t.stemmer){if(typeof t.stemmer!="function")throw z("INVALID_STEMMER_FUNCTION_TYPE");e=t.stemmer}else if(t.language==="english")e=Ip;else throw z("MISSING_STEMMER",t.language);let n;if(t.stopWords!==!1){if(n=[],Array.isArray(t.stopWords))n=t.stopWords;else if(typeof t.stopWords=="function")n=await t.stopWords(n);else if(t.stopWords)throw z("CUSTOM_STOP_WORDS_MUST_BE_FUNCTION_OR_ARRAY");if(!Array.isArray(n))throw z("CUSTOM_STOP_WORDS_MUST_BE_FUNCTION_OR_ARRAY");for(let r of n)if(typeof r!="string")throw z("CUSTOM_STOP_WORDS_MUST_BE_FUNCTION_OR_ARRAY")}let o={tokenize:xp,language:t.language,stemmer:e,stemmerSkipProperties:new Set(t.stemmerSkipProperties?[t.stemmerSkipProperties].flat():[]),tokenizeSkipProperties:new Set(t.tokenizeSkipProperties?[t.tokenizeSkipProperties].flat():[]),stopWords:n,allowDuplicates:!!t.allowDuplicates,normalizeToken:bp,normalizationCache:new Map};return o.tokenize=xp.bind(o),o.normalizeToken=bp,o}function UC(t){let e={formatElapsedTime:Uu,getDocumentIndexId:Fu,getDocumentProperties:Ai,validateSchema:xa};for(let n of Pa){let o=n;if(t[o]){if(typeof t[o]!="function")throw z("COMPONENT_MUST_BE_FUNCTION",o)}else t[o]=e[o]}for(let n of Object.keys(t))if(!Wu.includes(n)&&!Pa.includes(n))throw z("UNSUPPORTED_COMPONENT",n)}async function Ka({schema:t,sort:e,language:n,components:o,id:r,plugins:i}){o||(o={}),r||(r=await Pi());let s=o.tokenizer,a=o.index,c=o.documentsStore,l=o.sorter;if(s?s.tokenize?s=s:s=await Wa(s):s=await Wa({language:n??"english"}),o.tokenizer&&n)throw z("NO_LANGUAGE_WITH_CUSTOM_TOKENIZER");let d=Bu();a||=await yp(),l||=await Sp(),c||=await zu(),UC(o);let{getDocumentProperties:u,getDocumentIndexId:p,validateSchema:m,formatElapsedTime:f}=o,g={data:{},caches:{},schema:t,tokenizer:s,index:a,sorter:l,documentsStore:c,internalDocumentIDStore:d,getDocumentProperties:u,getDocumentIndexId:p,validateSchema:m,beforeInsert:[],afterInsert:[],beforeRemove:[],afterRemove:[],beforeUpdate:[],afterUpdate:[],beforeSearch:[],afterSearch:[],beforeInsertMultiple:[],afterInsertMultiple:[],beforeRemoveMultiple:[],afterRemoveMultiple:[],afterUpdateMultiple:[],beforeUpdateMultiple:[],afterCreate:[],formatElapsedTime:f,id:r,plugins:i,version:FC()};g.data={index:await g.index.create(g,d,t),docs:await g.documentsStore.create(g,d),sorting:await g.sorter.create(g,d,t,e)};for(let h of Vu)g[h]=(g[h]??[]).concat(await Hu(g,h));let C=g.afterCreate;return C&&await Ku(C,g),g}function FC(){return"2.0.17"}var Hn=Symbol("orama.insertions"),LC=Symbol("orama.removals");var qa,BC=((qa=globalThis.process)===null||qa===void 0?void 0:qa.emitWarning)??function(e,n){console.warn(`[WARNING] [${n.code}] ${e}`)};function wp(t){typeof t[Hn]!="number"&&(queueMicrotask(()=>{t[Hn]=void 0}),t[Hn]=0),t[Hn]>1e3?(BC("Orama's insert operation is synchronous. Please avoid inserting a large number of document in a single operation in order not to block the main thread or, in alternative, please use insertMultiple.",{code:"ORAMA0001"}),t[Hn]=-1):t[Hn]>=0&&t[Hn]++}async function Tp(t,e,n,o){let r=await t.validateSchema(e,t.schema);if(r)throw z("SCHEMA_VALIDATION_FAILURE",r);return HC(t,e,n,o)}var zC=new Set(["enum","enum[]"]),VC=new Set(["string","number"]);async function HC(t,e,n,o){let{index:r,docs:i}=t.data,s=await t.getDocumentIndexId(e);if(typeof s!="string")throw z("DOCUMENT_ID_MUST_BE_STRING",typeof s);if(!await t.documentsStore.store(i,s,e))throw z("DOCUMENT_ALREADY_EXISTS",s);let a=await t.documentsStore.count(i);o||await Aa(t.beforeInsert,t,s,e);let c=await t.index.getSearchableProperties(r),l=await t.index.getSearchablePropertiesWithTypes(r),d=await t.getDocumentProperties(e,c);for(let[v,x]of Object.entries(d)){if(typeof x>"u")continue;let P=typeof x,k=l[v];if(!(Lu(k)&&typeof x=="object"&&typeof x.lon=="number"&&typeof x.lat=="number")&&!(xn(k)&&Array.isArray(x))&&!(zo(k)&&Array.isArray(x))&&!(zC.has(k)&&VC.has(P))&&P!==k)throw z("INVALID_DOCUMENT_PROPERTY",v,k,P)}for(let v of c){var u,p,m,f;let x=d[v];if(typeof x>"u")continue;let P=l[v];await((p=(u=t.index).beforeInsert)===null||p===void 0?void 0:p.call(u,t.data.index,v,s,x,P,n,t.tokenizer,a)),await t.index.insert(t.index,t.data.index,v,s,x,P,n,t.tokenizer,a),await((f=(m=t.index).afterInsert)===null||f===void 0?void 0:f.call(m,t.data.index,v,s,x,P,n,t.tokenizer,a))}let g=await t.sorter.getSortableProperties(t.data.sorting),C=await t.sorter.getSortablePropertiesWithTypes(t.data.sorting),h=await t.getDocumentProperties(e,g);for(let v of g){let x=h[v];if(typeof x>"u")continue;let P=C[v];await t.sorter.insert(t.data.sorting,v,s,x,P,n)}return o||await Aa(t.afterInsert,t,s,e),wp(t),s}async function ja(t,e,n,o,r,i){r||await Da(t.beforeInsertMultiple,t,e);let s=e.length,a=t.schema;for(let c=0;c<s;c++){let l=await t.validateSchema(e[c],a);if(l)throw z("SCHEMA_VALIDATION_FAILURE",l)}return WC(t,e,n,o,r,i)}async function WC(t,e,n,o,r,i){n||(n=1e3),i??=0;let s=[];return await new Promise((a,c)=>{let l=0;async function d(){let u=e.slice(l*n,++l*n);if(!u.length)return a();for(let p of u)try{let m=await Tp(t,p,o,r);s.push(m)}catch(m){c(m)}setTimeout(d,i)}setTimeout(d,i)}),r||await Da(t.afterInsertMultiple,t,e),s}var $a="fulltext",Pp="hybrid",Ap="vector";function Ko(t,e){let n=new Map,o=[];for(let r of t)n.set(r,!0);for(let r of e){let[i]=r;n.has(i)&&(o.push(r),n.delete(i))}return o}function KC(t,e){return t[1]-e[1]}function qC(t,e){return e[1]-t[1]}function jC(t="desc"){return t.toLowerCase()==="asc"?KC:qC}async function qo(t,e,n){let o={},r=e.map(([l])=>l),i=await t.documentsStore.getMultiple(t.data.docs,r),s=Object.keys(n),a=await t.index.getSearchablePropertiesWithTypes(t.data.index);for(let l of s){let d;if(a[l]==="number"){let{ranges:u}=n[l],p=u.length,m=Array.from({length:p});for(let f=0;f<p;f++){let g=u[f];m[f]=[`${g.from}-${g.to}`,0]}d=Object.fromEntries(m)}o[l]={count:0,values:d??{}}}let c=i.length;for(let l=0;l<c;l++){let d=i[l];for(let u of s){let p=u.includes(".")?await Bo(d,u):d[u],m=a[u],f=o[u].values;switch(m){case"number":{let g=n[u].ranges;Dp(g,f)(p);break}case"number[]":{let g=new Set,C=n[u].ranges,h=Dp(C,f,g);for(let v of p)h(v);break}case"boolean":case"enum":case"string":{Np(f,m)(p);break}case"boolean[]":case"enum[]":case"string[]":{let h=Np(f,m==="boolean[]"?"boolean":"string",new Set);for(let v of p)h(v);break}default:throw z("FACET_NOT_SUPPORTED",m)}}}for(let l of s){let d=o[l];if(d.count=Object.keys(d.values).length,a[l]==="string"){let u=n[l],p=jC(u.sort);d.values=Object.fromEntries(Object.entries(d.values).sort(p).slice(u.offset??0,u.limit??10))}}return o}function Dp(t,e,n){return o=>{for(let r of t){let i=`${r.from}-${r.to}`;n?.has(i)||o>=r.from&&o<=r.to&&(e[i]===void 0?e[i]=1:(e[i]++,n?.add(i)))}}}function Np(t,e,n){let o=e==="boolean"?"false":"";return r=>{let i=r?.toString()??o;n?.has(i)||(t[i]=(t[i]??0)+1,n?.add(i))}}var $C={reducer:(t,e,n,o)=>(e[o]=n,e),getInitialValue:t=>Array.from({length:t})},Op=["string","number","boolean"];async function jo(t,e,n){let o=n.properties,r=o.length,i=await t.index.getSearchablePropertiesWithTypes(t.data.index);for(let h=0;h<r;h++){let v=o[h];if(typeof i[v]>"u")throw z("UNKNOWN_GROUP_BY_PROPERTY",v);if(!Op.includes(i[v]))throw z("INVALID_GROUP_BY_PROPERTY",v,Op.join(", "),i[v])}let s=e.map(([h])=>io(t.internalDocumentIDStore,h)),a=await t.documentsStore.getMultiple(t.data.docs,s),c=a.length,l=n.maxResult||Number.MAX_SAFE_INTEGER,d=[],u={};for(let h=0;h<r;h++){let v=o[h],x={property:v,perValue:{}},P=new Set;for(let k=0;k<c;k++){let N=a[k],w=await Bo(N,v);if(typeof w>"u")continue;let L=typeof w!="boolean"?w:""+w,q=x.perValue[L]??{indexes:[],count:0};q.count>=l||(q.indexes.push(k),q.count++,x.perValue[L]=q,P.add(w))}d.push(Array.from(P)),u[v]=x}let p=Rp(d),m=p.length,f=[];for(let h=0;h<m;h++){let v=p[h],x=v.length,P={values:[],indexes:[]},k=[];for(let N=0;N<x;N++){let w=v[N],L=o[N];k.push(u[L].perValue[typeof w!="boolean"?w:""+w].indexes),P.values.push(w)}P.indexes=Lo(k).sort((N,w)=>N-w),P.indexes.length!==0&&f.push(P)}let g=f.length,C=Array.from({length:g});for(let h=0;h<g;h++){let v=f[h],x=n.reduce||$C,P=v.indexes.map(L=>({id:s[L],score:e[L][1],document:a[L]})),k=x.reducer.bind(null,v.values),N=x.getInitialValue(v.indexes.length),w=P.reduce(k,N);C[h]={values:v.values,result:w}}return C}function Rp(t,e=0){if(e+1===t.length)return t[e].map(i=>[i]);let n=t[e],o=Rp(t,e+1),r=[];for(let i of n)for(let s of o){let a=[i];me(a,s),r.push(a)}return r}async function Mp(t,e,n){let o=await ln();t.beforeSearch&&await Ho(t.beforeSearch,t,e,n),e.relevance=Object.assign(Ui,e.relevance??{});let r=Object.keys(t.data.index.vectorIndexes),i=e.facets&&Object.keys(e.facets).length>0,{limit:s=10,offset:a=0,term:c,properties:l,threshold:d=1,distinctOn:u,includeVectors:p=!1}=e,m=e.preflight===!0,{index:f,docs:g}=t.data,C=await t.tokenizer.tokenize(c??"",n),h=t.caches.propertiesToSearch;if(!h){let Y=await t.index.getSearchablePropertiesWithTypes(f);h=await t.index.getSearchableProperties(f),h=h.filter(we=>Y[we].startsWith("string")),t.caches.propertiesToSearch=h}if(l&&l!=="*"){for(let Y of l)if(!h.includes(Y))throw z("UNKNOWN_INDEX",Y,h.join(", "));h=h.filter(Y=>l.includes(Y))}let v=await ao(t.tokenizer,t.index,t.documentsStore,n,e,h,C,await t.documentsStore.count(g),o),x=Object.keys(e.where??{}).length>0,P=[];x&&(P=await t.index.searchByWhereClause(v,f,e.where));let k=C.length;if(k||l&&l.length>0){let Y=h.length;for(let we=0;we<Y;we++){var N;let re=h[we];if(k!==0)for(let M=0;M<k;M++){let B=C[M],Q=await t.index.search(v,f,re,B);me(v.indexMap[re][B],Q)}else{v.indexMap[re][""]=[];let M=await t.index.search(v,f,re,"");me(v.indexMap[re][""],M)}let ne=v.indexMap[re],$e=Object.values(ne);v.docsIntersection[re]=Oi($e,(e==null||(N=e.boost)===null||N===void 0?void 0:N[re])??1,d,k);let ht=v.docsIntersection[re],R=ht.length;for(let M=0;M<R;M++){let[B,Q]=ht[M],Ie=v.uniqueDocsIDs[B];Ie?v.uniqueDocsIDs[B]=Ie+Q+.5:v.uniqueDocsIDs[B]=Q}}}else C.length===0&&c?v.uniqueDocsIDs={}:v.uniqueDocsIDs=Object.fromEntries(Object.keys(await t.documentsStore.getAll(t.data.docs)).map(Y=>[Y,0]));let w=Object.entries(v.uniqueDocsIDs).map(([Y,we])=>[+Y,we]);if(x&&(w=Ko(P,w)),e.sortBy)if(typeof e.sortBy=="function"){let Y=w.map(([ne])=>ne),re=(await t.documentsStore.getMultiple(t.data.docs,Y)).map((ne,$e)=>[w[$e][0],w[$e][1],ne]);re.sort(e.sortBy),w=re.map(([ne,$e])=>[ne,$e])}else w=await t.sorter.sortBy(t.data.sorting,w,e.sortBy).then(Y=>Y.map(([we,re])=>[be(t.internalDocumentIDStore,we),re]));else w=w.sort(Mu);let L;m||(L=await(u?kp(t,w,a,s,u):Fi(t,w,a,s)));let q={elapsed:{formatted:"",raw:0},hits:[],count:w.length};if(typeof L<"u"&&(q.hits=L.filter(Boolean),p||Di(q,r)),i){let Y=await qo(t,w,e.facets);q.facets=Y}return e.groupBy&&(q.groups=await jo(t,w,e.groupBy)),t.afterSearch&&await Vo(t.afterSearch,t,e,n,q),q.elapsed=await t.formatElapsedTime(await ln()-v.timeStart),q}async function Up(t,e,n="english"){let o=await ln();t.beforeSearch&&await Ho(t.beforeSearch,t,e,n);let{vector:r}=e;if(r&&(!("value"in r)||!("property"in r)))throw z("INVALID_VECTOR_INPUT",Object.keys(r).join(", "));let{limit:i=10,offset:s=0,includeVectors:a=!1}=e,c=t.data.index.vectorIndexes[r.property],l=c.size,d=c.vectors,u=e.facets&&Object.keys(e.facets).length>0,p=Object.keys(e.where??{}).length>0,{index:m,docs:f}=t.data;if(r?.value.length!==l)throw z("INVALID_INPUT_VECTOR",r?.property,l,r?.value.length);r instanceof Float32Array||(r.value=new Float32Array(r.value));let g=Ri(r.value,d,l,e.similarity).map(([q,Y])=>[be(t.internalDocumentIDStore,q),Y]),C=t.caches.propertiesToSearch;if(!C){let q=await t.index.getSearchablePropertiesWithTypes(m);C=await t.index.getSearchableProperties(m),C=C.filter(Y=>q[Y].startsWith("string")),t.caches.propertiesToSearch=C}let h=[],v=await ao(t.tokenizer,t.index,t.documentsStore,n,e,C,h,await t.documentsStore.count(f),o),x=[];p&&(x=await t.index.searchByWhereClause(v,m,e.where),g=Ko(x,g));let P=[];u&&(P=await qo(t,g,e.facets));let k=Array.from({length:i});for(let q=0;q<i;q++){let Y=g[q+s];if(!Y)break;let we=t.data.docs.docs[Y[0]];if(we){a||(we[r.property]=null);let re={id:io(t.internalDocumentIDStore,Y[0]),score:Y[1],document:we};k[q]=re}}let N=[];e.groupBy&&(N=await jo(t,g,e.groupBy)),t.afterSearch&&await Vo(t.afterSearch,t,e,n,g);let L=await ln()-o;return y(y({count:g.length,hits:k.filter(Boolean),elapsed:{raw:Number(L),formatted:await Uo(L)}},P?{facets:P}:{}),N?{groups:N}:{})}async function Lp(t,e,n){let o=await ln();t.beforeSearch&&await Ho(t.beforeSearch,t,e,n);let{offset:r=0,limit:i=10,includeVectors:s=!1}=e,a=e.facets&&Object.keys(e.facets).length>0,[c,l]=await Promise.all([GC(t,e,n),YC(t,e)]),{index:d,docs:u}=t.data,p=e.hybridWeights,m=JC(c,l,e.term??"",p),f=await t.tokenizer.tokenize(e.term??"",n),g=t.caches.propertiesToSearch;if(!g){let L=await t.index.getSearchablePropertiesWithTypes(d);g=await t.index.getSearchableProperties(d),g=g.filter(q=>L[q].startsWith("string")),t.caches.propertiesToSearch=g}if(e.properties&&e.properties!=="*"){for(let L of e.properties)if(!g.includes(L))throw z("UNKNOWN_INDEX",L,g.join(", "));g=g.filter(L=>e.properties.includes(L))}let C=await ao(t.tokenizer,t.index,t.documentsStore,n,e,g,f,await t.documentsStore.count(u),o),h=Object.keys(e.where??{}).length>0,v=[];h&&(v=await t.index.searchByWhereClause(C,d,e.where),m=Ko(v,m).slice(r,r+i));let x;a&&(x=await qo(t,m,e.facets));let P;e.groupBy&&(P=await jo(t,m,e.groupBy));let k=(await Fi(t,m,r,i)).filter(Boolean);t.afterSearch&&await Vo(t.afterSearch,t,e,n,k);let N=await ln(),w=y(y({count:m.length,elapsed:{raw:Number(N-o),formatted:await Uo(N-o)},hits:k},x?{facets:x}:{}),P?{groups:P}:{});if(!s){let L=Object.keys(t.data.index.vectorIndexes);Di(w,L)}return w}async function GC(t,e,n){let o=await ln();e.relevance=Object.assign(Ui,e.relevance??{});let{term:r="",properties:i,threshold:s=1}=e,{index:a,docs:c}=t.data,l=await t.tokenizer.tokenize(r,n),d=t.caches.propertiesToSearch;if(!d){let g=await t.index.getSearchablePropertiesWithTypes(a);d=await t.index.getSearchableProperties(a),d=d.filter(C=>g[C].startsWith("string")),t.caches.propertiesToSearch=d}if(i&&i!=="*"){let g=new Set(d),C=new Set(i);for(let h of i)if(!g.has(h))throw z("UNKNOWN_INDEX",h,d.join(", "));d=d.filter(h=>C.has(h))}let u=await ao(t.tokenizer,t.index,t.documentsStore,n,e,d,l,await t.documentsStore.count(c),o),p=l.length;if(p||i&&i.length>0){let g=d.length;for(let C=0;C<g;C++){var m;let h=d[C];if(p!==0)for(let N=0;N<p;N++){let w=l[N],L=await t.index.search(u,a,h,w);me(u.indexMap[h][w],L)}else{let N=[];u.indexMap[h][""]=N;let w=await t.index.search(u,a,h,"");me(N,w)}let v=u.indexMap[h],x=Object.values(v);u.docsIntersection[h]=Oi(x,(e==null||(m=e.boost)===null||m===void 0?void 0:m[h])??1,s,p);let P=u.docsIntersection[h],k=P.length;for(let N=0;N<k;N++){let[w,L]=P[N],q=u.uniqueDocsIDs[w];u.uniqueDocsIDs[w]=q?q+L+.5:L}}}else l.length===0&&r?u.uniqueDocsIDs={}:u.uniqueDocsIDs=Object.fromEntries(Object.keys(await t.documentsStore.getAll(t.data.docs)).map(g=>[g,0]));let f=Object.entries(u.uniqueDocsIDs).map(([g,C])=>[+g,C]).sort((g,C)=>C[1]-g[1]);return Bp(f)}async function YC(t,e){let n=e.vector,o=t.data.index.vectorIndexes[n?.property],r=o.size,i=o.vectors;if(n&&(!n.value||!n.property))throw z("INVALID_VECTOR_INPUT",Object.keys(n).join(", "));if(n.value.length!==r)throw z("INVALID_INPUT_VECTOR",n.property,r,n.value.length);n instanceof Float32Array||(n.value=new Float32Array(n.value));let s=Ri(n.value,i,r,e.similarity).map(([a,c])=>[be(t.internalDocumentIDStore,a),c]);return Bp(s)}function Ga([,t]){return t}function Bp(t){let e=Math.max.apply(Math,t.map(Ga));return t.map(([n,o])=>[n,o/e])}function Fp(t,e){return t/e}function QC(t,e){return(n,o)=>n*t+o*e}function JC(t,e,n,o){let r=Math.max.apply(Math,t.map(Ga)),i=Math.max.apply(Math,e.map(Ga)),s=o&&o.text&&o.vector,{text:a,vector:c}=s?o:XC(n),l=new Map,d=t.length,u=QC(a,c);for(let m=0;m<d;m++){let[f,g]=t[m],C=Fp(g,r),h=u(C,0);l.set(f,h)}let p=e.length;for(let m=0;m<p;m++){let[f,g]=e[m],C=Fp(g,i),h=l.get(f)??0;l.set(f,h+u(0,C))}return[...l].sort((m,f)=>f[1]-m[1])}function XC(t){return{text:.5,vector:.5}}var Ui={k:1.2,b:.75,d:.5};async function ao(t,e,n,o,r,i,s,a,c){let l={},d={};for(let u of i){let p={};for(let m of s)p[m]=[];l[u]=p,d[u]=[]}return{timeStart:c,tokenizer:t,index:e,documentsStore:n,language:o,params:r,docsCount:a,uniqueDocsIDs:{},indexMap:l,docsIntersection:d}}async function Ya(t,e,n){let o=e.mode??$a;if(o===$a)return Mp(t,e,n);if(o===Ap)return Up(t,e);if(o===Pp)return Lp(t,e);throw z("INVALID_SEARCH_MODE",o)}async function kp(t,e,n,o,r){let i=t.data.docs,s=new Map,a=[],c=new Set,l=e.length,d=0;for(let u=0;u<l;u++){let p=e[u];if(typeof p>"u")continue;let[m,f]=p;if(c.has(m))continue;let g=await t.documentsStore.get(i,m),C=await Bo(g,r);if(!(typeof C>"u"||s.has(C))&&(s.set(C,!0),d++,!(d<=n)&&(a.push({id:io(t.internalDocumentIDStore,m),score:f,document:g}),c.add(m),d>=n+o)))break}return a}async function Fi(t,e,n,o){let r=t.data.docs,i=Array.from({length:o}),s=new Set;for(let a=n;a<o+n;a++){let c=e[a];if(typeof c>"u")break;let[l,d]=c;if(!s.has(l)){let u=await t.documentsStore.get(r,l);i[a]={id:io(t.internalDocumentIDStore,l),score:d,document:u},s.add(l)}}return i}async function zp(t,e){"positions"in t.data||Object.assign(t.data,{positions:{}}),await Vp(t,await t.documentsStore.get(t.data.docs,e),e)}var ev=/[\p{L}0-9_'-]+/gimu;async function Vp(t,e,n,o="",r=t.schema){t.data.positions[n]=Object.create(null);for(let i of Object.keys(e)){let s=typeof e[i]=="object",a=typeof r[i]=="object",c=`${o}${String(i)}`;if(s&&i in r&&a&&Vp(t,e[i],n,c+".",r[i]),!(typeof e[i]=="string"&&i in r&&!a))continue;t.data.positions[n][c]=Object.create(null);let l=e[i],d;for(;(d=ev.exec(l))!==null;){let u=d[0].toLowerCase(),p=`${t.tokenizer.language}:${u}`,m;t.tokenizer.normalizationCache.has(p)?m=t.tokenizer.normalizationCache.get(p):([m]=await t.tokenizer.tokenize(u),t.tokenizer.normalizationCache.set(p,m)),Array.isArray(t.data.positions[n][c][m])||(t.data.positions[n][c][m]=[]);let f=d.index,g=d[0].length;t.data.positions[n][c][m].push({start:f,length:g})}}}async function Hp(t,e,n){let o=await Ya(t,e,n),r=await t.tokenizer.tokenize(e.term??"",n),i=[];for(let s of o.hits){let a=Object.entries(t.data.positions[s.id]),c=[];for(let[l,d]of a){let u=[],p=Object.entries(d);for(let m of p){let[f]=m;for(let g of r)if(e.tolerance){if((await ka(f,g,e.tolerance)).isBounded){u.push(m);break}}else if(f.startsWith(g)){u.push(m);break}}c.push([l,Object.fromEntries(u)])}i.push(Object.assign(s,{positions:Object.fromEntries(c)}))}return o.hits=i,o}var Li=class extends Vn{constructor(e){super(),this.options=e,this.db$=ga(Ka({schema:{title:"string",section:"string",content:"string"},plugins:[{name:"highlight",afterInsert:zp}],components:{tokenizer:{stemmer:e?.stemmer}}})).pipe(at(n=>this.request("assets/ng-doc/indexes.json").pipe(at(o=>ja(n,o)),Fe(()=>n))),ci(1))}search(e){return this.db$.pipe(at(n=>Hp(n,{term:e,boost:{title:4,section:2},threshold:.3,properties:["title","section","content"],tolerance:this.options?.tolerance,exact:this.options?.exact,limit:this.options?.limit??10})),Fe(n=>n.hits.map(o=>{let r=(0,Kp.objectKeys)(o.positions);return{index:o.document,positions:r.reduce((i,s)=>(i[s]=[...(0,Wp.asArray)(i[s]),...Object.values(o.positions[s]).flat()],i),{})}})))}request(e){return ga(fetch(e)).pipe(at(n=>n.json()))}};var tv=["ng-doc-blockquote",""],nv=["*"];function ov(t,e){if(t&1&&O(0,"ng-doc-icon",2),t&2){let n=T(2);I("icon",n.icon)}}function rv(t,e){t&1&&O(0,"ng-doc-icon",3)}function iv(t,e){t&1&&O(0,"ng-doc-icon",4)}function sv(t,e){t&1&&O(0,"ng-doc-icon",5)}function av(t,e){t&1&&O(0,"ng-doc-icon",6)}function cv(t,e){if(t&1&&W(0,rv,1,0,"ng-doc-icon",3)(1,iv,1,0,"ng-doc-icon",4)(2,sv,1,0,"ng-doc-icon",5)(3,av,1,0,"ng-doc-icon",6),t&2){let n,o=T(2);K((n=o.type)==="note"?0:n==="warning"?1:n==="success"?2:n==="alert"?3:-1)}}function lv(t,e){if(t&1&&(S(0,"div",0),W(1,ov,1,1,"ng-doc-icon",2)(2,cv,4,1),E()),t&2){let n=T();_(),K(n.icon?1:2)}}var qp=(()=>{let e=class e{constructor(){this.type="default"}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=F({type:e,selectors:[["blockquote","ng-doc-blockquote",""]],hostVars:1,hostBindings:function(r,i){r&2&&fe("data-ng-doc-type",i.type)},inputs:{type:"type",icon:"icon"},attrs:tv,ngContentSelectors:nv,decls:3,vars:1,consts:[[1,"ng-doc-blockquote-icon"],[1,"ng-doc-blockquote"],["size","24",3,"icon"],["icon","info","size","24"],["icon","alert-triangle","size","24"],["icon","check","size","24"],["icon","alert-circle","size","24"]],template:function(r,i){r&1&&(Be(),W(0,lv,3,1,"div",0),S(1,"div",1),ge(2),E()),r&2&&K(i.type!=="default"?0:-1)},dependencies:[ue],styles:["[_nghost-%COMP%]{font-family:var(--ng-doc-font-family);font-variant:no-contextual;color:var(--ng-doc-text);line-height:var(--ng-doc-line-height);font-size:var(--ng-doc-font-size);font-weight:var(--ng-doc-font-weight);position:relative;display:flex;padding:calc(var(--ng-doc-base-gutter) * 2);border-radius:var(--ng-doc-base-gutter);margin:var(--ng-doc-blockquote-margin);background:color-mix(in srgb,var(--ng-doc-blockquote-background, var(--ng-doc-base-9)),transparent 90%);border:1px solid color-mix(in srgb,var(--ng-doc-blockquote-border-color, var(--ng-doc-base-9)),transparent 80%);overflow:hidden;--ng-doc-code-margin: var(--ng-doc-base-gutter) 0}[data-ng-doc-type=note][_nghost-%COMP%]{--ng-doc-blockquote-background: var(--ng-doc-info);--ng-doc-blockquote-border-color: var(--ng-doc-info);--ng-doc-icon-color: var(--ng-doc-info)}[data-ng-doc-type=warning][_nghost-%COMP%]{--ng-doc-blockquote-background: var(--ng-doc-warning);--ng-doc-blockquote-border-color: var(--ng-doc-warning);--ng-doc-icon-color: var(--ng-doc-warning)}[data-ng-doc-type=alert][_nghost-%COMP%]{--ng-doc-blockquote-background: var(--ng-doc-alert);--ng-doc-blockquote-border-color: var(--ng-doc-alert);--ng-doc-icon-color: var(--ng-doc-alert)}[data-ng-doc-type=success][_nghost-%COMP%]{--ng-doc-blockquote-background: var(--ng-doc-success);--ng-doc-blockquote-border-color: var(--ng-doc-success);--ng-doc-icon-color: var(--ng-doc-success)}[_nghost-%COMP%]   .ng-doc-blockquote-icon[_ngcontent-%COMP%]{display:flex;margin-right:calc(var(--ng-doc-base-gutter) * 2)}[_nghost-%COMP%]   .ng-doc-blockquote[_ngcontent-%COMP%]{text-decoration:none}[_nghost-%COMP%]     p{margin:0}"],changeDetection:0});let t=e;return t})();var jp=rn(Ir(),1);function dv(t,e){if(t&1&&(At(0),j(1),Dt()),t&2){let n=e.polymorpheusOutlet;_(),Pe(" ",n," ")}}function uv(t,e){if(t&1&&(S(0,"ng-doc-option",1),J(1,dv,2,1,"ng-container",2),E()),t&2){let n=e.$implicit,o=T(2);I("value",o.defineValueFn(n))("disabled",o.itemDisabledFn(n)),_(),I("polymorpheusOutlet",o.itemContent)("polymorpheusOutletContext",o.getContext(n))}}function pv(t,e){if(t&1&&Oe(0,uv,2,4,"ng-doc-option",1,ql().trackByFn,!0),t&2){let n=T();Re(n.items)}}function mv(t,e){if(t&1&&(At(0),j(1),Dt()),t&2){let n=e.polymorpheusOutlet;_(),Pe(" ",n," ")}}function fv(t,e){if(t&1&&J(0,mv,2,1,"ng-container",3),t&2){let n=T(2);I("polymorpheusOutlet",n.emptyContent)}}function gv(t,e){if(t&1&&(S(0,"div",0),W(1,fv,1,1,"ng-container"),E()),t&2){let n=T();_(),K(n.emptyContent?1:-1)}}var $p=(()=>{let e=class e{constructor(){this.autofocus=!0,this.items=[],this.itemContent=({$implicit:o})=>Fd(o),this.emptyContent="",this.itemDisabledFn=kd,this.defineValueFn=Ud,this.trackByFn=(o,r)=>r}getContext(o){return{$implicit:o}}getItems(){return(0,jp.asArray)(this.items)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=F({type:e,selectors:[["ng-doc-data-list"]],inputs:{autofocus:"autofocus",items:"items",itemContent:"itemContent",emptyContent:"emptyContent",itemDisabledFn:"itemDisabledFn",defineValueFn:"defineValueFn",trackByFn:"trackByFn"},decls:3,vars:1,consts:[["ng-doc-text","",1,"ng-doc-empty-message"],[3,"value","disabled"],[4,"polymorpheusOutlet","polymorpheusOutletContext"],[4,"polymorpheusOutlet"]],template:function(r,i){r&1&&(S(0,"ng-doc-list"),W(1,pv,2,0)(2,gv,2,1,"div",0),E()),r&2&&(_(),K(i.items&&i.items.length?1:2))},dependencies:[$d,Gd,Mt,cn,jt],styles:["[_nghost-%COMP%]{display:block;height:100%;overflow:auto;max-height:var(--ng-doc-list-size)}.ng-doc-empty-message[_ngcontent-%COMP%]{padding:var(--ng-doc-base-gutter) calc(var(--ng-doc-base-gutter) * 2);--ng-doc-font-size: 14px;--ng-doc-line-height: 22px}ng-doc-checkbox[_ngcontent-%COMP%]{pointer-events:none}"],changeDetection:0});let t=e;return El([jd,ai("design:type",Function),ai("design:paramtypes",[Object]),ai("design:returntype",Object)],t.prototype,"getContext",null),t})();var Qa=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=F({type:e,selectors:[["ng-doc-dot"]],hostVars:2,hostBindings:function(r,i){r&2&&fe("data-ng-doc-color",i.color)("data-ng-doc-size",i.size)},inputs:{color:"color",size:"size"},decls:0,vars:0,template:function(r,i){},styles:["[_nghost-%COMP%]{display:inline;width:var(--ng-doc-dot-size);height:var(--ng-doc-dot-size);border-radius:var(--ng-doc-dot-size);line-height:var(--ng-doc-line-height);background-color:var(--ng-doc-dot-background);transition:var(--ng-doc-transition)}[data-ng-doc-size=small][_nghost-%COMP%]{--ng-doc-dot-size: calc(var(--ng-doc-base-gutter) / 2)}[data-ng-doc-size=medium][_nghost-%COMP%]{--ng-doc-dot-size: var(--ng-doc-base-gutter)}[data-ng-doc-size=large][_nghost-%COMP%]{--ng-doc-dot-size: calc(var(--ng-doc-base-gutter) * 2)}"],changeDetection:0});let t=e;return t})();var hv=["*"];function yv(t){return t instanceof MouseEvent}function Cv(t){return t instanceof WheelEvent}var Gp=(()=>{let e=class e{constructor(){this.x=Kt(0),this.y=Kt(0),this.scale=Kt(1),this.drag=Kt(!1),this.document=b(Ze),this.element=b(Ge).nativeElement,this.ngZone=b(Pt),this.destroyRef=b(wt),this.transform=to(()=>{let o=this.scale(),r=this.x(),i=this.y();return`matrix(${o}, 0, 0, ${o}, ${r*o}, ${i*o})`})}ngOnInit(){Ke(this.element,"mousedown").pipe(at(o=>(o.preventDefault(),this.drag.set(!0),Ke(this.document,"mousemove").pipe(Te(yv),yr(Ke(this.document,"mouseup")),Cr({complete:()=>this.drag.set(!1)})))),_e(this.destroyRef)).subscribe(o=>{this.x.update(r=>r+o.movementX/this.scale()),this.y.update(r=>r+o.movementY/this.scale())}),Ke(this.element,"wheel").pipe(Te(Cv),_e(this.destroyRef)).subscribe(o=>{o.preventDefault(),this.scale.update(r=>Math.max(r*(1+o.deltaY/1e3),1))})}incrementX(o){this.x.update(r=>r+o/this.scale())}incrementY(o){this.y.update(r=>r+o/this.scale())}zoom(o){this.scale.update(r=>Math.max(r*(1+o/1e3),1))}reset(){this.x.set(0),this.y.set(0),this.scale.set(1)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=F({type:e,selectors:[["ng-doc-magnifier"]],hostVars:1,hostBindings:function(r,i){r&2&&fe("data-drag",i.drag())},ngContentSelectors:hv,decls:2,vars:2,consts:[[1,"ng-doc-magnifier-container"]],template:function(r,i){r&1&&(Be(),_n(0,"div",0),ge(1),En()),r&2&&Un("transform",i.transform())},styles:["[_nghost-%COMP%]{display:block;overflow:hidden;cursor:default}[data-drag=true][_nghost-%COMP%]{cursor:move}"],changeDetection:0});let t=e;return t})();var Yp=(()=>{let e=class e{constructor(){this.magnifier=bn.required()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=F({type:e,selectors:[["ng-doc-magnifier-controller"]],inputs:{magnifier:[1,"magnifier"]},decls:17,vars:7,consts:[[1,"ng-doc-controls-row"],["ng-doc-button-icon-raised","",1,"ng-doc-button-up",3,"click","rounded"],["icon","chevron-right"],["ng-doc-button-icon-raised","",1,"ng-doc-button-zoom-in",3,"click","rounded"],["icon","zoom-in"],["ng-doc-button-icon-raised","",1,"ng-doc-button-left",3,"click","rounded"],["ng-doc-button-icon-raised","",1,"ng-doc-button-center",3,"click","rounded"],["icon","maximize"],["ng-doc-button-icon-raised","",1,"ng-doc-button-right",3,"click","rounded"],["ng-doc-button-icon-raised","",1,"ng-doc-button-down",3,"click","rounded"],["ng-doc-button-icon-raised","",1,"ng-doc-button-zoom-out",3,"click","rounded"],["icon","zoom-out"]],template:function(r,i){r&1&&(S(0,"div",0)(1,"button",1),ce("click",function(){return i.magnifier().incrementY(50)}),O(2,"ng-doc-icon",2),E(),S(3,"button",3),ce("click",function(){return i.magnifier().zoom(200)}),O(4,"ng-doc-icon",4),E()(),S(5,"div",0)(6,"button",5),ce("click",function(){return i.magnifier().incrementX(50)}),O(7,"ng-doc-icon",2),E(),S(8,"button",6),ce("click",function(){return i.magnifier().reset()}),O(9,"ng-doc-icon",7),E(),S(10,"button",8),ce("click",function(){return i.magnifier().incrementX(-50)}),O(11,"ng-doc-icon",2),E()(),S(12,"div",0)(13,"button",9),ce("click",function(){return i.magnifier().incrementY(-50)}),O(14,"ng-doc-icon",2),E(),S(15,"button",10),ce("click",function(){return i.magnifier().zoom(-200)}),O(16,"ng-doc-icon",11),E()()),r&2&&(_(),I("rounded",!1),_(2),I("rounded",!1),_(3),I("rounded",!1),_(2),I("rounded",!1),_(2),I("rounded",!1),_(3),I("rounded",!1),_(2),I("rounded",!1))},dependencies:[Bn,ue],styles:["[_nghost-%COMP%]{display:inline-flex;flex-direction:column;gap:var(--ng-doc-base-gutter)}[_nghost-%COMP%]   .ng-doc-controls-row[_ngcontent-%COMP%]{display:flex;gap:var(--ng-doc-base-gutter);justify-content:center}[_nghost-%COMP%]   .ng-doc-controls-row[_ngcontent-%COMP%]:first-child, [_nghost-%COMP%]   .ng-doc-controls-row[_ngcontent-%COMP%]:last-child{justify-content:flex-end}[_nghost-%COMP%]   button.ng-doc-button-up[_ngcontent-%COMP%]   ng-doc-icon[icon=chevron-right][_ngcontent-%COMP%]{transform:rotate(270deg)}[_nghost-%COMP%]   button.ng-doc-button-down[_ngcontent-%COMP%]   ng-doc-icon[icon=chevron-right][_ngcontent-%COMP%]{transform:rotate(90deg)}[_nghost-%COMP%]   button.ng-doc-button-left[_ngcontent-%COMP%]   ng-doc-icon[icon=chevron-right][_ngcontent-%COMP%]{transform:rotate(180deg)}"],changeDetection:0});let t=e;return t})();var vv=["resizer"],Sv=[[["","ngDocPaneBack",""]],[["","ngDocPaneFront",""]]],_v=["[ngDocPaneBack]","[ngDocPaneFront]"],Qp=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Tt({type:e,selectors:[["","ngDocPaneFront",""]]});let t=e;return t})(),Jp=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Tt({type:e,selectors:[["","ngDocPaneBack",""]]});let t=e;return t})(),Xp=(()=>{let e=class e{constructor(){this.document=b(Ze),this.changeDetectorRef=b(ct),this.elementRef=b(Ge),this.ngZone=b(Pt),this.expanded=!1,this.width="0%",this.dragging=!1;let o=b(wt);kn(()=>{if(this.resizer){let r=Ke(this.resizer.nativeElement,"mousedown").pipe(Cr(()=>{this.dragging=!0,this.changeDetectorRef.markForCheck()})),i=Ke(this.document,"mouseup").pipe(Cr(()=>{this.dragging=!1,this.changeDetectorRef.markForCheck()})),s=Ke(this.document,"mousemove").pipe(Fe(a=>a.clientX),Pl(),Fe(([a,c])=>c-a));r.pipe(at(()=>{let a=s.pipe(yr(i)),c=i.pipe(Fe(()=>null),yr(s),Tl(1));return gr(a,c)}),Te(a=>a!==0),Et(this.ngZone),_e(o)).subscribe(a=>{a===null?this.toggle():this.addDelta(a)})}Ke(window,"resize").pipe(hr(100),Et(this.ngZone),_e(o)).subscribe(()=>this.addDelta(0))}),this.addDelta(0)}ngOnChanges({expanded:o}){o&&(o.currentValue?this.addDelta(this.elementRef.nativeElement.offsetWidth):this.addDelta(-this.elementRef.nativeElement.offsetWidth))}toggle(){if(this.resizer){let o=this.elementRef.nativeElement.offsetWidth/2;this.resizer.nativeElement.offsetLeft<o?this.addDelta(this.elementRef.nativeElement.offsetWidth):this.addDelta(-this.elementRef.nativeElement.offsetWidth)}}addDelta(o){if(this.resizer){let r=this.elementRef.nativeElement.offsetWidth-this.resizer.nativeElement.offsetWidth;this.width=`${Math.min(r,Math.max(0,this.resizer.nativeElement.offsetLeft+o))}px`,this.changeDetectorRef.detectChanges()}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=F({type:e,selectors:[["ng-doc-pane"]],viewQuery:function(r,i){if(r&1&&Nt(vv,7),r&2){let s;vt(s=St())&&(i.resizer=s.first)}},hostVars:1,hostBindings:function(r,i){r&2&&fe("data-ng-doc-dragging",i.dragging)},inputs:{expanded:"expanded"},features:[Ul],ngContentSelectors:_v,decls:8,vars:2,consts:[["resizer",""],[1,"ng-doc-pane-back"],[1,"ng-doc-pane-content"],[1,"ng-doc-pane-resizer"],[1,"ng-doc-pane-front"]],template:function(r,i){r&1&&(Be(Sv),_n(0,"div",1)(1,"div",2),ge(2),En()(),No(3,"div",3,0),_n(5,"div",4)(6,"div",2),ge(7,1),En()()),r&2&&Un("width",i.width)},styles:['[_nghost-%COMP%]{position:relative;display:flex;width:100%;border-radius:var(--ng-doc-pane-border-radius, var(--ng-doc-base-gutter));border:var(--ng-doc-pane-border, 1px solid var(--ng-doc-border-color));overflow:hidden}[data-ng-doc-dragging=false][_nghost-%COMP%]   .ng-doc-pane-back[_ngcontent-%COMP%]{transition:var(--ng-doc-transition) width}[_nghost-%COMP%]   .ng-doc-pane-front[_ngcontent-%COMP%]{position:relative;display:flex;width:100%;background-color:var(--ng-doc-pane-front-background, var(--ng-doc-pane-background, var(--ng-doc-base-1)));overflow:hidden;border-top-right-radius:var(--ng-doc-base-gutter);border-bottom-right-radius:var(--ng-doc-base-gutter);border:var(--ng-doc-pane-front-border, var(--ng-doc-pane-border))}[_nghost-%COMP%]   .ng-doc-pane-back[_ngcontent-%COMP%]{position:relative;display:flex;flex-shrink:0;width:100%;background-color:var(--ng-doc-pane-back-background, var(--ng-doc-pane-background, var(--ng-doc-base-1)));overflow:hidden;border-top-left-radius:var(--ng-doc-base-gutter);border-bottom-left-radius:var(--ng-doc-base-gutter);border:var(--ng-doc-pane-back-border, var(--ng-doc-pane-border))}[_nghost-%COMP%]   .ng-doc-pane-resizer[_ngcontent-%COMP%]{position:relative;flex-shrink:0;transform:translateZ(0);background-color:var(--ng-doc-base-3);width:16px;display:block;cursor:ew-resize}[_nghost-%COMP%]   .ng-doc-pane-resizer[_ngcontent-%COMP%]:after{content:"";display:flex;background:var(--ng-doc-base-10);border-radius:50px;position:absolute;width:4px;height:20%;top:50%;left:50%;transform:translateY(-50%) translate(-50%);opacity:1;transition:var(--ng-doc-transition) height}[_nghost-%COMP%]   .ng-doc-pane-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-shrink:0;width:100%;height:100%;min-width:var(--ng-doc-pane-content-min-width, 200px)}'],changeDetection:0});let t=e;return t})();var Ev=["*"];function Iv(t,e){t&1&&Ct(0)}function bv(t,e){if(t&1){let n=nt();S(0,"div",5),ce("click",function(){Je(n);let r=T();return Xe(r.closeEvent.emit())}),E()}t&2&&I("@backdropFade",void 0)}var Ja=(()=>{let e=class e{constructor(){this.sidebar="",this.opened=!0,this.hasBackdrop=!0,this.closeEvent=new di}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=F({type:e,selectors:[["ng-doc-sidenav"]],hostVars:2,hostBindings:function(r,i){r&2&&fe("data-ng-doc-sidebar",!!i.sidebar)("data-ng-doc-opened",i.opened)},inputs:{sidebar:"sidebar",opened:"opened",hasBackdrop:"hasBackdrop"},outputs:{closeEvent:"closeEvent"},ngContentSelectors:Ev,decls:6,vars:2,consts:[[1,"ng-doc-sidenav-wrapper"],[1,"ng-doc-sidenav"],[4,"polymorpheusOutlet"],[1,"ng-doc-sidenav-content"],[1,"ng-doc-backdrop"],[1,"ng-doc-backdrop",3,"click"]],template:function(r,i){r&1&&(Be(),S(0,"div",0)(1,"div",1),J(2,Iv,1,0,"ng-container",2),E(),S(3,"div",3),W(4,bv,1,1,"div",4),ge(5),E()()),r&2&&(_(2),I("polymorpheusOutlet",i.sidebar),_(2),K(i.opened&&i.hasBackdrop?4:-1))},dependencies:[Mt,cn],styles:["[_nghost-%COMP%]{width:100%}[data-ng-doc-sidebar=false][_nghost-%COMP%]   .ng-doc-sidenav-content[_ngcontent-%COMP%]{margin-left:0;width:100%}[_nghost-%COMP%]   .ng-doc-sidenav-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;width:100%}[_nghost-%COMP%]   .ng-doc-sidenav[_ngcontent-%COMP%]{position:fixed;top:var(--ng-doc-navbar-height);width:var(--ng-doc-sidenav-width);flex-shrink:0;z-index:10;transition:left var(--ng-doc-transition)}[_nghost-%COMP%]   .ng-doc-sidenav-content[_ngcontent-%COMP%]{margin-left:var(--ng-doc-sidenav-width);width:calc(100% - var(--ng-doc-sidenav-width));padding:var(--ng-doc-sidenav-content-padding);transition:margin-left var(--ng-doc-transition)}[_nghost-%COMP%]   .ng-doc-backdrop[_ngcontent-%COMP%]{position:fixed!important;left:0;top:0;width:100%;height:100%;z-index:9}[_nghost-%COMP%]   .ng-doc-backdrop[_ngcontent-%COMP%]:not(nothing){background:color-mix(in srgb,rgba(0,0,0,.2) 60%,transparent);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px)}@supports not ((-webkit-backdrop-filter: none) or (backdrop-filter: none)){[_nghost-%COMP%]   .ng-doc-backdrop[_ngcontent-%COMP%]{background-color:#0003}}[_nghost-%COMP%]   .ng-doc-backdropnothing[_ngcontent-%COMP%]{background-color:#0003}@media (max-width: 1024px){[data-ng-doc-opened=true][_nghost-%COMP%]   .ng-doc-sidenav[_ngcontent-%COMP%]{right:0;transition:right var(--ng-doc-transition);--ng-doc-sidebar-shadow: var(--ng-doc-shadow-color) -5px 5px 20px -5px}[_nghost-%COMP%]   .ng-doc-sidenav[_ngcontent-%COMP%]{transition:unset;left:unset;right:calc(var(--ng-doc-sidenav-width) * -1);top:var(--ng-doc-navbar-height)}[_nghost-%COMP%]   .ng-doc-sidenav-content[_ngcontent-%COMP%]{margin-left:0;width:100%}}"],data:{animation:[Ed("backdropFade",[bd(":enter",[lt({opacity:0}),no("220ms cubic-bezier(0.25, 0.8, 0.25, 1)",lt({opacity:1}))])])]},changeDetection:0});let t=e;return t})();var zi=(()=>{let e=class e{constructor(){this.size="medium"}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=F({type:e,selectors:[["ng-doc-spinner"]],hostVars:1,hostBindings:function(r,i){r&2&&fe("data-ng-doc-size",i.size)},inputs:{size:"size"},decls:2,vars:0,consts:[["viewBox","0 0 50 50",1,"ng-doc-spinner"],["cx","25","cy","25","r","20","fill","none","stroke-width","5",1,"ng-doc-spinner-path"]],template:function(r,i){r&1&&(Rl(),_n(0,"svg",0),No(1,"circle",1),En())},styles:["[_nghost-%COMP%]{display:inline-block}[data-ng-doc-size=small][_nghost-%COMP%]{width:calc(var(--ng-doc-base-gutter) * 3);height:calc(var(--ng-doc-base-gutter) * 3)}[data-ng-doc-size=medium][_nghost-%COMP%]{width:calc(var(--ng-doc-base-gutter) * 5);height:calc(var(--ng-doc-base-gutter) * 5)}[data-ng-doc-size=large][_nghost-%COMP%]{width:calc(var(--ng-doc-base-gutter) * 8);height:calc(var(--ng-doc-base-gutter) * 8)}[_nghost-%COMP%]   .ng-doc-spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotate 2s linear infinite}[_nghost-%COMP%]   .ng-doc-spinner[_ngcontent-%COMP%]   .ng-doc-spinner-path[_ngcontent-%COMP%]{stroke:var(--ng-doc-spinner-color, var(--ng-doc-primary));stroke-linecap:round;animation:_ngcontent-%COMP%_dash 1.5s ease-in-out infinite}@keyframes _ngcontent-%COMP%_rotate{to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_dash{0%{stroke-dasharray:1,150;stroke-dashoffset:0}50%{stroke-dasharray:90,150;stroke-dashoffset:-35}to{stroke-dasharray:90,150;stroke-dashoffset:-124}}"],changeDetection:0});let t=e;return t})();var xv=["headerTab"],Zp=()=>({});function wv(t,e){if(t&1&&(At(0),j(1),Dt()),t&2){let n=T().$implicit;_(),Ot(n.label)}}function Tv(t,e){if(t&1){let n=nt();S(0,"div",6,0),ce("click",function(){let r=Je(n).$implicit,i=T();return Xe(i.selectTab(r))}),S(2,"div",7),J(3,wv,2,1,"ng-container",5),E()()}if(t&2){let n=e.$implicit,o=T();ui("selected",n===o.selectedTab),I("ngDocSelectionOrigin",n===o.selectedTab),_(3),I("polymorpheusOutlet",n.label)("polymorpheusOutletContext",In(5,Zp))}}function Pv(t,e){if(t&1&&(S(0,"div"),j(1),E()),t&2){let n=e.polymorpheusOutlet;I("@tabFadeAnimation",void 0),_(),Pe(" ",n," ")}}var co=(()=>{let e=class e{constructor(){this.label="",this.id=0,this.content=""}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=F({type:e,selectors:[["ng-doc-tab"],["a","ng-doc-tab",""]],inputs:{label:"label",id:"id",content:"content"},decls:0,vars:0,template:function(r,i){},encapsulation:2,changeDetection:0});let t=e;return t})(),$o=(()=>{let e=class e{constructor(){this.changeDetectorRef=b(ct),this.tabElements=new vr,this.tabs=new vr,this.destroyRef=b(wt)}ngAfterContentInit(){this.tabs.changes.pipe(xt(this.tabs),_e(this.destroyRef)).subscribe(()=>{let o=this.openedTab?this.tabs.find(r=>r.id===this.openedTab):this.tabs.get(0);o&&this.selectTab(o),this.changeDetectorRef.markForCheck()})}ngAfterViewInit(){this.tabElements.changes.pipe(xt(this.tabElements),_e(this.destroyRef)).subscribe(()=>this.changeDetectorRef.detectChanges())}get selectedIndex(){return this.selectedTab?this.tabs.toArray().indexOf(this.selectedTab):-1}get selectedHeaderTab(){return this.selectedTab?this.tabElements.get(this.selectedIndex)??null:null}selectTab(o){this.selectedTab=o}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=F({type:e,selectors:[["ng-doc-tab-group"]],contentQueries:function(r,i,s){if(r&1&&Yl(s,co,4),r&2){let a;vt(a=St())&&(i.tabs=a)}},viewQuery:function(r,i){if(r&1&&Nt(xv,5),r&2){let s;vt(s=St())&&(i.tabElements=s)}},inputs:{openedTab:"openedTab"},decls:7,vars:4,consts:[["headerTab",""],["ngDocSelectionHost","",1,"ng-doc-tabs-wrapper"],[1,"ng-doc-tab",3,"selected","ngDocSelectionOrigin"],[1,"ng-doc-body-wrapper"],[3,"trigger"],[4,"polymorpheusOutlet","polymorpheusOutletContext"],[1,"ng-doc-tab",3,"click","ngDocSelectionOrigin"],[1,"ng-doc-tab-text"]],template:function(r,i){r&1&&(S(0,"div",1),O(1,"ng-doc-selection"),Oe(2,Tv,4,6,"div",2,Le),E(),S(4,"div",3)(5,"ng-doc-smooth-resize",4),J(6,Pv,2,2,"div",5),E()()),r&2&&(_(2),Re(i.tabs),_(3),I("trigger",(i.selectedTab==null?null:i.selectedTab.content)??""),_(),I("polymorpheusOutlet",(i.selectedTab==null?null:i.selectedTab.content)??"")("polymorpheusOutletContext",In(3,Zp)))},dependencies:[Xd,Zd,eu,Mt,cn,bi],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;background:var(--ng-doc-tab-group-header-background, var(--ng-doc-tab-group-background));border-radius:var(--ng-doc-tab-group-border-radius);border:var(--ng-doc-tab-group-border);overflow:hidden}[_nghost-%COMP%]   .ng-doc-tabs-wrapper[_ngcontent-%COMP%]{font-family:var(--ng-doc-font-family);font-variant:no-contextual;color:var(--ng-doc-text);line-height:var(--ng-doc-line-height);font-size:var(--ng-doc-font-size);font-weight:var(--ng-doc-font-weight);position:relative;width:100%;display:inline-flex;overflow-x:auto;line-height:18px;font-size:14px;flex-shrink:0;background:var(--ng-doc-tab-group-tabs-background)}[_nghost-%COMP%]   .ng-doc-tabs-wrapper[_ngcontent-%COMP%]   .ng-doc-tab[_ngcontent-%COMP%]{position:relative;padding:var(--ng-doc-base-gutter) calc(var(--ng-doc-base-gutter) * 2);cursor:pointer;white-space:nowrap}[_nghost-%COMP%]   .ng-doc-tabs-wrapper[_ngcontent-%COMP%]   .ng-doc-tab[_ngcontent-%COMP%]   .ng-doc-tab-text[_ngcontent-%COMP%]{font-family:var(--ng-doc-font-family);font-variant:no-contextual;color:var(--ng-doc-text);line-height:var(--ng-doc-line-height);font-size:var(--ng-doc-font-size);font-weight:var(--ng-doc-font-weight);position:relative;--ng-doc-font-size: 13px;--ng-doc-font-weight: 500}[_nghost-%COMP%]   .ng-doc-body-wrapper[_ngcontent-%COMP%]{position:relative;background-color:var(--ng-doc-tab-group-background);height:100%;overflow:hidden;border-top:1px solid var(--ng-doc-border-color)}"],data:{animation:[Td]},changeDetection:0});let t=e;return t})();var Av=["*"],Go=(()=>{let e=class e{constructor(){this.color="primary",this.size="medium",this.mod="default"}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=F({type:e,selectors:[["ng-doc-tag"]],hostVars:3,hostBindings:function(r,i){r&2&&fe("data-ng-doc-color",i.color)("data-ng-doc-size",i.size)("data-ng-doc-mod",i.mod)},inputs:{color:"color",size:"size",mod:"mod"},ngContentSelectors:Av,decls:1,vars:0,template:function(r,i){r&1&&(Be(),ge(0))},styles:["[_nghost-%COMP%]{font-family:var(--ng-doc-font-family);font-variant:no-contextual;color:var(--ng-doc-text);line-height:var(--ng-doc-line-height);font-size:var(--ng-doc-font-size);font-weight:var(--ng-doc-font-weight);display:inline-block;padding:0 var(--ng-doc-base-gutter);border-radius:calc(var(--ng-doc-base-gutter) / 2);border:var(--ng-doc-tag-border);color:var(--ng-doc-tag-color);background:color-mix(in srgb,var(--ng-doc-tag-background) var(--ng-doc-tag-background-opacity, 100%),transparent);--ng-doc-icon-color: var(--ng-doc-tag-color);--ng-doc-font-size: 14px}[data-ng-doc-size=small][_nghost-%COMP%]{padding:0 calc(var(--ng-doc-base-gutter) / 2);border-radius:6px;--ng-doc-font-size: 10px;--ng-doc-line-height: calc(var(--ng-doc-base-gutter) * 2)}[data-ng-doc-color=info][_nghost-%COMP%]{--ng-doc-tag-background: var(--ng-doc-info);--ng-doc-tag-color: var(--ng-doc-info-text)}[data-ng-doc-color=warning][_nghost-%COMP%]{--ng-doc-tag-background: var(--ng-doc-warning);--ng-doc-tag-color: var(--ng-doc-warning-text)}[data-ng-doc-color=alert][_nghost-%COMP%]{--ng-doc-tag-background: var(--ng-doc-alert);--ng-doc-tag-color: var(--ng-doc-alert-text)}[data-ng-doc-color=link][_nghost-%COMP%]{--ng-doc-tag-background: var(--ng-doc-link-color);--ng-doc-tag-color: var(--ng-doc-primary-text)}[data-ng-doc-color=success][_nghost-%COMP%]{--ng-doc-tag-background: var(--ng-doc-success);--ng-doc-tag-color: var(--ng-doc-success-text)}[data-ng-doc-mod=light][_nghost-%COMP%]{--ng-doc-tag-background-opacity: 15%}[data-ng-doc-mod=light][data-ng-doc-color=primary][_nghost-%COMP%]{--ng-doc-tag-color: var(--ng-doc-primary)}[data-ng-doc-mod=light][data-ng-doc-color=info][_nghost-%COMP%]{--ng-doc-tag-color: var(--ng-doc-info)}[data-ng-doc-mod=light][data-ng-doc-color=warning][_nghost-%COMP%]{--ng-doc-tag-color: var(--ng-doc-warning)}[data-ng-doc-mod=light][data-ng-doc-color=alert][_nghost-%COMP%]{--ng-doc-tag-color: var(--ng-doc-alert)}[data-ng-doc-mod=light][data-ng-doc-color=link][_nghost-%COMP%]{--ng-doc-tag-color: var(--ng-doc-link-color)}[data-ng-doc-mod=light][data-ng-doc-color=success][_nghost-%COMP%]{--ng-doc-tag-color: var(--ng-doc-success)}"],changeDetection:0});let t=e;return t})();var em=(()=>{let e=class e extends Od{constructor(){let o=b(Ge);super(o),this.origin=o}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Tt({type:e,selectors:[["","ngDocDropdownOrigin",""]],exportAs:["ngDocDropdownOrigin"],features:[Fn([{provide:Ad,useExisting:e}]),Wl]});let t=e;return t})();var tm=rn(Py(),1),nm=rn(md(),1);var om=(()=>{let e=class e{constructor(){this.ngZone=b(Pt),this.callback=new di;let o=b(wt);kn(()=>{Ke(document,"keyup").pipe(Te(tm.isKeyboardEvent),Te(r=>(0,nm.objectKeys)(this.hotkey??{}).every(i=>this.hotkey&&this.hotkey[i]===r[i])),Te(r=>r.target instanceof HTMLElement?!["input","textarea","select"].includes(r.target.tagName.toLowerCase()):!0),Et(this.ngZone),_e(o)).subscribe(r=>{r.preventDefault(),this.callback.emit()})})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Tt({type:e,selectors:[["","ngDocHotkey",""]],inputs:{hotkey:[0,"ngDocHotkey","hotkey"]},outputs:{callback:"ngDocHotkey"}});let t=e;return t})();var rm=(()=>{let e=class e{constructor(){this.rotated=!1,this.from=0,this.to=90}get transform(){return`rotateZ(${this.rotated?this.to:this.from}deg)`}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Tt({type:e,selectors:[["","ngDocRotator",""]],hostVars:2,hostBindings:function(r,i){r&2&&Un("transform",i.transform)},inputs:{rotated:[0,"ngDocRotator","rotated"],from:"from",to:"to"}});let t=e;return t})();var im=(()=>{let e=class e{constructor(){this.document=b(Ze),this.viewportRuler=b(Dd),this.scrollStrategy=new Nd(this.viewportRuler,this.document)}block(){this.scrollStrategy.enable()}unblock(){this.scrollStrategy.disable()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=sn({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var sm=(()=>{let e=class e{transform(o,r){return r.sort((i,s)=>s.start-i.start).forEach(i=>{let{start:s,length:a}=i,c=s+a;o=`${o.slice(0,s)}<mark class="ng-doc-mark">${o.slice(s,c)}</mark>${o.slice(c)}`}),o}};e.\u0275fac=function(r){return new(r||e)},e.\u0275pipe=Hl({name:"ngDocHighlighterPipe",type:e,pure:!0});let t=e;return t})();function am(t){return[{provide:Hd,useValue:t?.assetsPath??"assets/ng-doc/ui-kit"},{provide:Kd,useValue:t?.customIconsPath??"assets/icons"},{provide:dd,useClass:Vd,multi:!0}]}var Vi=class extends Ld{constructor(e,n){super(e),this.component=e,this.injectorRef=n}createInjector(e,n){return Ml.create({parent:this.injectorRef||e,providers:[{provide:Wd,useValue:n}]})}};function Dv(t,e){t&1&&O(0,"ng-doc-icon",0)}function Nv(t,e){if(t&1&&(W(0,Dv,1,0,"ng-doc-icon",0),j(1)),t&2){let n=e.$implicit,o=e.$index;K(o!==0?0:-1),_(),Pe(" ",n,`
`)}}var cm=(()=>{let e=class e{constructor(){this.breadcrumbs=[]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=F({type:e,selectors:[["ng-doc-breadcrumb"]],inputs:{breadcrumbs:"breadcrumbs"},decls:2,vars:0,consts:[["icon","chevron-right"]],template:function(r,i){r&1&&Oe(0,Nv,2,2,null,null,Le),r&2&&Re(i.breadcrumbs)},dependencies:[ue],styles:["[_nghost-%COMP%]{display:flex;align-items:center;flex-wrap:wrap;gap:var(--ng-doc-base-gutter);margin-bottom:calc(var(--ng-doc-base-gutter) * 2);opacity:.9}[_nghost-%COMP%]   .ng-doc-breadcrumb[_ngcontent-%COMP%]{font-family:var(--ng-doc-font-family);font-variant:no-contextual;color:var(--ng-doc-text);line-height:var(--ng-doc-line-height);font-size:var(--ng-doc-font-size);font-weight:var(--ng-doc-font-weight);display:flex;align-items:center}"],changeDetection:0});let t=e;return t})();var Hi=(()=>{let e=class e{constructor(){this.expanded=new si(!1),this.document=b(Ze),this.window=b(Ti),this.router=b(Ln),this.scroll=b(im);let o=Ke(this.window,"resize").pipe(_e(),xt(null),Al());o.pipe(Te(()=>this.expanded.value&&this.isMobile),Et(),_e()).subscribe(()=>this.hide()),o.pipe(Te(()=>!this.expanded.value&&!this.isMobile),Et(),_e()).subscribe(()=>this.show()),o.pipe(Te(()=>this.expanded.value&&!this.isMobile),Et(),_e()).subscribe(()=>this.scroll.unblock()),this.router.events.pipe(Te(r=>r instanceof Ci&&this.expanded.value&&this.isMobile),_e()).subscribe(()=>this.hide())}get isMobile(){return this.window.innerWidth<1024}isExpanded(){return this.expanded.asObservable()}show(){this.expanded.value||(this.expanded.next(!0),this.isMobile&&this.scroll.block())}hide(){this.expanded.value&&(this.expanded.next(!1),this.isMobile&&this.scroll.unblock())}toggle(){this.expanded.value?this.hide():this.show()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=sn({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Wi=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=F({type:e,selectors:[["ng-doc-fullscreen-button"]],inputs:{route:"route"},decls:4,vars:1,consts:[["ng-doc-button-text","","target","_blank",3,"routerLink"],["ng-doc-text",""],["icon","external-link","ngDocTextRight",""]],template:function(r,i){r&1&&(S(0,"a",0)(1,"span",1),j(2," Open demo in a new tab "),O(3,"ng-doc-icon",2),E()()),r&2&&I("routerLink",i.route)},dependencies:[an,jt,ue,Ii,qd],styles:["[_nghost-%COMP%]{display:flex;align-items:center;justify-content:center;padding:calc(var(--ng-doc-base-gutter) * 2) calc(var(--ng-doc-base-gutter) * 2)}"],changeDetection:0});let t=e;return t})();var lm=rn(Ir(),1);function Ov(t,e){t&1&&Ct(0)}function Rv(t,e){if(t&1&&O(0,"ng-doc-code",7),t&2){let n=e.$implicit;I("html",n.code)}}function Mv(t,e){if(t&1&&Oe(0,Rv,1,1,"ng-doc-code",7,Le),t&2){let n=T(3);Re(n.assets)}}function kv(t,e){if(t&1&&O(0,"ng-doc-icon",9),t&2){let n=T(2).$implicit;I("customIcon",n.icon)}}function Uv(t,e){if(t&1&&(W(0,kv,1,1,"ng-doc-icon",9),j(1)),t&2){let n=T().$implicit;K(n.icon?0:-1),_(),Pe(" ",n.title," ")}}function Fv(t,e){if(t&1&&O(0,"ng-doc-code",7),t&2){let n=T().$implicit;I("html",n.code)}}function Lv(t,e){if(t&1&&(S(0,"ng-doc-tab",8),J(1,Uv,2,2,"ng-template",null,2,pe)(3,Fv,1,1,"ng-template",null,3,pe),E()),t&2){let n=e.$implicit,o=le(2),r=le(4);I("id",n.title)("label",o)("content",r)}}function Bv(t,e){if(t&1&&(S(0,"ng-doc-tab-group",6),he(1,"execute"),Oe(2,Lv,5,3,"ng-doc-tab",8,Le),E()),t&2){let n=T(3);I("openedTab",_t(1,1,n.getOpenedAssetId,n.assets)??n.options.defaultTab),_(2),Re(n.assets)}}function zv(t,e){if(t&1&&(W(0,Mv,2,0),W(1,Bv,4,4,"ng-doc-tab-group",6)),t&2){let n=T(2);K(n.assets.length===1?0:-1),_(),K(n.assets.length>1?1:-1)}}function Vv(t,e){if(t&1&&(S(0,"ng-doc-demo-displayer",4),J(1,Ov,1,0,"ng-container",5)(2,zv,2,2,"ng-template",null,1,pe),E()),t&2){let n=le(3),o=T(),r=le(3);I("codeContent",n)("expanded",!!o.options.expanded),_(),I("ngTemplateOutlet",r)}}function Hv(t,e){if(t&1&&O(0,"ng-doc-fullscreen-button",10),t&2){let n=T(2);I("route",n.options.fullscreenRoute)}}function Wv(t,e){t&1&&Ct(0)}function Kv(t,e){if(t&1&&J(0,Wv,1,0,"ng-container",11),t&2){let n=T(2);I("ngComponentOutlet",n.demo)("ngComponentOutletInputs",n.options.inputs)}}function qv(t,e){if(t&1&&W(0,Hv,1,1,"ng-doc-fullscreen-button",10)(1,Kv,1,2,"ng-container"),t&2){let n=T();K(n.options.fullscreenRoute?0:n.demo?1:-1)}}function jv(t,e){if(t&1&&O(0,"ng-doc-fullscreen-button",10),t&2){let n=T(2);I("route",n.options.fullscreenRoute)}}function $v(t,e){t&1&&Ct(0)}function Gv(t,e){if(t&1&&J(0,$v,1,0,"ng-container",11),t&2){let n=T(2);I("ngComponentOutlet",n.demo)("ngComponentOutletInputs",n.options.inputs)}}function Yv(t,e){if(t&1&&W(0,jv,1,1,"ng-doc-fullscreen-button",10)(1,Gv,1,2,"ng-container"),t&2){let n=T();K(n.options.fullscreenRoute?0:n.demo?1:-1)}}var dm=(()=>{let e=class e{constructor(){this.rootPage=b(gi),this.options={},this.assets=[]}get classes(){return this.options.class??""}ngOnInit(){this.demo=this.getDemo(),this.assets=this.getAssets()}getOpenedAssetId(o){return o.find(r=>r.opened)?.title}getDemo(){if(this.componentName)return this.rootPage.page?.demos&&this.rootPage.page.demos[this.componentName]}getAssets(){return this.componentName?((this.rootPage.demoAssets&&this.rootPage.demoAssets[this.componentName])??[]).filter(o=>!this.options.tabs?.length||(0,lm.asArray)(this.options.tabs).includes(o.title)):[]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=F({type:e,selectors:[["ng-doc-demo"]],hostVars:2,hostBindings:function(r,i){r&2&&Oo(i.classes)},inputs:{componentName:"componentName",options:"options"},decls:4,vars:1,consts:[["demoTemplate",""],["codeContent",""],["label",""],["assetContent",""],[3,"codeContent","expanded"],[4,"ngTemplateOutlet"],[3,"openedTab"],[3,"html"],[3,"id","label","content"],[3,"customIcon"],[3,"route"],[4,"ngComponentOutlet","ngComponentOutletInputs"]],template:function(r,i){r&1&&(W(0,Vv,4,3,"ng-doc-demo-displayer",4)(1,qv,2,1),J(2,Yv,2,1,"ng-template",null,0,pe)),r&2&&K(i.options.container??!0?0:1)},dependencies:[gu,Ro,Mo,$o,co,ue,zn,Wi,mi],styles:["[_nghost-%COMP%]{display:block;margin:var(--ng-doc-demo-margin);--ng-doc-tab-group-background: var(--ng-doc-code-background);--ng-doc-tab-group-tabs-background: var(--ng-doc-base-2);--ng-doc-tab-group-border-radius: 0;--ng-doc-tab-group-border: none;--ng-doc-code-border-radius: 0;--ng-doc-code-border: none}[_nghost-%COMP%]   .ng-doc-example[_ngcontent-%COMP%]{padding:calc(var(--ng-doc-base-gutter) * 3)}[_nghost-%COMP%]   ng-doc-icon[_ngcontent-%COMP%]{margin-right:calc(var(--ng-doc-base-gutter) / 2)}[_nghost-%COMP%]   ng-doc-tab-group[_ngcontent-%COMP%]{border-top:1px solid var(--ng-doc-border-color)}"],changeDetection:0});let t=e;return t})();var um=rn(Ir(),1);function Qv(t,e){t&1&&Ct(0,6)}function Jv(t,e){t&1&&Ct(0,7)}function Xv(t,e){if(t&1&&O(0,"ng-doc-fullscreen-button",8),t&2){let n=T(2);I("route",n.options.fullscreenRoute)}}function Zv(t,e){t&1&&Ct(0)}function eS(t,e){if(t&1&&J(0,Zv,1,0,"ng-container",9),t&2){let n=T(2);I("ngComponentOutlet",n.demo)("ngComponentOutletInputs",n.options.inputs)}}function tS(t,e){if(t&1&&W(0,Xv,1,1,"ng-doc-fullscreen-button",8)(1,eS,1,2,"ng-container"),t&2){let n=T();K(n.options.fullscreenRoute?0:n.demo?1:-1)}}function nS(t,e){if(t&1&&O(0,"ng-doc-code",11),t&2){let n=e.$implicit;I("html",n.code)}}function oS(t,e){if(t&1&&Oe(0,nS,1,1,"ng-doc-code",11,Le),t&2){let n=T(2);Re(n.assets)}}function rS(t,e){if(t&1&&O(0,"ng-doc-code",11),t&2){let n=T().$implicit;I("html",n.code)}}function iS(t,e){if(t&1&&(S(0,"ng-doc-tab",12),J(1,rS,1,1,"ng-template",null,2,pe),E()),t&2){let n=e.$implicit,o=le(2);I("id",n.title)("label",n.title)("content",o)}}function sS(t,e){if(t&1&&(S(0,"ng-doc-tab-group",10),Oe(1,iS,3,3,"ng-doc-tab",12,Le),E()),t&2){let n=T(2);I("openedTab",n.options.defaultTab),_(),Re(n.assets)}}function aS(t,e){if(t&1&&(W(0,oS,2,0),W(1,sS,3,1,"ng-doc-tab-group",10)),t&2){let n=T();K(n.assets.length===1?0:-1),_(),K(n.assets.length>1?1:-1)}}var pm=(()=>{let e=class e{constructor(){this.rootPage=b(gi),this.options={},this.assets=[]}get classes(){return this.options.class??""}ngOnInit(){this.demo=this.getDemo(),this.assets=this.getAssets()}getDemo(){if(this.componentName)return this.rootPage.page?.demos&&this.rootPage.page.demos[this.componentName]}getAssets(){return this.componentName?((this.rootPage.demoAssets&&this.rootPage.demoAssets[this.componentName])??[]).filter(o=>!this.options.tabs?.length||(0,um.asArray)(this.options.tabs).includes(o.title)):[]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=F({type:e,selectors:[["ng-doc-demo-pane"]],hostVars:2,hostBindings:function(r,i){r&2&&Oo(i.classes)},inputs:{componentName:"componentName",options:"options"},decls:7,vars:3,consts:[["demoTemplate",""],["codeContent",""],["assetContent",""],[3,"expanded"],["ngDocPaneBack","",4,"ngTemplateOutlet"],["ngDocPaneFront","",4,"ngTemplateOutlet"],["ngDocPaneBack",""],["ngDocPaneFront",""],[3,"route"],[4,"ngComponentOutlet","ngComponentOutletInputs"],[3,"openedTab"],[3,"html"],[3,"id","label","content"]],template:function(r,i){if(r&1&&(S(0,"ng-doc-pane",3),J(1,Qv,1,0,"ng-container",4)(2,Jv,1,0,"ng-container",5),E(),J(3,tS,2,1,"ng-template",null,0,pe)(5,aS,2,2,"ng-template",null,1,pe)),r&2){let s=le(4),a=le(6);I("expanded",i.options.expanded??!1),_(),I("ngTemplateOutlet",a),_(),I("ngTemplateOutlet",s)}},dependencies:[Xp,Ro,Jp,Qp,Mo,$o,co,Wi,mi],styles:["[_nghost-%COMP%]{display:block;height:var(--ng-doc-demo-pane-height);margin:var(--ng-doc-demo-pane-margin);--ng-doc-code-margin: 0;--ng-doc-code-border-radius: 0;--ng-doc-code-border: none;--ng-doc-smooth-resize-height: var(--ng-doc-demo-pane-height);--ng-doc-smooth-resize-max-height: 100%;--ng-doc-tab-group-tabs-background: var(--ng-doc-base-2);--ng-doc-tab-group-border: none;--ng-doc-tab-group-border-radius: 0}[_nghost-%COMP%]   ng-doc-tab-group[_ngcontent-%COMP%], [_nghost-%COMP%]   ng-doc-code[_ngcontent-%COMP%], [_nghost-%COMP%]   ng-doc-pane[_ngcontent-%COMP%]{width:100%;height:100%}"],changeDetection:0});let t=e;return t})();var mm=(()=>{let e=class e{constructor(){this.classes=[],this.location=b(uu)}get href(){let{origin:o,pathname:r}=this.location;return`${o}${r}#${this.anchor}`}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=F({type:e,selectors:[["ng-doc-heading-anchor"]],hostVars:2,hostBindings:function(r,i){r&2&&Oo(i.classes)},inputs:{anchor:"anchor",classes:"classes"},decls:2,vars:1,consts:[[3,"text"],["icon","link-2"]],template:function(r,i){r&1&&(S(0,"ng-doc-copy-button",0),O(1,"ng-doc-icon",1),E()),r&2&&I("text",i.href)},dependencies:[ue,ru],encapsulation:2,changeDetection:0});let t=e;return t})();var cS=["image"],lS=["*"];function dS(t,e){if(t&1){let n=nt();_n(0,"div",1),Gl("click",function(){Je(n);let r=T();return Xe(r.overlayRef==null?null:r.overlayRef.close())}),No(1,"img",2),En()}if(t&2){let n=T();_(),jl("src",n.src(),Bl)("alt",n.alt())}}var fm=(()=>{let e=class e{constructor(){this.src=bn.required(),this.alt=bn.required(),this.image=od("image",{read:ya}),this.overlay=b(zd),this.element=b(Ge).nativeElement,this.changeDetectorRef=b(ct)}clickEvent(){this.overlayRef?.close();let{width:o,height:r,top:i,left:s}=this.element.getBoundingClientRect(),a=window.innerWidth,c=window.innerHeight,l=Math.min(a/o,c/r),d=o*l,u=r*l;this.overlayRef=this.overlay.open(this.image(),{overlayContainer:Bd,positionStrategy:this.overlay.globalPositionStrategy().centerHorizontally().centerVertically(),scrollStrategy:this.overlay.scrollStrategy().block(),hasBackdrop:!0,backdropClass:"ng-doc-blur-backdrop",openAnimation:[lt({position:"fixed",width:o,height:r,top:i,left:s,transform:"translate(0%, 0)"}),_a([no("300ms cubic-bezier(0.25, 0.8, 0.25, 1)",lt({width:`${d}px`,height:`${u}px`,top:"50%",left:"50%",transform:"translate(-50%, -50%)"})),Ea(".ng-doc-image-container",[lt({padding:0}),no("300ms cubic-bezier(0.25, 0.8, 0.25, 1)",lt({padding:"16px"}))])])],closeAnimation:[lt({position:"fixed",width:`${d}px`,height:`${u}px`,top:"50%",left:"50%",transform:"translate(-50%, -50%)"}),_a([no("300ms cubic-bezier(0.25, 0.8, 0.25, 1)",lt({width:o,height:r,top:i,left:s,transform:"translate(0%, 0)"})),Ea(".ng-doc-image-container",no("300ms cubic-bezier(0.25, 0.8, 0.25, 1)",lt({padding:0})))])]}),this.overlayRef.afterClose().subscribe(()=>{this.overlayRef=void 0,this.changeDetectorRef.markForCheck()})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=F({type:e,selectors:[["ng-doc-image-viewer"]],viewQuery:function(r,i){r&1&&Ql(i.image,cS,5,ya),r&2&&Jl()},hostVars:1,hostBindings:function(r,i){r&1&&ce("click",function(){return i.clickEvent()}),r&2&&fe("data-opened",!!i.overlayRef)},inputs:{src:[1,"src"],alt:[1,"alt"]},ngContentSelectors:lS,decls:3,vars:0,consts:[["image",""],[1,"ng-doc-image-container",3,"click"],[1,"ng-doc-scaled-image",3,"src","alt"]],template:function(r,i){r&1&&(Be(),ge(0),Kl(1,dS,2,2,"ng-template",null,0,pe))},styles:["[_nghost-%COMP%]{display:inline-block;cursor:zoom-in;transition:var(--ng-doc-transition)}[data-opened=true][_nghost-%COMP%] >   img{opacity:0}[_nghost-%COMP%] >   img{max-width:100%;vertical-align:middle;border-radius:var(--ng-doc-base-gutter);overflow:hidden}.ng-doc-image-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:calc(var(--ng-doc-base-gutter) * 2);width:100%;height:100%}.ng-doc-image-container[_ngcontent-%COMP%]   .ng-doc-scaled-image[_ngcontent-%COMP%]{cursor:zoom-out;width:100%;height:100%}"],changeDetection:0});let t=e;return t})();function uS(t,e){t&1&&(S(0,"div",1),O(1,"ng-doc-spinner"),E())}function pS(t,e){if(t&1&&(S(0,"div",2),j(1),E()),t&2){let n=T();_(),Ot(n.error())}}function mS(t,e){if(t&1&&(S(0,"ng-doc-magnifier",null,0),O(2,"div",3),he(3,"ngDocSanitizeHtml"),E(),O(4,"ng-doc-magnifier-controller",4)),t&2){let n=le(1),o=T();_(2),I("innerHTML",Rt(3,2,o.html()),Sr),_(2),I("magnifier",n)}}var fS=0,gm=(()=>{let e=class e{constructor(){this.graph=bn.required(),this.html=Kt(""),this.pending=Kt(!0),this.error=Kt(null),this.changeDetectorRef=b(ct),this.platform=b(Ll),this.id=`ng-doc-mermaid-viewer-${fS++}`;let o=b(su,{optional:!0});if(!o)throw new Error('Mermaid is not provided. Make sure that you provided mermaid using "provideMermaid" function.');this.mermaid=o,b(ko).themeChanges().subscribe(async()=>{let{svg:r}=await this.mermaid.render(this.id,this.graph());this.html.set(r)})}async ngOnInit(){if(id(this.platform))try{let{svg:o}=await this.mermaid.render(this.id,this.graph());this.html.set(o),this.pending.set(!1)}catch(o){this.error.set(o),this.pending.set(!1)}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=F({type:e,selectors:[["ng-doc-mermaid-viewer"]],inputs:{graph:[1,"graph"]},decls:3,vars:1,consts:[["magnifier",""],[1,"ng-doc-mermaid-preloader"],[1,"ng-doc-mermaid-error"],[1,"ng-doc-mermaid-container",3,"innerHTML"],[3,"magnifier"]],template:function(r,i){r&1&&W(0,uS,2,0,"div",1)(1,pS,2,1,"div",2)(2,mS,5,4),r&2&&K(i.pending()?0:i.error()?1:2)},dependencies:[Gp,Yp,xi,zi],styles:["[_nghost-%COMP%]{position:relative;display:block;border:var(--ng-doc-mermaid-viewer-border, 1px solid var(--ng-doc-border-color));margin:var(--ng-doc-mermaid-viewer-margin, var(--ng-doc-page-block-margin));background:var(--ng-doc-mermaid-viewer-background, var(--ng-doc-base-8));border-radius:var(--ng-doc-mermaid-viewer-border-radius, var(--ng-doc-base-gutter));min-height:150px}[_nghost-%COMP%]   ng-doc-magnifier-controller[_ngcontent-%COMP%]{position:absolute;bottom:calc(var(--ng-doc-base-gutter) * 2);right:calc(var(--ng-doc-base-gutter) * 2)}[_nghost-%COMP%]   .ng-doc-mermaid-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:calc(var(--ng-doc-base-gutter) * 2)}[_nghost-%COMP%]   .ng-doc-mermaid-preloader[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;height:120px}[_nghost-%COMP%]   .ng-doc-mermaid-error[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:120px;color:var(--ng-doc-alert)}"],changeDetection:0});let t=e;return t})();var gS=["inputElement"],hS=["resultContent"],yS=()=>[];function CS(t,e){t&1&&(S(0,"span",15)(1,"b"),j(2,"\u2022"),E()())}function vS(t,e){if(t&1&&(S(0,"span"),j(1),E(),W(2,CS,3,0,"span",15)),t&2){let n=e.$implicit,o=e.$index,r=T().$implicit;_(),Ot(n),_(),K(o!==r.index.breadcrumbs.length-1?2:-1)}}function SS(t,e){if(t&1&&(O(0,"div",14),he(1,"execute"),he(2,"ngDocHighlighterPipe"),he(3,"ngDocSanitizeHtml")),t&2){let n=T().$implicit,o=T(2);I("innerHTML",Rt(3,8,_t(2,5,n.index.content,Er(1,1,o.getPositions,"content",n))),Sr)}}function _S(t,e){if(t&1){let n=nt();S(0,"a",9),ce("click",function(){Je(n);let r=T(2);return Xe(r.overlayRef.close())}),S(1,"div",10)(2,"ng-doc-tag",11),j(3),E(),S(4,"span",12),Oe(5,vS,3,2,null,null,Le),E()(),O(7,"h5",13),he(8,"execute"),he(9,"ngDocHighlighterPipe"),he(10,"ngDocSanitizeHtml"),W(11,SS,4,10,"div",14),E()}if(t&2){let n=e.$implicit,o=T(2);I("routerLink",n.index.route)("fragment",n.index.fragment),_(2),fe("data-ng-doc-page-type",n.index.pageType),_(),Pe(" ",n.index.pageType," "),_(2),Re(n.index.breadcrumbs),_(2),I("innerHTML",Rt(10,13,_t(9,10,n.index.section,Er(8,6,o.getPositions,"section",n)))||n.index.title,Sr),_(4),K(n.index.content?11:-1)}}function ES(t,e){t&1&&j(0," Nothing found ")}function IS(t,e){t&1&&j(0," Please enter your search query ")}function bS(t,e){if(t&1&&(S(0,"div",16),W(1,ES,1,0),W(2,IS,1,0),E()),t&2){let n=T(3);_(),K(n.searchTerm.length?1:-1),_(),K(n.searchTerm.length?-1:2)}}function xS(t,e){t&1&&(S(0,"div",17),O(1,"ng-doc-spinner",11),j(2," Searching... "),E())}function wS(t,e){if(t&1&&(W(0,bS,3,2,"div",16),W(1,xS,3,0,"div",17)),t&2){let n=T();K(n!=null&&n.pending?-1:0),_(),K(n!=null&&n.pending?1:-1)}}function TS(t,e){if(t&1&&(S(0,"div",7,1)(2,"ng-doc-data-list",8),J(3,_S,12,15,"ng-template",null,2,pe)(5,wS,2,2,"ng-template",null,3,pe),E()()),t&2){let n=e,o=le(4),r=le(6);_(2),I("items",(n==null?null:n.result)??In(3,yS))("itemContent",o)("emptyContent",r)}}var hm=(()=>{let e=class e{constructor(){this.searchTerm="",this.elementRef=b(Ge),this.overlayRef=b(Md),this.data=b(Yd),this.searchTerm=this.data.term}search(o){this.data.search(o),this.resultContent&&(this.resultContent.nativeElement.scrollTop=0)}getPositions(o,r){return r.positions[o]??[]}get listHostOrigin(){return this.inputElement??this.elementRef}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=F({type:e,selectors:[["ng-doc-search-dialog"]],viewQuery:function(r,i){if(r&1&&(Nt(gS,5,Ge),Nt(hS,5,Ge)),r&2){let s;vt(s=St())&&(i.inputElement=s.first),vt(s=St())&&(i.resultContent=s.first)}},hostVars:1,hostBindings:function(r,i){r&2&&$l("@popupAnimation",!0)},features:[Fn([{provide:Pd,useExisting:Nl(()=>e)}])],decls:7,vars:5,consts:[["inputElement",""],["resultContent",""],["itemContent",""],["emptyContent",""],[1,"ng-doc-search-dialog-container"],["icon","search","ngDocInputWrapperLeft",""],["ngDocInputString","","ngDocAutofocus","","placeholder","Find or ask anything...",3,"ngModelChange","selectAll","ngModel"],[1,"ng-doc-search-result-content"],[3,"items","itemContent","emptyContent"],[1,"ng-doc-search-option",3,"click","routerLink","fragment"],[1,"ng-doc-search-option-header"],["size","small"],["ng-doc-text","",1,"ng-doc-search-option-breadcrumbs"],["ng-doc-text","",1,"ng-doc-search-section-title",3,"innerHTML"],["ng-doc-text","",1,"ng-doc-search-content",3,"innerHTML"],[1,"ng-doc-search-option-breadcrumb-divider"],[1,"ng-doc-search-empty"],[1,"ng-doc-search-progress"]],template:function(r,i){if(r&1){let s=nt();S(0,"div",4)(1,"ng-doc-input-wrapper"),O(2,"ng-doc-icon",5),S(3,"input",6,0),ed("ngModelChange",function(c){return Je(s),Zl(i.searchTerm,c)||(i.searchTerm=c),Xe(c)}),ce("ngModelChange",function(c){return Je(s),Xe(i.search(c))}),E()(),W(5,TS,7,4,"div",7),he(6,"async"),E()}if(r&2){let s;_(3),I("selectAll",!0),Xl("ngModel",i.searchTerm),_(2),K((s=Rt(6,3,i.data.searchResults))?5:-1,s)}},dependencies:[rd,fi,Si,_i,tu,ue,$p,an,Go,jt,sm,xi,zi,zn,yi,fd,gd,hd],styles:["[_nghost-%COMP%]{display:block;width:800px;max-width:100%;--ng-doc-search-border-radius: var(--ng-doc-floated-border-radius);--ng-doc-input-height: calc(var(--ng-doc-base-gutter) * 7);--ng-doc-input-border: 1px solid var(--ng-doc-base-1);--ng-doc-input-border-hover: 1px solid var(--ng-doc-base-1);--ng-doc-floated-focus-border-color: transparent}@media (max-width: 1024px){[_nghost-%COMP%]{padding:calc(var(--ng-doc-base-gutter) * 5)}}@media (max-width: 768px){[_nghost-%COMP%]{padding:calc(var(--ng-doc-base-gutter) * 2)}}[_nghost-%COMP%]   ng-doc-icon[icon=search][_ngcontent-%COMP%]{--ng-doc-icon-width: calc(var(--ng-doc-base-gutter) * 6)}[_nghost-%COMP%]   ng-doc-input-wrapper[_ngcontent-%COMP%]:not(:last-child){--ng-doc-floated-border-radius: var(--ng-doc-search-border-radius) var(--ng-doc-search-border-radius) 0 0}[_nghost-%COMP%]   .ng-doc-search-dialog-container[_ngcontent-%COMP%]{box-shadow:#0000 0 0,#0000 0 0,#00000040 0 25px 50px -12px}[_nghost-%COMP%]   .ng-doc-search-result-content[_ngcontent-%COMP%]{max-height:70vh;overflow:auto;background-color:var(--ng-doc-background);border-radius:0 0 var(--ng-doc-search-border-radius) var(--ng-doc-search-border-radius);--ng-doc-option-padding: 0}[_nghost-%COMP%]   .ng-doc-search-result-content[data-ng-doc-mod=icon][_ngcontent-%COMP%]   .ng-doc-search-wrapper[_ngcontent-%COMP%]{padding:calc(var(--ng-doc-base-gutter) * 2) 0}[_nghost-%COMP%]   .ng-doc-search-result-content[data-ng-doc-mod=icon][_ngcontent-%COMP%]   .ng-doc-search-option[_ngcontent-%COMP%]{padding:12px 16px}[_nghost-%COMP%]   .ng-doc-search-option[_ngcontent-%COMP%]{display:block;padding:12px 36px;text-decoration:none}[_nghost-%COMP%]   .ng-doc-search-option[_ngcontent-%COMP%]   .ng-doc-search-option-header[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:calc(var(--ng-doc-base-gutter) / 2)}[_nghost-%COMP%]   .ng-doc-search-option[_ngcontent-%COMP%]   .ng-doc-search-option-header[_ngcontent-%COMP%]   ng-doc-tag[_ngcontent-%COMP%]{text-transform:uppercase;margin-right:var(--ng-doc-base-gutter);--ng-doc-font-weight: 500}[_nghost-%COMP%]   .ng-doc-search-option[_ngcontent-%COMP%]   .ng-doc-search-option-header[_ngcontent-%COMP%]   ng-doc-tag[data-ng-doc-page-type=guide][_ngcontent-%COMP%]{--ng-doc-tag-color: var(--ng-doc-guide-tag-color);--ng-doc-tag-background: var(--ng-doc-guide-tag-background)}[_nghost-%COMP%]   .ng-doc-search-option[_ngcontent-%COMP%]   .ng-doc-search-option-header[_ngcontent-%COMP%]   ng-doc-tag[data-ng-doc-page-type=api][_ngcontent-%COMP%]{--ng-doc-tag-color: var(--ng-doc-api-tag-color);--ng-doc-tag-background: var(--ng-doc-api-tag-background)}[_nghost-%COMP%]   .ng-doc-search-option[_ngcontent-%COMP%]   .ng-doc-search-option-header[_ngcontent-%COMP%]   .ng-doc-search-option-breadcrumbs[_ngcontent-%COMP%]{--ng-doc-text: var(--ng-doc-text-muted);--ng-doc-font-size: 12px;--ng-doc-line-height: 16px}[_nghost-%COMP%]   .ng-doc-search-option[_ngcontent-%COMP%]   .ng-doc-search-option-header[_ngcontent-%COMP%]   .ng-doc-search-option-breadcrumbs[_ngcontent-%COMP%]   .ng-doc-search-option-breadcrumb-divider[_ngcontent-%COMP%]{margin:0 6px}[_nghost-%COMP%]   .ng-doc-search-option[_ngcontent-%COMP%]   .ng-doc-search-section-title[_ngcontent-%COMP%]{display:block;color:var(--ng-doc-search-result-header-color, var(--ng-doc-text));--ng-doc-line-height: 20px;margin:4px 0}[_nghost-%COMP%]   .ng-doc-search-option[_ngcontent-%COMP%]   .ng-doc-search-content[_ngcontent-%COMP%]{display:block;color:var(--ng-doc-search-result-color, var(--ng-doc-text));--ng-doc-font-size: 14px;--ng-doc-line-height: 19px}[_nghost-%COMP%]   .ng-doc-search-empty[_ngcontent-%COMP%]{padding:0 22px}[_nghost-%COMP%]   .ng-doc-search-progress[_ngcontent-%COMP%]{display:flex;align-items:center}[_nghost-%COMP%]   .ng-doc-search-progress[_ngcontent-%COMP%]   ng-doc-spinner[_ngcontent-%COMP%]{margin-right:var(--ng-doc-base-gutter)}"],data:{animation:[xd]},changeDetection:0});let t=e;return t})();var PS=()=>({ctrlKey:!1,altKey:!1,shiftKey:!1,code:"Slash"}),ym=(()=>{let e=class e{constructor(){if(this.query=new si(""),this.dialog=b(Qd),this.searchEngine=b(Vn,{optional:!0}),!this.searchEngine)throw new Error(`NgDoc: Search engine is not provided,
			please check this article: https://ng-doc.com/docs/getting-started/installation#configuring-application
			to learn how to provide it.`);this.searchResults=this.query.pipe(Dl(1),at(o=>this.searchEngine?.search(o).pipe(Rd())??wl),ci(1),_e())}open(){this.dialog.open(new Vi(hm),{hasBackdrop:!0,backdropClass:"ng-doc-blur-backdrop",panelClass:"ng-doc-transparent-dialog",positionStrategy:this.dialog.positionStrategy().centerHorizontally().top("5vh"),data:{term:this.query.value,search:o=>this.query.next(o),searchResults:this.searchResults}})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=F({type:e,selectors:[["ng-doc-search"]],decls:8,vars:3,consts:[[3,"ngDocHotkey"],["ng-doc-button-icon","","size","large","ngDocDropdownOrigin","",3,"click"],["icon","search",3,"size"],["ngDocDropdownOrigin",""],["icon","search","ngDocInputWrapperLeft",""],["ngDocInputString","","readonly","","placeholder","Search...",3,"click"],["ngDocInputWrapperRight","",1,"search-hotkey"]],template:function(r,i){r&1&&(At(0,0),ce("ngDocHotkey",function(){return i.open()}),S(1,"button",1),ce("click",function(){return i.open()}),O(2,"ng-doc-icon",2),E(),S(3,"ng-doc-input-wrapper",3),O(4,"ng-doc-icon",4),S(5,"input",5),ce("click",function(){return i.open()}),E(),S(6,"ng-doc-tag",6),j(7,"/"),E()(),Dt()),r&2&&(I("ngDocHotkey",In(2,PS)),_(2),I("size",24))},dependencies:[Bn,em,ue,Si,_i,yi,om,Go],styles:["[_nghost-%COMP%]{--ng-doc-floated-border-radius: var(--ng-doc-base-gutter);--ng-doc-input-background-color: var(--ng-doc-base-1);--ng-doc-input-border: none;--ng-doc-input-border-hover: none;--ng-doc-icon-color: var(--ng-doc-base-7)}[_nghost-%COMP%]   ng-doc-input-wrapper[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]   ng-doc-input-wrapper[_ngcontent-%COMP%]   ng-doc-icon[_ngcontent-%COMP%], [_nghost-%COMP%]   ng-doc-input-wrapper[_ngcontent-%COMP%]   ng-doc-tag[_ngcontent-%COMP%]{cursor:pointer}@media (max-width: 1024px){[_nghost-%COMP%]   ng-doc-input-wrapper[_ngcontent-%COMP%]{display:none}}@media (min-width: 1024px){[_nghost-%COMP%]{width:240px}[_nghost-%COMP%]   button[ng-doc-button-icon][_ngcontent-%COMP%]{display:none}}.search-hotkey[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:calc(var(--ng-doc-base-gutter) * 3);height:calc(var(--ng-doc-base-gutter) * 3);margin-right:var(--ng-doc-base-gutter);--ng-doc-tag-border: 1px solid var(--ng-doc-base-6);--ng-doc-tag-color: var(--ng-doc-base-6);--ng-doc-tag-background: transparent}"],changeDetection:0});let t=e;return t})();var AS=[[["","ngDocNavbarLeft",""]],[["","ngDocNavbarRight",""]]],DS=["[ngDocNavbarLeft]","[ngDocNavbarRight]"];function NS(t,e){t&1&&O(0,"ng-doc-search")}var Cm=(()=>{let e=class e{constructor(){this.window=b(Ti),this.ngZone=b(Pt),this.changeDetectorRef=b(ct),this.sidebarService=b(Hi),this.search=!0,this.hamburger=!0,this.glassEffect=!0,this.hasBorder=!1;let o=b(wt);kn(()=>{xl([Ke(this.window,"scroll").pipe(Fe(r=>(r.target?.scrollingElement?.scrollTop??0)>0),Do(),xt(!1),Et(this.ngZone)),this.sidebarService.isExpanded()]).pipe(Fe(([r,i])=>r||i&&this.sidebarService.isMobile),_e(o)).subscribe(r=>{this.hasBorder=r,this.changeDetectorRef.markForCheck()})})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=F({type:e,selectors:[["ng-doc-navbar"]],hostVars:3,hostBindings:function(r,i){r&2&&(fe("data-glass-effect",i.glassEffect),ui("has-border",i.hasBorder))},inputs:{search:"search",hamburger:"hamburger",glassEffect:"glassEffect"},ngContentSelectors:DS,decls:8,vars:2,consts:[[1,"navbar-container"],[1,"ng-doc-navbar-left"],[1,"ng-doc-navbar-right"],["ng-doc-button-icon","","size","large",1,"ng-doc-menu",3,"click"],["icon","menu",3,"size"]],template:function(r,i){r&1&&(Be(AS),S(0,"div",0)(1,"div",1),ge(2),E(),S(3,"div",2),W(4,NS,1,0,"ng-doc-search"),ge(5,1),S(6,"button",3),ce("click",function(){return i.sidebarService.toggle()}),O(7,"ng-doc-icon",4),E()()()),r&2&&(_(4),K(i.search?4:-1),_(3),I("size",24))},dependencies:[Mt,ym,Bn,ue],styles:["[_nghost-%COMP%]{position:relative;display:flex;justify-content:center;height:100%;border-bottom:1px solid transparent;transition:var(--ng-doc-transition) border}[_nghost-%COMP%]:not([data-glass-effect=false]){background:color-mix(in srgb,var(--ng-doc-navbar-background) 60%,transparent);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px)}@supports not ((-webkit-backdrop-filter: none) or (backdrop-filter: none)){[_nghost-%COMP%]{background-color:var(--ng-doc-navbar-background)}}[data-glass-effect=false][_nghost-%COMP%]{background-color:var(--ng-doc-navbar-background)}.has-border[_nghost-%COMP%]{border-bottom:var(--ng-doc-navbar-border, );box-shadow:var(--ng-doc-shadow-color) 0 5px 20px -5px}[_nghost-%COMP%]   .navbar-container[_ngcontent-%COMP%]{display:flex;height:100%;width:100%;padding:0 var(--ng-doc-navbar-horizontal-padding);z-index:10;max-width:var(--ng-doc-app-max-width)}[_nghost-%COMP%]   .ng-doc-navbar-left[_ngcontent-%COMP%], [_nghost-%COMP%]   .ng-doc-navbar-right[_ngcontent-%COMP%]{display:flex;align-items:center}[_nghost-%COMP%]   .ng-doc-navbar-left[_ngcontent-%COMP%]{justify-content:flex-start;width:100%;max-width:var(--ng-doc-navbar-left-width)}[_nghost-%COMP%]   .ng-doc-navbar-right[_ngcontent-%COMP%]{justify-content:flex-end;margin-left:auto}[_nghost-%COMP%]   .ng-doc-menu[_ngcontent-%COMP%]{margin-left:calc(var(--ng-doc-base-gutter) * 2)}@media (min-width: 1024px){[_nghost-%COMP%]   .ng-doc-menu[_ngcontent-%COMP%]{display:none}}"],changeDetection:0});let t=e;return t})();var Sm=rn(pd(),1);function OS(t,e){if(t&1&&O(0,"ng-doc-icon",5),t&2){let n=T(2).$implicit;I("customIcon",n.icon)}}function RS(t,e){if(t&1&&(W(0,OS,1,1,"ng-doc-icon",5),j(1)),t&2){let n=T().$implicit;K(n.icon?0:-1),_(),Pe(" ",n.title," ")}}function MS(t,e){if(t&1&&(S(0,"div",null,2),j(2),he(3,"execute"),E()),t&2){let n=le(1),o=T().$implicit,r=T();_(2),Pe(" ",Er(3,1,r.appendElement,o.content,n)," ")}}function kS(t,e){if(t&1&&(S(0,"ng-doc-tab",4),J(1,RS,2,2,"ng-template",null,0,pe)(3,MS,4,5,"ng-template",null,1,pe),E()),t&2){let n=e.$index,o=le(2),r=le(4);I("label",o)("content",r)("id",n)}}var vm=(()=>{let e=class e{constructor(){this.tabs=[]}getActiveIndex(o){return Math.max(o.findIndex(r=>r.active),0)}appendElement(o,r){r.appendChild(o)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=F({type:e,selectors:[["ng-doc-tabs"]],inputs:{tabs:"tabs"},decls:4,vars:4,consts:[["label",""],["content",""],["element",""],[3,"openedTab"],[3,"label","content","id"],[3,"customIcon"]],template:function(r,i){r&1&&(S(0,"ng-doc-tab-group",3),he(1,"execute"),Oe(2,kS,5,3,"ng-doc-tab",4,Le),E()),r&2&&(I("openedTab",_t(1,1,i.getActiveIndex,i.tabs)),_(2),Re(i.tabs))},dependencies:[$o,co,zn,ue],styles:["[_nghost-%COMP%]{display:block;border-radius:var(--ng-doc-tabs-border-radius);border:var(--ng-doc-tabs-border);margin:var(--ng-doc-tabs-margin);overflow:hidden;--ng-doc-code-margin: 0;--ng-doc-code-border-radius: 0;--ng-doc-code-border: none;--ng-doc-tab-group-header-background: var(--ng-doc-base-2)}[_nghost-%COMP%]   ng-doc-icon[_ngcontent-%COMP%]{margin-right:calc(var(--ng-doc-base-gutter) / 2)}"],changeDetection:0});let t=e;return t})();var _m={component:qp,selector:"ng-doc-blockquote",extractOptions:t=>({content:[Array.from(t.childNodes)],inputs:{type:t.getAttribute("type")||"default",icon:t.getAttribute("icon")??void 0}})},Em={component:Mo,selector:"pre code",nodeToReplace:t=>t.closest("pre")??t,extractOptions:t=>({inputs:{name:t.parentElement?.getAttribute("name")||void 0,icon:t.parentElement?.getAttribute("icon")||void 0},content:[[t.closest("pre")??t]]})},Im={component:dm,selector:"ng-doc-demo",extractOptions:t=>({inputs:{componentName:t.getAttribute("componentName")||void 0,options:JSON.parse(t.querySelector("#options")?.textContent??"{}")}})},bm={component:pm,selector:"ng-doc-demo-pane",extractOptions:t=>({inputs:{componentName:t.getAttribute("componentName")||void 0,options:JSON.parse(t.querySelector("#options")?.textContent??"")||{}}})},xm={component:mm,selector:"ng-doc-heading-anchor",extractOptions:t=>({inputs:{classes:t.getAttribute("class")?.split(" ")||[],anchor:t.getAttribute("anchor")||""}})},wm={component:ue,selector:"ng-doc-icon",extractOptions:t=>({inputs:{icon:t.getAttribute("icon")??"",size:Number(t.getAttribute("size"))||16}})},Tm={component:fm,selector:'img:not([zoom="false"])',nodeToReplace:(t,e)=>{let o=e.get(eo).createElement("div");return t.parentNode?.insertBefore(o,t)??t},extractOptions:t=>({inputs:{src:t.getAttribute("src")??"",alt:t.getAttribute("alt")??""},content:[[t]]})},Pm={component:gm,selector:"pre.mermaid",extractOptions:t=>({inputs:{graph:t.textContent??""}})},Am={component:hu,selector:"ng-doc-playground",extractOptions:t=>({inputs:{id:t.getAttribute("id")||void 0,properties:JSON.parse(t.querySelector("#data")?.textContent?.replace(/\n/g,"\\n")??"")||void 0,pipeName:t.querySelector("#pipeName")?.textContent||void 0,selectors:(t.querySelector("#selectors")?.textContent||"").split(",").map(e=>e.trim()).filter(Sm.isPresent),options:JSON.parse(t.querySelector("#options")?.textContent??"")||{}}})},Dm={component:vm,selector:"ng-doc-tab",nodeToReplace:(t,e)=>{let o=e.get(eo).createElement("div");return t.parentNode?.insertBefore(o,t)??t},extractOptions:(t,e)=>{let n=t.getAttribute("group")??"",o=Array.from(e.querySelectorAll(`ng-doc-tab[group="${n}"]`)),r=o.map(i=>({title:i.getAttribute("name")??"",content:i,icon:i.getAttribute("icon")||void 0,active:i.hasAttribute("active")}));return o.forEach(i=>i.remove()),{inputs:{tabs:r}}}};function US(t,e){if(t&1&&(S(0,"a",1)(1,"div",3),O(2,"ng-doc-icon",4),j(3," Previous "),E(),S(4,"div",5),j(5),E()()),t&2){let n=T();I("routerLink",n.prevPage.route),_(5),Ot(n.prevPage.title)}}function FS(t,e){if(t&1&&(S(0,"a",2)(1,"div",3),j(2," Next "),O(3,"ng-doc-icon",6),E(),S(4,"div",5),j(5),E()()),t&2){let n=T();I("routerLink",n.nextPage.route),_(5),Ot(n.nextPage.title)}}var Nm=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=F({type:e,selectors:[["ng-doc-page-navigation"]],inputs:{prevPage:"prevPage",nextPage:"nextPage"},decls:3,vars:2,consts:[[1,"ng-doc-navigation-controls"],[1,"ng-doc-prev-page",3,"routerLink"],[1,"ng-doc-next-page",3,"routerLink"],["ng-doc-text","","size","small",1,"ng-doc-navigation-page-label"],["icon","arrow-left","ngDocTextLeft",""],["ng-doc-text","",1,"ng-doc-navigation-page-title"],["icon","arrow-right","ngDocTextRight",""]],template:function(r,i){r&1&&(S(0,"div",0),W(1,US,6,2,"a",1),W(2,FS,6,2,"a",2),E()),r&2&&(_(),K(i.prevPage?1:-1),_(),K(i.nextPage?2:-1))},dependencies:[ue,jt,Ei,Ii,an],styles:["[_nghost-%COMP%]   .ng-doc-navigation-controls[_ngcontent-%COMP%]{display:flex;margin-top:calc(var(--ng-doc-base-gutter) * 12);border-top:1px solid var(--ng-doc-base-2);padding-top:calc(var(--ng-doc-base-gutter) * 2)}[_nghost-%COMP%]   .ng-doc-navigation-controls[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-decoration:unset;transition:var(--ng-doc-transition);--ng-doc-button-hover-background: var(--ng-doc-base-1);--ng-doc-button-active-background: var(--ng-doc-base-2);--ng-doc-text: var(--ng-doc-base-9);--ng-doc-icon-color: var(--ng-doc-text)}[_nghost-%COMP%]   .ng-doc-navigation-controls[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{opacity:.6}[_nghost-%COMP%]   .ng-doc-navigation-controls[_ngcontent-%COMP%]   a.ng-doc-next-page[_ngcontent-%COMP%]{margin-left:auto}[_nghost-%COMP%]   .ng-doc-navigation-controls[_ngcontent-%COMP%]   a.ng-doc-prev-page[_ngcontent-%COMP%]{align-items:flex-start}[_nghost-%COMP%]   .ng-doc-navigation-controls[_ngcontent-%COMP%]   a.ng-doc-next-page[_ngcontent-%COMP%]{align-items:flex-end}[_nghost-%COMP%]   .ng-doc-navigation-controls[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .ng-doc-navigation-page-title[_ngcontent-%COMP%]{--ng-doc-text: var(--ng-doc-link-color)}"],changeDetection:0});let t=e;return t})();var LS=[[["ng-doc-navbar"]],[["","ngDocCustomNavbar",""]],"*",[["ng-doc-sidebar"]],[["","ngDocCustomSidebar",""]]],BS=["ng-doc-navbar","[ngDocCustomNavbar]","*","ng-doc-sidebar","[ngDocCustomSidebar]"];function zS(t,e){t&1&&(ge(0,3),ge(1,4))}function VS(t,e){if(t&1&&(At(0),j(1),Dt()),t&2){let n=e.polymorpheusOutlet;_(),Pe(" ",n)}}function HS(t,e){if(t&1&&(S(0,"footer"),J(1,VS,2,1,"ng-container",4),E()),t&2){let n=T();_(),I("polymorpheusOutlet",n.footerContent)}}var Om=(()=>{let e=class e{constructor(){this.sidebar=!0,this.footerContent="",this.noWidthLimit=!1,this.sidebarService=b(Hi)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=F({type:e,selectors:[["ng-doc-root"]],viewQuery:function(r,i){if(r&1&&Nt(Ja,5),r&2){let s;vt(s=St())&&(i.sidenav=s.first)}},hostVars:1,hostBindings:function(r,i){r&2&&fe("data-ng-doc-no-width-limit",i.noWidthLimit)},inputs:{sidebar:"sidebar",footerContent:"footerContent",noWidthLimit:"noWidthLimit"},features:[Fn([])],ngContentSelectors:BS,decls:12,vars:6,consts:[["sidebarContent",""],[1,"ng-doc-root-wrapper"],[1,"ng-doc-header"],[3,"closeEvent","sidebar","opened","hasBackdrop"],[4,"polymorpheusOutlet"]],template:function(r,i){if(r&1){let s=nt();Be(LS),At(0),S(1,"div",1)(2,"div",2),ge(3),ge(4,1),E(),S(5,"main")(6,"ng-doc-sidenav",3),he(7,"async"),ce("closeEvent",function(){return Je(s),Xe(i.sidebarService.hide())}),J(8,zS,2,0,"ng-template",null,0,pe),ge(10,2),E()(),W(11,HS,2,1,"footer"),E(),Dt()}if(r&2){let s=le(9);_(6),I("sidebar",i.sidebar?s:null)("opened",Rt(7,4,i.sidebarService.isExpanded())??!0)("hasBackdrop",i.sidebarService.isMobile),_(5),K(i.footerContent?11:-1)}},dependencies:[Ja,Mt,cn,fi],styles:["[data-ng-doc-no-width-limit=true][_nghost-%COMP%]   .ng-doc-root-wrapper[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]{max-width:none}[_nghost-%COMP%]   .ng-doc-root-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}[_nghost-%COMP%]   .ng-doc-root-wrapper[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]{display:flex;width:100%;margin-left:auto;margin-right:auto;max-width:var(--ng-doc-app-max-width);padding:var(--ng-doc-main-padding);--ng-doc-sidenav-top: var(--ng-doc-navbar-height);--ng-doc-sidenav-width: var(--ng-doc-sidebar-width);--ng-doc-sidenav-content-padding: var(--ng-doc-page-padding)}[_nghost-%COMP%]   .ng-doc-root-wrapper[_ngcontent-%COMP%]   footer[_ngcontent-%COMP%]{margin-top:auto}[_nghost-%COMP%]   .ng-doc-root-wrapper[_ngcontent-%COMP%]   .ng-doc-header[_ngcontent-%COMP%]{position:fixed;top:0;height:var(--ng-doc-navbar-height);width:100%;z-index:15}"],changeDetection:0});let t=e;return t})();var Xa=rn(Ir(),1);var Rm=(()=>{let e=class e{constructor(){this.link="",this.activeClass=[],this.matchOptions={fragment:"exact",paths:"subset",queryParams:"exact",matrixParams:"exact"};let o=b(Ge),r=b(Ln),i=b(eo);r.events.pipe(Te(s=>s instanceof Ci),Fe(()=>r.isActive(this.link,this.matchOptions)),Do(),_e()).subscribe(s=>{s?(0,Xa.asArray)(this.activeClass).forEach(a=>i.addClass(o.nativeElement,a)):(0,Xa.asArray)(this.activeClass).forEach(a=>i.removeClass(o.nativeElement,a))})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Tt({type:e,selectors:[["","ngDocRouteActive",""]],inputs:{link:[0,"ngDocRouteActive","link"],activeClass:"activeClass",matchOptions:"matchOptions"}});let t=e;return t})();var WS=["*"];function KS(t,e){t&1&&O(0,"ng-doc-dot")}function qS(t,e){if(t&1&&O(0,"ng-doc-icon",5),t&2){let n=T();I("ngDocRotator",n.expanded)}}function jS(t,e){if(t&1&&(At(0),j(1),Dt()),t&2){let n=e.polymorpheusOutlet;_(),Ot(n)}}function $S(t,e){if(t&1&&(S(0,"div",7),ge(1),J(2,jS,2,1,"ng-container",8),E()),t&2){let n=T();_(2),I("polymorpheusOutlet",n.content)}}var GS=t=>[t];function YS(t,e){if(t&1&&(S(0,"ng-doc-tag",2),j(1),E()),t&2){let n=e.$implicit;I("color",n.type||"success"),_(),Ot(n.text)}}var QS=t=>({item:t,root:!0}),JS=t=>({item:t,root:!1});function XS(t,e){t&1&&Ct(0)}function ZS(t,e){if(t&1&&J(0,XS,1,0,"ng-container",3),t&2){let n=e.$implicit;T();let o=le(6);I("ngTemplateOutlet",o)("ngTemplateOutletContext",pi(2,QS,n))}}function e_(t,e){if(t&1&&(O(0,"ng-doc-sidebar-category",4),he(1,"bind"),he(2,"execute")),t&2){T();let n=le(2),o=T(),r=o.item,i=o.root,s=T();I("category",r)("expandable",!!(r!=null&&r.expandable))("expanded",!!(r!=null&&r.expanded)||!(r!=null&&r.expandable)||_t(2,8,_t(1,5,s.matchRoute,s),r.route))("isRoot",!!i)("content",n)}}function t_(t,e){t&1&&Ct(0)}function n_(t,e){if(t&1&&J(0,t_,1,0,"ng-container",3),t&2){let n=e.$implicit;T(4);let o=le(6);I("ngTemplateOutlet",o)("ngTemplateOutletContext",pi(2,JS,n))}}function o_(t,e){if(t&1&&(Oe(0,n_,1,4,"ng-container",null,Le),he(2,"bind"),he(3,"execute")),t&2){let n=T(2).item,o=T();Re(_t(3,3,_t(2,0,o.getNavigation,o),n))}}function r_(t,e){if(t&1&&(W(0,e_,3,11,"ng-doc-sidebar-category",4),J(1,o_,4,6,"ng-template",null,1,pe)),t&2){let n=T().item;K(n.hidden?-1:0)}}function i_(t,e){if(t&1&&O(0,"ng-doc-sidebar-item",5),t&2){let n=T(2).item;I("item",n)}}function s_(t,e){if(t&1&&W(0,i_,1,1,"ng-doc-sidebar-item",5),t&2){let n=T().item;K(n.hidden?-1:0)}}function a_(t,e){if(t&1&&W(0,r_,3,1)(1,s_,1,1),t&2){let n=e.item;K(n.children!=null&&n.children.length?0:1)}}var c_=(()=>{let e=class e{constructor(){this.isRoot=!1,this.content="",this.expandable=!0,this.expanded=!0,this.location=b(Ca),this.changeDetectorRef=b(ct),this.location.onUrlChange(()=>{this.location.path().includes(this.category.route??"",0)&&this.expand()})}toggle(){this.expanded?this.collapse():this.expand()}expand(){this.category?.expandable&&(this.expanded=!0,this.changeDetectorRef.markForCheck())}collapse(){this.category?.expandable&&(this.expanded=!1,this.changeDetectorRef.markForCheck())}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=F({type:e,selectors:[["ng-doc-sidebar-category"]],hostVars:2,hostBindings:function(r,i){r&2&&fe("data-ng-doc-is-root",i.isRoot)("data-ng-doc-expandable",i.expandable)},inputs:{category:"category",isRoot:"isRoot",content:"content",expandable:"expandable",expanded:"expanded"},ngContentSelectors:WS,decls:10,vars:6,consts:[["contentTemplate",""],[1,"ng-doc-sidebar-category-wrapper"],[1,"ng-doc-sidebar-category-button",3,"click"],["activeClass","active",1,"ng-doc-sidebar-category",3,"ngDocRouteActive"],["ng-doc-text",""],["icon","chevron-right","ngDocTextLeft","",3,"ngDocRotator"],["collapseMod","hide",3,"expanded","content"],[1,"ng-doc-sidebar-category-children"],[4,"polymorpheusOutlet"]],template:function(r,i){if(r&1){let s=nt();Be(),S(0,"div",1)(1,"button",2),ce("click",function(){return Je(s),Xe(i.toggle())}),S(2,"div",3),W(3,KS,1,0,"ng-doc-dot"),S(4,"span",4),W(5,qS,1,1,"ng-doc-icon",5),j(6),E()()(),O(7,"ng-doc-expander",6),J(8,$S,3,1,"ng-template",null,0,pe),E()}if(r&2){let s=le(9);_(2),I("ngDocRouteActive",i.category.route),_(),K(i.expandable?-1:3),_(2),K(i.category.expandable?5:-1),_(),Pe(" ",i.category.title," "),_(),I("expanded",i.expanded)("content",s)}},dependencies:[Rm,Qa,jt,ue,Ei,rm,Jd,Mt,cn],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;--ng-doc-sidebar-category-indent: calc( var(--ng-doc-sidebar-item-indent) + calc(var(--ng-doc-base-gutter) * 2) );--ng-doc-icon-color: var(--ng-doc-text)}[data-ng-doc-expandable=false][_nghost-%COMP%]   .ng-doc-sidebar-category-button[_ngcontent-%COMP%]{padding:var(--ng-doc-sidebar-vetical-padding) var(--ng-doc-base-gutter) var(--ng-doc-sidebar-vetical-padding) var(--ng-doc-sidebar-item-indent)}[data-ng-doc-expandable=true][_nghost-%COMP%]   .ng-doc-sidebar-category-button[_ngcontent-%COMP%]{padding:var(--ng-doc-sidebar-vetical-padding) var(--ng-doc-base-gutter) var(--ng-doc-sidebar-vetical-padding) var(--ng-doc-sidebar-item-indent);cursor:pointer;border-radius:var(--ng-doc-base-gutter)}[data-ng-doc-expandable=true][_nghost-%COMP%]   .ng-doc-sidebar-category-button[_ngcontent-%COMP%]:hover{background-color:var(--ng-doc-base-1)}[_nghost-%COMP%]   .ng-doc-sidebar-category-button[_ngcontent-%COMP%]{display:flex;flex-direction:column;border:unset;background-color:unset;width:100%}[_nghost-%COMP%]   .ng-doc-sidebar-category-button[_ngcontent-%COMP%]   .ng-doc-sidebar-category[_ngcontent-%COMP%]{display:flex;align-items:center;--ng-doc-dot-background: var(--ng-doc-base-4);--ng-doc-text: var(--ng-doc-heading-color)}[_nghost-%COMP%]   .ng-doc-sidebar-category-button[_ngcontent-%COMP%]   .ng-doc-sidebar-category[_ngcontent-%COMP%]   ng-doc-dot[_ngcontent-%COMP%]{margin-right:calc(var(--ng-doc-base-gutter) * 2)}[_nghost-%COMP%]   .ng-doc-sidebar-category-button[_ngcontent-%COMP%]   .ng-doc-sidebar-category.active[_ngcontent-%COMP%]{--ng-doc-font-weight: 600;--ng-doc-dot-background: var(--ng-doc-primary)}[_nghost-%COMP%]   .ng-doc-sidebar-category-button[_ngcontent-%COMP%]   span[ng-doc-text][_ngcontent-%COMP%]{flex-shrink:0;margin-right:var(--ng-doc-base-gutter)}[_nghost-%COMP%]   .ng-doc-sidebar-category-children[_ngcontent-%COMP%]{padding-bottom:calc(var(--ng-doc-base-gutter) * 2);--ng-doc-sidebar-item-indent: var(--ng-doc-sidebar-category-indent)}"],changeDetection:0});let t=e;return t})(),l_=(()=>{let e=class e{constructor(){this.item=bn.required(),this.statuses=to(()=>(this.item().metadata?.tags.status??[]).map(r=>{let[i,s]=r.split(/\s+(.+)/);return{type:i.replace(/^:/,""),text:s}}))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=F({type:e,selectors:[["ng-doc-sidebar-item"]],inputs:{item:[1,"item"]},decls:6,vars:5,consts:[["routerLinkActive","active",1,"ng-doc-sidebar-link",3,"routerLink"],["ng-doc-text","",3,"absoluteContent"],["size","small","mod","light",3,"color"]],template:function(r,i){r&1&&(S(0,"a",0),O(1,"ng-doc-dot"),S(2,"span",1),j(3),Oe(4,YS,2,2,"ng-doc-tag",2,Le),E()()),r&2&&(I("routerLink",pi(3,GS,i.item().route)),_(2),I("absoluteContent",!0),_(),Pe(" ",i.item().title," "),_(),Re(i.statuses()))},dependencies:[vd,an,Qa,jt,Go],styles:["[_nghost-%COMP%]{display:block}.ng-doc-sidebar-link[_ngcontent-%COMP%]{font-family:var(--ng-doc-heading-font-family);font-variant:no-contextual;color:var(--ng-doc-text);line-height:var(--ng-doc-line-height);font-size:var(--ng-doc-font-size);font-weight:var(--ng-doc-font-weight);display:flex;align-items:center;gap:var(--ng-doc-base-gutter);padding:var(--ng-doc-sidebar-vetical-padding) var(--ng-doc-sidebar-horizontal-padding) var(--ng-doc-sidebar-vetical-padding) var(--ng-doc-sidebar-item-indent);text-decoration:inherit;cursor:pointer;border-radius:var(--ng-doc-base-gutter);--ng-doc-icon-color: var(--ng-doc-text);--ng-doc-dot-background: var(--ng-doc-base-4);--ng-doc-font-weight: 400}.ng-doc-sidebar-link[_ngcontent-%COMP%]   ng-doc-dot[_ngcontent-%COMP%]{margin-right:var(--ng-doc-base-gutter);z-index:1}.ng-doc-sidebar-link[_ngcontent-%COMP%]:hover:not(.active){background:var(--ng-doc-base-1)}.ng-doc-sidebar-link.active[_ngcontent-%COMP%]{background:color-mix(in srgb,var(--ng-doc-primary) 7%,transparent);--ng-doc-text: var(--ng-doc-primary);--ng-doc-dot-background: var(--ng-doc-primary)}.ng-doc-sidebar-link.active[_ngcontent-%COMP%]   ng-doc-dot[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_animation .5s ease-out}@keyframes _ngcontent-%COMP%_animation{0%{transform:scale(1)}50%{transform:scale(2)}to{transform:scale(1)}}.ng-doc-sidebar-link[_ngcontent-%COMP%]   ng-doc-tag[_ngcontent-%COMP%]{vertical-align:middle;margin-left:var(--ng-doc-base-gutter);font-weight:600}"],changeDetection:0});let t=e;return t})(),Mm=(()=>{let e=class e{constructor(){this.location=b(Ca),this.context=b(wi)}getNavigation(o){return o?o.children??[]:this.context.navigation}matchRoute(o){return this.location.path().includes(o??"",0)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=F({type:e,selectors:[["ng-doc-sidebar"]],decls:7,vars:5,consts:[["sidebarTemplate",""],["categoryContent",""],[1,"ng-doc-side-bar-wrapper"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"category","expandable","expanded","isRoot","content"],[3,"item"]],template:function(r,i){r&1&&(S(0,"div",2),Oe(1,ZS,1,4,"ng-container",null,Le),he(3,"bind"),he(4,"execute"),J(5,a_,2,1,"ng-template",null,0,pe),E()),r&2&&(_(),Re(Rt(4,3,_t(3,0,i.getNavigation,i))))},dependencies:[Ro,c_,l_,zn,ou],styles:["[_nghost-%COMP%]{display:block;height:calc(100vh - var(--ng-doc-navbar-height));width:100%;overflow:hidden;padding:var(--ng-doc-sidebar-padding) 0;background:var(--ng-doc-sidebar-background);box-shadow:var(--ng-doc-sidebar-shadow);--ng-doc-sidebar-category-indent: var(--ng-doc-sidebar-horizontal-padding);--ng-doc-sidebar-item-indent: var(--ng-doc-sidebar-horizontal-padding)}[_nghost-%COMP%]   .ng-doc-side-bar-wrapper[_ngcontent-%COMP%]{position:relative;overflow:auto;max-height:100%}"],changeDetection:0});let t=e;return t})();function d_(t,e){if(t&1&&(S(0,"ng-doc-smooth-resize",5),j(1),E()),t&2){let n=T();I("trigger",n.currentTheme.name),_(),Pe(' "',n.currentTheme.name,'" theme ')}}function u_(t,e){t&1&&(S(0,"div",2),j(1,"A"),E())}function p_(t,e){t&1&&O(0,"ng-doc-icon",3)}function m_(t,e){t&1&&O(0,"ng-doc-icon",4)}var km=(()=>{let e=class e{constructor(){this.themes=[{name:"Auto",theme:"auto"},{name:"Light",theme:null},{name:"Dark",theme:"dark"}],this.documentElement=b(Ze).documentElement,this.themeService=b(ko)}get currentTheme(){let o=this.documentElement.getAttribute("data-theme");return this.themes.find(({theme:r})=>r===o)??this.themes[0]}get nextTheme(){let o=this.themes.findIndex(({theme:r})=>r===this.currentTheme.theme);return this.themes[(o+1)%this.themes.length]}toggleTheme(){let{theme:o}=this.nextTheme;this.themeService.set(o??void 0)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=F({type:e,selectors:[["ng-doc-theme-toggle"]],decls:6,vars:2,consts:[["tooltipContent",""],["ng-doc-button-icon","","size","large",3,"click","ngDocTooltip"],[1,"letter"],["icon","sun","size","24"],["icon","moon","size","24"],[3,"trigger"]],template:function(r,i){if(r&1){let s=nt();S(0,"button",1),ce("click",function(){return Je(s),Xe(i.toggleTheme())}),J(1,d_,2,2,"ng-template",null,0,pe),W(3,u_,2,0,"div",2)(4,p_,1,0,"ng-doc-icon",3)(5,m_,1,0,"ng-doc-icon",4),E()}if(r&2){let s=le(2);I("ngDocTooltip",s),_(3),K(i.currentTheme===i.themes[0]?3:i.currentTheme===i.themes[1]?4:5)}},dependencies:[Bn,nu,ue,bi],styles:["[_nghost-%COMP%]{display:inline-block;height:40px;width:40px}[_nghost-%COMP%]   .letter[_ngcontent-%COMP%]{font-family:var(--ng-doc-font-family);font-variant:no-contextual;color:var(--ng-doc-text);line-height:var(--ng-doc-line-height);font-size:var(--ng-doc-font-size);font-weight:var(--ng-doc-font-weight);--ng-doc-font-size: 26px;--ng-doc-font-weight: 600}"],changeDetection:0});let t=e;return t})();var Ki=rn(pd(),1);var f_=["ng-doc-toc-element",""],g_=["*"],h_=()=>[],y_=["selection"];function C_(t,e){if(t&1&&(S(0,"li",5),j(1),E()),t&2){let n=e.$implicit,o=T();I("path",n.path)("hash",n.hash)("level",n.level)("selected",n===o.activeItem()),_(),Pe(" ",n.title," ")}}var Um=(()=>{let e=class e{constructor(){this.path="",this.hash="",this.selected=!1,this.level=1,this.elementRef=b(Ge)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=F({type:e,selectors:[["li","ng-doc-toc-element",""]],hostVars:2,hostBindings:function(r,i){r&2&&fe("data-ng-doc-selected",i.selected)("data-ng-doc-level",i.level)},inputs:{path:"path",hash:"hash",selected:"selected",level:"level"},attrs:f_,ngContentSelectors:g_,decls:3,vars:7,consts:[[3,"routerLink","fragment"]],template:function(r,i){r&1&&(Be(),S(0,"a",0),he(1,"decodeUriComponent"),ge(2),E()),r&2&&(Un("padding-left","calc(var(--ng-doc-toc-indent) * "+i.level+")"),I("routerLink",In(6,h_))("fragment",Rt(1,4,i.hash)))},dependencies:[an,iu],styles:['[_nghost-%COMP%]{display:flex;margin:0;color:var(--ng-doc-text)}[data-ng-doc-level="1"][_nghost-%COMP%]   a[_ngcontent-%COMP%]{padding-left:var(--ng-doc-base-gutter)}[data-ng-doc-selected=true][_nghost-%COMP%]{color:var(--ng-doc-primary)}[_nghost-%COMP%]:hover{cursor:pointer;color:var(--ng-doc-primary)}[_nghost-%COMP%]   a[_ngcontent-%COMP%]{font-family:var(--ng-doc-font-family);font-variant:no-contextual;color:var(--ng-doc-text);line-height:var(--ng-doc-line-height);font-size:var(--ng-doc-font-size);font-weight:var(--ng-doc-font-weight);padding:calc(var(--ng-doc-base-gutter) / 2);color:inherit;width:100%;text-decoration:none;word-break:break-word;--ng-doc-font-size: 14px}'],changeDetection:0});let t=e;return t})(),Fm=(()=>{let e=class e{constructor(){this.tableOfContent=[],this.elements=new vr,this.activeItem=Kt(void 0),this.document=b(Ze),this.ngZone=b(Pt),this.changeDetectorRef=b(ct),this.renderer=b(eo),this.router=b(Ln),this.destroyRef=b(wt),kn({write:()=>{let o=Ke(this.document,"scroll").pipe(Te(()=>!!this.tableOfContent.length),Fe(s=>s.target.scrollingElement),xt(this.document.scrollingElement),Fe(s=>{let a=s.scrollTop*100/(s.scrollHeight-s.offsetHeight),c=s.scrollTop+s.offsetHeight*a/100;return this.tableOfContent.length?this.tableOfContent.reduce((l,d)=>{let u=l.element.getBoundingClientRect().top+s.scrollTop,p=d.element.getBoundingClientRect().top+s.scrollTop;return Math.abs(p-c)<Math.abs(u-c)?d:l}):null}),Te(Ki.isPresent)),r=this.router.events.pipe(Fe(s=>{if(s instanceof yd){let a=this.tableOfContent.find(c=>c.path.includes(s.routerEvent.url));if(a)return a}return null}),Te(Ki.isPresent),hr(20)),i=this.elements.changes.pipe(Fe(()=>this.activeItem()),Te(Ki.isPresent));gr(gr(o,r).pipe(Do()),i).pipe(hr(0),Et(this.ngZone),_e(this.destroyRef)).subscribe(this.select.bind(this))}})}ngOnInit(){this.activeItem.set(this.tableOfContent[0])}select(o){let r=this.tableOfContent.indexOf(o);if(this.selection){let i=this.elements.toArray()[r]?.elementRef.nativeElement;i&&(this.renderer.setStyle(this.selection.nativeElement,"top",`${i.offsetTop}px`),this.renderer.setStyle(this.selection.nativeElement,"height",`${i.offsetHeight}px`),i.scrollIntoView({block:"nearest"}))}this.activeItem.set(o)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=F({type:e,selectors:[["ng-doc-toc"]],viewQuery:function(r,i){if(r&1&&(Nt(y_,5,Ge),Nt(Um,5)),r&2){let s;vt(s=St())&&(i.selection=s.first),vt(s=St())&&(i.elements=s)}},inputs:{tableOfContent:"tableOfContent"},decls:7,vars:0,consts:[["selection",""],[1,"ng-doc-toc-wrapper"],[1,"ng-doc-toc-container"],[1,"ng-doc-toc-selection"],[1,"ng-doc-toc"],["ng-doc-toc-element","",3,"path","hash","level","selected"]],template:function(r,i){r&1&&(S(0,"div",1)(1,"div",2),O(2,"div",3,0),S(4,"ul",4),Oe(5,C_,2,5,"li",5,Le),E()()()),r&2&&(_(5),Re(i.tableOfContent))},dependencies:[Um],styles:["[_nghost-%COMP%]   .ng-doc-toc-wrapper[_ngcontent-%COMP%]{position:relative;width:var(--ng-doc-toc-width)}[_nghost-%COMP%]   .ng-doc-toc-wrapper[_ngcontent-%COMP%]   .ng-doc-toc-container[_ngcontent-%COMP%]{position:fixed;top:calc(var(--ng-doc-navbar-height) + var(--ng-doc-toc-top-padding));overflow-y:auto;height:calc(100% - var(--ng-doc-navbar-height) - var(--ng-doc-base-gutter) * 5);width:var(--ng-doc-toc-width)}[_nghost-%COMP%]   .ng-doc-toc-wrapper[_ngcontent-%COMP%]   .ng-doc-toc-selection[_ngcontent-%COMP%]{position:absolute;transform:translate(-50%);width:3px;border-radius:calc(var(--ng-doc-base-gutter) / 2);background-color:var(--ng-doc-primary);left:calc(var(--ng-doc-toc-margin) + 1px);transition:var(--ng-doc-transition)}[_nghost-%COMP%]   .ng-doc-toc-wrapper[_ngcontent-%COMP%]   .ng-doc-toc[_ngcontent-%COMP%]{list-style:none;margin:0 0 0 var(--ng-doc-toc-margin);border-left:1px solid var(--ng-doc-base-3);padding:0 0 0 var(--ng-doc-base-gutter)}@media (max-width: 1200px){[_nghost-%COMP%]   .ng-doc-toc-wrapper[_ngcontent-%COMP%]{display:none}}"],changeDetection:0});let t=e;return t})();var Lm=[pu,wm,xm,_m,mu,Pm,Em,Im,bm,Am,Dm,Tm];var Bm={breadcrumbs:cm,navigation:Nm,toc:Fm};function zm(t){return[_r(()=>{b(sd).setOffset([0,120])}),_r(async()=>{await b(fu).initialize(t?.shiki)}),...am(t?.uiKit)]}function Vm(t){return[{provide:cu,useValue:t}]}function Hm(t,...e){return{provide:Vn,useFactory:()=>new t(...e)}}function Wm(){return[{provide:wi,useValue:{navigation:[{title:"Getting Started",route:"/getting-started",expandable:!0,expanded:!1,hidden:!1,metadata:{description:"",tags:{}},children:[{title:"What is NgxOmniAuth?",route:"/getting-started/what-is-ngx-omni-auth",hidden:!1,metadata:{description:"",tags:{}}},{title:"Installation",route:"/getting-started/installation",order:5,hidden:!1,metadata:{description:"",tags:{}}},{title:"Support and Compatibility",route:"/getting-started/support-and-compatibility",order:50,hidden:!1,metadata:{description:"",tags:{}}}]},{title:"Live Demo",route:"/demo",expandable:!0,expanded:!1,order:5,hidden:!1,metadata:{description:"",tags:{}},children:[{title:"Cognito with Material",route:"/demo/cognito-with-material",hidden:!1,metadata:{description:"",tags:{}}}]},{title:"Contribution",route:"/contribution",order:90,hidden:!1,metadata:{description:"",tags:{}}},{title:"API References",route:"/api",order:99,hidden:!1,metadata:{description:"",tags:{}}}]}},{provide:lu,useValue:""},{provide:du,useValue:{light:"",dark:""}}]}var Km=[{path:"api",title:"API References",loadChildren:()=>import("./chunk-NADOJWBZ.js")},{path:"api/type-aliases/omni-auth-core/AuthConfig",title:"AuthConfig",loadChildren:()=>import("./chunk-D56M2CLI.js")},{path:"api/variables/omni-auth-core/AUTH_CONFIG",title:"AUTH_CONFIG",loadChildren:()=>import("./chunk-KH3AVNYG.js")},{path:"api/variables/omni-auth-core/configureAuth",title:"configureAuth",loadChildren:()=>import("./chunk-2YMA4D55.js")},{path:"api/classes/omni-auth-core/JwtToken",title:"JwtToken",loadChildren:()=>import("./chunk-SRWSMIPD.js")},{path:"api/classes/omni-auth-core/TokenProxy",title:"TokenProxy",loadChildren:()=>import("./chunk-OCKSEFKH.js")},{path:"api/type-aliases/omni-auth-core/TokenFetcher",title:"TokenFetcher",loadChildren:()=>import("./chunk-IZI4YWIF.js")},{path:"api/variables/omni-auth-core/jwtInterceptor",title:"jwtInterceptor",loadChildren:()=>import("./chunk-SE244USZ.js")},{path:"api/variables/omni-auth-core/emailToFullName",title:"emailToFullName",loadChildren:()=>import("./chunk-7NPUHTSI.js")},{path:"api/classes/omni-auth-core/ErrorMessagePipe",title:"ErrorMessagePipe",loadChildren:()=>import("./chunk-BA3SJ2AV.js")},{path:"api/classes/omni-auth-core/RuntimeError",title:"RuntimeError",loadChildren:()=>import("./chunk-UDIJHTPE.js")},{path:"api/classes/omni-auth-core/ActionErrorCollectorService",title:"ActionErrorCollectorService",loadChildren:()=>import("./chunk-UJAU2GG4.js")},{path:"api/classes/omni-auth-core/FlowError",title:"FlowError",loadChildren:()=>import("./chunk-YOM5UG25.js")},{path:"api/classes/omni-auth-core/OmniAuthError",title:"OmniAuthError",loadChildren:()=>import("./chunk-YQHW4HAE.js")},{path:"api/type-aliases/omni-auth-core/AuthState",title:"AuthState",loadChildren:()=>import("./chunk-5QGPF2YA.js")},{path:"api/classes/omni-auth-core/OmniAuthService",title:"OmniAuthService",loadChildren:()=>import("./chunk-UHAJALEY.js")},{path:"api/variables/omni-auth-core/isError",title:"isError",loadChildren:()=>import("./chunk-3HCIBHAD.js")},{path:"api/type-aliases/omni-auth-core/SocialSignInProviderKey",title:"SocialSignInProviderKey",loadChildren:()=>import("./chunk-OFZQYXLT.js")},{path:"api/type-aliases/omni-auth-core/CustomSignInProviderKey",title:"CustomSignInProviderKey",loadChildren:()=>import("./chunk-DUGDVAK7.js")},{path:"api/type-aliases/omni-auth-core/SignInProviderKey",title:"SignInProviderKey",loadChildren:()=>import("./chunk-BUAXBAIJ.js")},{path:"api/type-aliases/omni-auth-core/ContentConfig",title:"ContentConfig",loadChildren:()=>import("./chunk-WGLVRUPD.js")},{path:"api/variables/omni-auth-core/defaultContent",title:"defaultContent",loadChildren:()=>import("./chunk-QJG2FDKM.js")},{path:"api/variables/omni-auth-core/onlyAuthenticated",title:"onlyAuthenticated",loadChildren:()=>import("./chunk-DMZ26CRU.js")},{path:"api/variables/omni-auth-core/onlyGuest",title:"onlyGuest",loadChildren:()=>import("./chunk-JFQ2UVLE.js")},{path:"api/classes/omni-auth-core/AuthRouteService",title:"AuthRouteService",loadChildren:()=>import("./chunk-ZXFIKSJF.js")},{path:"api/type-aliases/omni-auth-core/JwtPayloadType",title:"JwtPayloadType",loadChildren:()=>import("./chunk-ZU2PIHD7.js")},{path:"api/type-aliases/omni-auth-core/JwtPayloadStandardClaims",title:"JwtPayloadStandardClaims",loadChildren:()=>import("./chunk-LSDRYN36.js")},{path:"api/variables/omni-auth-core/passwordPattern",title:"passwordPattern",loadChildren:()=>import("./chunk-BT5HKLBE.js")},{path:"api/variables/omni-auth-core/emailPattern",title:"emailPattern",loadChildren:()=>import("./chunk-XX4CNL7L.js")},{path:"api/type-aliases/omni-auth-core/ActionErrorCode",title:"ActionErrorCode",loadChildren:()=>import("./chunk-ULYTDCUK.js")},{path:"api/classes/omni-auth-cognito/AuthAwsCognitoService",title:"AuthAwsCognitoService",loadChildren:()=>import("./chunk-PU4KINSA.js")},{path:"api/classes/omni-auth-cognito/CognitoAuthState",title:"CognitoAuthState",loadChildren:()=>import("./chunk-JHDUFX7F.js")},{path:"api/type-aliases/omni-auth-cognito/AuthCognitoConfig",title:"AuthCognitoConfig",loadChildren:()=>import("./chunk-TITDC274.js")},{path:"api/variables/omni-auth-cognito/AUTH_COGNITO_CONFIG",title:"AUTH_COGNITO_CONFIG",loadChildren:()=>import("./chunk-A3RIB25X.js")},{path:"api/variables/omni-auth-cognito/configureAuthCognitoConnector",title:"configureAuthCognitoConnector",loadChildren:()=>import("./chunk-SZ4DXOBR.js")},{path:"api/type-aliases/omni-auth-ui-material/AuthComponentConfig",title:"AuthComponentConfig",loadChildren:()=>import("./chunk-N2RXRM4E.js")},{path:"api/classes/omni-auth-ui-material/AuthComponent",title:"AuthComponent",loadChildren:()=>import("./chunk-7R2333ZC.js")},{path:"api/classes/omni-auth-ui-material/SocialButtonsComponent",title:"SocialButtonsComponent",loadChildren:()=>import("./chunk-HKA5A3FI.js")},{path:"api/classes/omni-auth-ui-material/AuthenticatedComponent",title:"AuthenticatedComponent",loadChildren:()=>import("./chunk-ZZNKPQ4A.js")},{path:"api/classes/omni-auth-ui-material/ConfirmSignUpComponent",title:"ConfirmSignUpComponent",loadChildren:()=>import("./chunk-4JZETV6Z.js")},{path:"api/classes/omni-auth-ui-material/PrintErrorComponent",title:"PrintErrorComponent",loadChildren:()=>import("./chunk-MCX4KUVW.js")},{path:"api/classes/omni-auth-ui-material/ResetPasswordComponent",title:"ResetPasswordComponent",loadChildren:()=>import("./chunk-RT5RZWOT.js")},{path:"api/type-aliases/omni-auth-ui-material/SignInComponentConfig",title:"SignInComponentConfig",loadChildren:()=>import("./chunk-UJKFP63J.js")},{path:"api/classes/omni-auth-ui-material/SignInComponent",title:"SignInComponent",loadChildren:()=>import("./chunk-O6L74Z6L.js")},{path:"api/type-aliases/omni-auth-ui-material/SignUpComponentConfig",title:"SignUpComponentConfig",loadChildren:()=>import("./chunk-DYXC6RGF.js")},{path:"api/classes/omni-auth-ui-material/SignUpComponent",title:"SignUpComponent",loadChildren:()=>import("./chunk-5KCLJHH2.js")},{path:"api/type-aliases/omni-auth-ui-material/SignInProvider",title:"SignInProvider",loadChildren:()=>import("./chunk-HLQRUR4P.js")},{path:"api/classes/omni-auth-ui-material/HostStateMatcher",title:"HostStateMatcher",loadChildren:()=>import("./chunk-GP6BEE2B.js")},{path:"api/classes/omni-auth-ui-material/ReplacePipe",title:"ReplacePipe",loadChildren:()=>import("./chunk-NG4SXLVI.js")},{path:"api/classes/omni-auth-ui-material/ButtonComponent",title:"ButtonComponent",loadChildren:()=>import("./chunk-E5BLXJDK.js")},{path:"api/classes/omni-auth-ui-material/InputComponent",title:"InputComponent",loadChildren:()=>import("./chunk-DQHJYRRS.js")},{path:"api/classes/omni-auth-ui-material/LoaderOverlayDirective",title:"LoaderOverlayDirective",loadChildren:()=>import("./chunk-MJJQZQ5H.js")},{path:"api/classes/omni-auth-ui-material/LoaderComponent",title:"LoaderComponent",loadChildren:()=>import("./chunk-VI3SQZQG.js")},{path:"api/type-aliases/omni-auth-ui-material/MessageType",title:"MessageType",loadChildren:()=>import("./chunk-RUY7FVVC.js")},{path:"api/classes/omni-auth-ui-material/MessageComponent",title:"MessageComponent",loadChildren:()=>import("./chunk-IXMGT7GE.js")},{path:"contribution",title:"Contribution",loadChildren:()=>import("./chunk-QBI5ZU74.js")},{path:"demo",title:"Live Demo",providers:[...yu.providers??[]],children:[{path:"",redirectTo:"cognito-with-material",pathMatch:"full"},{path:"cognito-with-material",title:"Cognito with Material",loadChildren:()=>import("./chunk-JEI7IH6S.js")}]},{path:"getting-started",title:"Getting Started",providers:[...Cu.providers??[]],children:[{path:"",redirectTo:"installation",pathMatch:"full"},{path:"installation",title:"Installation",loadChildren:()=>import("./chunk-VWFMNLTV.js")},{path:"what-is-ngx-omni-auth",title:"What is NgxOmniAuth?",loadChildren:()=>import("./chunk-G66F3L7F.js")},{path:"support-and-compatibility",title:"Support and Compatibility",loadChildren:()=>import("./chunk-ZCPC2VVI.js")}]}];function qm(t){return new oe(3e3,!1)}function v_(){return new oe(3100,!1)}function S_(){return new oe(3101,!1)}function __(t){return new oe(3001,!1)}function E_(t){return new oe(3003,!1)}function I_(t){return new oe(3004,!1)}function $m(t,e){return new oe(3005,!1)}function Gm(){return new oe(3006,!1)}function Ym(){return new oe(3007,!1)}function Qm(t,e){return new oe(3008,!1)}function Jm(t){return new oe(3002,!1)}function Xm(t,e,n,o,r){return new oe(3010,!1)}function Zm(){return new oe(3011,!1)}function ef(){return new oe(3012,!1)}function tf(){return new oe(3200,!1)}function nf(){return new oe(3202,!1)}function of(){return new oe(3013,!1)}function rf(t){return new oe(3014,!1)}function sf(t){return new oe(3015,!1)}function af(t){return new oe(3016,!1)}function cf(t,e){return new oe(3404,!1)}function b_(t){return new oe(3502,!1)}function lf(t){return new oe(3503,!1)}function df(){return new oe(3300,!1)}function uf(t){return new oe(3504,!1)}function pf(t){return new oe(3301,!1)}function mf(t,e){return new oe(3302,!1)}function ff(t){return new oe(3303,!1)}function gf(t,e){return new oe(3400,!1)}function hf(t){return new oe(3401,!1)}function yf(t){return new oe(3402,!1)}function Cf(t,e){return new oe(3505,!1)}function wn(t){switch(t.length){case 0:return new oo;case 1:return t[0];default:return new vi(t)}}function nc(t,e,n=new Map,o=new Map){let r=[],i=[],s=-1,a=null;if(e.forEach(c=>{let l=c.get("offset"),d=l==s,u=d&&a||new Map;c.forEach((p,m)=>{let f=m,g=p;if(m!=="offset")switch(f=t.normalizePropertyName(f,r),g){case br:g=n.get(m);break;case qt:g=o.get(m);break;default:g=t.normalizeStyleValue(m,f,g,r);break}u.set(f,g)}),d||i.push(u),a=u,s=l}),r.length)throw b_(r);return i}function qi(t,e,n,o){switch(e){case"start":t.onStart(()=>o(n&&Za(n,"start",t)));break;case"done":t.onDone(()=>o(n&&Za(n,"done",t)));break;case"destroy":t.onDestroy(()=>o(n&&Za(n,"destroy",t)));break}}function Za(t,e,n){let o=n.totalTime,r=!!n.disabled,i=ji(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,o??t.totalTime,r),s=t._data;return s!=null&&(i._data=s),i}function ji(t,e,n,o,r="",i=0,s){return{element:t,triggerName:e,fromState:n,toState:o,phaseName:r,totalTime:i,disabled:!!s}}function ut(t,e,n){let o=t.get(e);return o||t.set(e,o=n),o}function oc(t){let e=t.indexOf(":"),n=t.substring(1,e),o=t.slice(e+1);return[n,o]}var x_=typeof document>"u"?null:document.documentElement;function $i(t){let e=t.parentNode||t.host||null;return e===x_?null:e}function w_(t){return t.substring(1,6)=="ebkit"}var lo=null,jm=!1;function vf(t){lo||(lo=T_()||{},jm=lo.style?"WebkitAppearance"in lo.style:!1);let e=!0;return lo.style&&!w_(t)&&(e=t in lo.style,!e&&jm&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in lo.style)),e}function T_(){return typeof document<"u"?document.body:null}function rc(t,e){for(;e;){if(e===t)return!0;e=$i(e)}return!1}function ic(t,e,n){if(n)return Array.from(t.querySelectorAll(e));let o=t.querySelector(e);return o?[o]:[]}var P_=1e3,sc="{{",A_="}}",ac="ng-enter",Gi="ng-leave",Pr="ng-trigger",Ar=".ng-trigger",cc="ng-animating",Yi=".ng-animating";function un(t){if(typeof t=="number")return t;let e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:ec(parseFloat(e[1]),e[2])}function ec(t,e){switch(e){case"s":return t*P_;default:return t}}function Dr(t,e,n){return t.hasOwnProperty("duration")?t:D_(t,e,n)}function D_(t,e,n){let o=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,i=0,s="";if(typeof t=="string"){let a=t.match(o);if(a===null)return e.push(qm(t)),{duration:0,delay:0,easing:""};r=ec(parseFloat(a[1]),a[2]);let c=a[3];c!=null&&(i=ec(parseFloat(c),a[4]));let l=a[5];l&&(s=l)}else r=t;if(!n){let a=!1,c=e.length;r<0&&(e.push(v_()),a=!0),i<0&&(e.push(S_()),a=!0),a&&e.splice(c,0,qm(t))}return{duration:r,delay:i,easing:s}}function Sf(t){return t.length?t[0]instanceof Map?t:t.map(e=>new Map(Object.entries(e))):[]}function $t(t,e,n){e.forEach((o,r)=>{let i=Qi(r);n&&!n.has(r)&&n.set(r,t.style[i]),t.style[i]=o})}function Wn(t,e){e.forEach((n,o)=>{let r=Qi(o);t.style[r]=""})}function Yo(t){return Array.isArray(t)?t.length==1?t[0]:Id(t):t}function _f(t,e,n){let o=e.params||{},r=lc(t);r.length&&r.forEach(i=>{o.hasOwnProperty(i)||n.push(__(i))})}var tc=new RegExp(`${sc}\\s*(.+?)\\s*${A_}`,"g");function lc(t){let e=[];if(typeof t=="string"){let n;for(;n=tc.exec(t);)e.push(n[1]);tc.lastIndex=0}return e}function Qo(t,e,n){let o=`${t}`,r=o.replace(tc,(i,s)=>{let a=e[s];return a==null&&(n.push(E_(s)),a=""),a.toString()});return r==o?t:r}var N_=/-+([a-z0-9])/g;function Qi(t){return t.replace(N_,(...e)=>e[1].toUpperCase())}function Ef(t,e){return t===0||e===0}function If(t,e,n){if(n.size&&e.length){let o=e[0],r=[];if(n.forEach((i,s)=>{o.has(s)||r.push(s),o.set(s,i)}),r.length)for(let i=1;i<e.length;i++){let s=e[i];r.forEach(a=>s.set(a,Ji(t,a)))}}return e}function pt(t,e,n){switch(e.type){case X.Trigger:return t.visitTrigger(e,n);case X.State:return t.visitState(e,n);case X.Transition:return t.visitTransition(e,n);case X.Sequence:return t.visitSequence(e,n);case X.Group:return t.visitGroup(e,n);case X.Animate:return t.visitAnimate(e,n);case X.Keyframes:return t.visitKeyframes(e,n);case X.Style:return t.visitStyle(e,n);case X.Reference:return t.visitReference(e,n);case X.AnimateChild:return t.visitAnimateChild(e,n);case X.AnimateRef:return t.visitAnimateRef(e,n);case X.Query:return t.visitQuery(e,n);case X.Stagger:return t.visitStagger(e,n);default:throw I_(e.type)}}function Ji(t,e){return window.getComputedStyle(t)[e]}var wc=(()=>{class t{validateStyleProperty(n){return vf(n)}containsElement(n,o){return rc(n,o)}getParentElement(n){return $i(n)}query(n,o,r){return ic(n,o,r)}computeStyle(n,o,r){return r||""}animate(n,o,r,i,s,a=[],c){return new oo(r,i)}static \u0275fac=function(o){return new(o||t)};static \u0275prov=sn({token:t,factory:t.\u0275fac})}return t})(),po=class{static NOOP=new wc},mo=class{};var O_=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),ns=class extends mo{normalizePropertyName(e,n){return Qi(e)}normalizeStyleValue(e,n,o,r){let i="",s=o.toString().trim();if(O_.has(n)&&o!==0&&o!=="0")if(typeof o=="number")i="px";else{let a=o.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&r.push($m(e,o))}return s+i}};var os="*";function R_(t,e){let n=[];return typeof t=="string"?t.split(/\s*,\s*/).forEach(o=>M_(o,n,e)):n.push(t),n}function M_(t,e,n){if(t[0]==":"){let c=k_(t,n);if(typeof c=="function"){e.push(c);return}t=c}let o=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(o==null||o.length<4)return n.push(sf(t)),e;let r=o[1],i=o[2],s=o[3];e.push(bf(r,s));let a=r==os&&s==os;i[0]=="<"&&!a&&e.push(bf(s,r))}function k_(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,o)=>parseFloat(o)>parseFloat(n);case":decrement":return(n,o)=>parseFloat(o)<parseFloat(n);default:return e.push(af(t)),"* => *"}}var Xi=new Set(["true","1"]),Zi=new Set(["false","0"]);function bf(t,e){let n=Xi.has(t)||Zi.has(t),o=Xi.has(e)||Zi.has(e);return(r,i)=>{let s=t==os||t==r,a=e==os||e==i;return!s&&n&&typeof r=="boolean"&&(s=r?Xi.has(t):Zi.has(t)),!a&&o&&typeof i=="boolean"&&(a=i?Xi.has(e):Zi.has(e)),s&&a}}var Mf=":self",U_=new RegExp(`s*${Mf}s*,?`,"g");function kf(t,e,n,o){return new gc(t).build(e,n,o)}var xf="",gc=class{_driver;constructor(e){this._driver=e}build(e,n,o){let r=new hc(n);return this._resetContextStyleTimingState(r),pt(this,Yo(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector=xf,e.collectedStyles=new Map,e.collectedStyles.set(xf,new Map),e.currentTime=0}visitTrigger(e,n){let o=n.queryCount=0,r=n.depCount=0,i=[],s=[];return e.name.charAt(0)=="@"&&n.errors.push(Gm()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),a.type==X.State){let c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(d=>{c.name=d,i.push(this.visitState(c,n))}),c.name=l}else if(a.type==X.Transition){let c=this.visitTransition(a,n);o+=c.queryCount,r+=c.depCount,s.push(c)}else n.errors.push(Ym())}),{type:X.Trigger,name:e.name,states:i,transitions:s,queryCount:o,depCount:r,options:null}}visitState(e,n){let o=this.visitStyle(e.styles,n),r=e.options&&e.options.params||null;if(o.containsDynamicStyles){let i=new Set,s=r||{};o.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{lc(c).forEach(l=>{s.hasOwnProperty(l)||i.add(l)})})}),i.size&&n.errors.push(Qm(e.name,[...i.values()]))}return{type:X.State,name:e.name,style:o,options:r?{params:r}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;let o=pt(this,Yo(e.animation),n),r=R_(e.expr,n.errors);return{type:X.Transition,matchers:r,animation:o,queryCount:n.queryCount,depCount:n.depCount,options:uo(e.options)}}visitSequence(e,n){return{type:X.Sequence,steps:e.steps.map(o=>pt(this,o,n)),options:uo(e.options)}}visitGroup(e,n){let o=n.currentTime,r=0,i=e.steps.map(s=>{n.currentTime=o;let a=pt(this,s,n);return r=Math.max(r,n.currentTime),a});return n.currentTime=r,{type:X.Group,steps:i,options:uo(e.options)}}visitAnimate(e,n){let o=z_(e.timings,n.errors);n.currentAnimateTimings=o;let r,i=e.styles?e.styles:lt({});if(i.type==X.Keyframes)r=this.visitKeyframes(i,n);else{let s=e.styles,a=!1;if(!s){a=!0;let l={};o.easing&&(l.easing=o.easing),s=lt(l)}n.currentTime+=o.duration+o.delay;let c=this.visitStyle(s,n);c.isEmptyStep=a,r=c}return n.currentAnimateTimings=null,{type:X.Animate,timings:o,style:r,options:null}}visitStyle(e,n){let o=this._makeStyleAst(e,n);return this._validateStyleAst(o,n),o}_makeStyleAst(e,n){let o=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)typeof a=="string"?a===qt?o.push(a):n.errors.push(Jm(a)):o.push(new Map(Object.entries(a)));let i=!1,s=null;return o.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!i)){for(let c of a.values())if(c.toString().indexOf(sc)>=0){i=!0;break}}}),{type:X.Style,styles:o,easing:s,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,n){let o=n.currentAnimateTimings,r=n.currentTime,i=n.currentTime;o&&i>0&&(i-=o.duration+o.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,c)=>{let l=n.collectedStyles.get(n.currentQuerySelector),d=l.get(c),u=!0;d&&(i!=r&&i>=d.startTime&&r<=d.endTime&&(n.errors.push(Xm(c,d.startTime,d.endTime,i,r)),u=!1),i=d.startTime),u&&l.set(c,{startTime:i,endTime:r}),n.options&&_f(a,n.options,n.errors)})})}visitKeyframes(e,n){let o={type:X.Keyframes,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(Zm()),o;let r=1,i=0,s=[],a=!1,c=!1,l=0,d=e.steps.map(h=>{let v=this._makeStyleAst(h,n),x=v.offset!=null?v.offset:B_(v.styles),P=0;return x!=null&&(i++,P=v.offset=x),c=c||P<0||P>1,a=a||P<l,l=P,s.push(P),v});c&&n.errors.push(ef()),a&&n.errors.push(tf());let u=e.steps.length,p=0;i>0&&i<u?n.errors.push(nf()):i==0&&(p=r/(u-1));let m=u-1,f=n.currentTime,g=n.currentAnimateTimings,C=g.duration;return d.forEach((h,v)=>{let x=p>0?v==m?1:p*v:s[v],P=x*C;n.currentTime=f+g.delay+P,g.duration=P,this._validateStyleAst(h,n),h.offset=x,o.styles.push(h)}),o}visitReference(e,n){return{type:X.Reference,animation:pt(this,Yo(e.animation),n),options:uo(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:X.AnimateChild,options:uo(e.options)}}visitAnimateRef(e,n){return{type:X.AnimateRef,animation:this.visitReference(e.animation,n),options:uo(e.options)}}visitQuery(e,n){let o=n.currentQuerySelector,r=e.options||{};n.queryCount++,n.currentQuery=e;let[i,s]=F_(e.selector);n.currentQuerySelector=o.length?o+" "+i:i,ut(n.collectedStyles,n.currentQuerySelector,new Map);let a=pt(this,Yo(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=o,{type:X.Query,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:uo(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(of());let o=e.timings==="full"?{duration:0,delay:0,easing:"full"}:Dr(e.timings,n.errors,!0);return{type:X.Stagger,animation:pt(this,Yo(e.animation),n),timings:o,options:null}}};function F_(t){let e=!!t.split(/\s*,\s*/).find(n=>n==Mf);return e&&(t=t.replace(U_,"")),t=t.replace(/@\*/g,Ar).replace(/@\w+/g,n=>Ar+"-"+n.slice(1)).replace(/:animating/g,Yi),[t,e]}function L_(t){return t?y({},t):null}var hc=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(e){this.errors=e}};function B_(t){if(typeof t=="string")return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){let o=n;e=parseFloat(o.get("offset")),o.delete("offset")}});else if(t instanceof Map&&t.has("offset")){let n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}function z_(t,e){if(t.hasOwnProperty("duration"))return t;if(typeof t=="number"){let i=Dr(t,e).duration;return dc(i,0,"")}let n=t;if(n.split(/\s+/).some(i=>i.charAt(0)=="{"&&i.charAt(1)=="{")){let i=dc(0,0,"");return i.dynamic=!0,i.strValue=n,i}let r=Dr(n,e);return dc(r.duration,r.delay,r.easing)}function uo(t){return t?(t=y({},t),t.params&&(t.params=L_(t.params))):t={},t}function dc(t,e,n){return{duration:t,delay:e,easing:n}}function Tc(t,e,n,o,r,i,s=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:o,duration:r,delay:i,totalTime:r+i,easing:s,subTimeline:a}}var Or=class{_map=new Map;get(e){return this._map.get(e)||[]}append(e,n){let o=this._map.get(e);o||this._map.set(e,o=[]),o.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}},V_=1,H_=":enter",W_=new RegExp(H_,"g"),K_=":leave",q_=new RegExp(K_,"g");function Uf(t,e,n,o,r,i=new Map,s=new Map,a,c,l=[]){return new yc().buildKeyframes(t,e,n,o,r,i,s,a,c,l)}var yc=class{buildKeyframes(e,n,o,r,i,s,a,c,l,d=[]){l=l||new Or;let u=new Cc(e,n,l,r,i,d,[]);u.options=c;let p=c.delay?un(c.delay):0;u.currentTimeline.delayNextStep(p),u.currentTimeline.setStyles([s],null,u.errors,c),pt(this,o,u);let m=u.timelines.filter(f=>f.containsAnimation());if(m.length&&a.size){let f;for(let g=m.length-1;g>=0;g--){let C=m[g];if(C.element===n){f=C;break}}f&&!f.allowOnlyTimelineStyles()&&f.setStyles([a],null,u.errors,c)}return m.length?m.map(f=>f.buildKeyframes()):[Tc(n,[],[],[],0,p,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){let o=n.subInstructions.get(n.element);if(o){let r=n.createSubContext(e.options),i=n.currentTimeline.currentTime,s=this._visitSubInstructions(o,r,r.options);i!=s&&n.transformIntoNewTimeline(s)}n.previousNode=e}visitAnimateRef(e,n){let o=n.createSubContext(e.options);o.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,o),this.visitReference(e.animation,o),n.transformIntoNewTimeline(o.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,o){for(let r of e){let i=r?.delay;if(i){let s=typeof i=="number"?i:un(Qo(i,r?.params??{},n.errors));o.delayNextStep(s)}}}_visitSubInstructions(e,n,o){let i=n.currentTimeline.currentTime,s=o.duration!=null?un(o.duration):null,a=o.delay!=null?un(o.delay):null;return s!==0&&e.forEach(c=>{let l=n.appendInstructionToTimeline(c,s,a);i=Math.max(i,l.duration+l.delay)}),i}visitReference(e,n){n.updateOptions(e.options,!0),pt(this,e.animation,n),n.previousNode=e}visitSequence(e,n){let o=n.subContextCount,r=n,i=e.options;if(i&&(i.params||i.delay)&&(r=n.createSubContext(i),r.transformIntoNewTimeline(),i.delay!=null)){r.previousNode.type==X.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=rs);let s=un(i.delay);r.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>pt(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>o&&r.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){let o=[],r=n.currentTimeline.currentTime,i=e.options&&e.options.delay?un(e.options.delay):0;e.steps.forEach(s=>{let a=n.createSubContext(e.options);i&&a.delayNextStep(i),pt(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),o.push(a.currentTimeline)}),o.forEach(s=>n.currentTimeline.mergeTimelineCollectedStyles(s)),n.transformIntoNewTimeline(r),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){let o=e.strValue,r=n.params?Qo(o,n.params,n.errors):o;return Dr(r,n.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){let o=n.currentAnimateTimings=this._visitTiming(e.timings,n),r=n.currentTimeline;o.delay&&(n.incrementTime(o.delay),r.snapshotCurrentStyles());let i=e.style;i.type==X.Keyframes?this.visitKeyframes(i,n):(n.incrementTime(o.duration),this.visitStyle(i,n),r.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){let o=n.currentTimeline,r=n.currentAnimateTimings;!r&&o.hasCurrentStyleProperties()&&o.forwardFrame();let i=r&&r.easing||e.easing;e.isEmptyStep?o.applyEmptyStep(i):o.setStyles(e.styles,i,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){let o=n.currentAnimateTimings,r=n.currentTimeline.duration,i=o.duration,a=n.createSubContext().currentTimeline;a.easing=o.easing,e.styles.forEach(c=>{let l=c.offset||0;a.forwardTime(l*i),a.setStyles(c.styles,c.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(r+i),n.previousNode=e}visitQuery(e,n){let o=n.currentTimeline.currentTime,r=e.options||{},i=r.delay?un(r.delay):0;i&&(n.previousNode.type===X.Style||o==0&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=rs);let s=o,a=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,n.errors);n.currentQueryTotal=a.length;let c=null;a.forEach((l,d)=>{n.currentQueryIndex=d;let u=n.createSubContext(e.options,l);i&&u.delayNextStep(i),l===n.element&&(c=u.currentTimeline),pt(this,e.animation,u),u.currentTimeline.applyStylesToKeyframe();let p=u.currentTimeline.currentTime;s=Math.max(s,p)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(s),c&&(n.currentTimeline.mergeTimelineCollectedStyles(c),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){let o=n.parentContext,r=n.currentTimeline,i=e.timings,s=Math.abs(i.duration),a=s*(n.currentQueryTotal-1),c=s*n.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":c=a-c;break;case"full":c=o.currentStaggerTime;break}let d=n.currentTimeline;c&&d.delayNextStep(c);let u=d.currentTime;pt(this,e.animation,n),n.previousNode=e,o.currentStaggerTime=r.currentTime-u+(r.startTime-o.currentTimeline.startTime)}},rs={},Cc=class t{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=rs;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(e,n,o,r,i,s,a,c){this._driver=e,this.element=n,this.subInstructions=o,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=a,this.currentTimeline=c||new is(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;let o=e,r=this.options;o.duration!=null&&(r.duration=un(o.duration)),o.delay!=null&&(r.delay=un(o.delay));let i=o.params;if(i){let s=r.params;s||(s=this.options.params={}),Object.keys(i).forEach(a=>{(!n||!s.hasOwnProperty(a))&&(s[a]=Qo(i[a],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let n=this.options.params;if(n){let o=e.params={};Object.keys(n).forEach(r=>{o[r]=n[r]})}}return e}createSubContext(e=null,n,o){let r=n||this.element,i=new t(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,o||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(e),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(e){return this.previousNode=rs,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,o){let r={duration:n??e.duration,delay:this.currentTimeline.currentTime+(o??0)+e.delay,easing:""},i=new vc(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,o,r,i,s){let a=[];if(r&&a.push(this.element),e.length>0){e=e.replace(W_,"."+this._enterClassName),e=e.replace(q_,"."+this._leaveClassName);let c=o!=1,l=this._driver.query(this.element,e,c);o!==0&&(l=o<0?l.slice(l.length+o,l.length):l.slice(0,o)),a.push(...l)}return!i&&a.length==0&&s.push(rf(n)),a}},is=class t{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(e,n,o,r){this._driver=e,this.element=n,this.startTime=o,this._elementTimelineStylesLookup=r,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let n=this._keyframes.size===1&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=V_,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,o]of this._globalTimelineStyles)this._backFill.set(n,o||qt),this._currentKeyframe.set(n,qt);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,o,r){n&&this._previousKeyframe.set("easing",n);let i=r&&r.params||{},s=j_(e,this._globalTimelineStyles);for(let[a,c]of s){let l=Qo(c,i,o);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??qt),this._updateStyle(a,l)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,o)=>{let r=this._styleSummary.get(o);(!r||n.time>r.time)&&this._updateStyle(o,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,n=new Set,o=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((a,c)=>{let l=new Map([...this._backFill,...a]);l.forEach((d,u)=>{d===br?e.add(u):d===qt&&n.add(u)}),o||l.set("offset",c/this.duration),r.push(l)});let i=[...e.values()],s=[...n.values()];if(o){let a=r[0],c=new Map(a);a.set("offset",0),c.set("offset",1),r=[a,c]}return Tc(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}},vc=class extends is{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(e,n,o,r,i,s,a=!1){super(e,n,s.delay),this.keyframes=o,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:o,easing:r}=this.timings;if(this._stretchStartingKeyframe&&n){let i=[],s=o+n,a=n/s,c=new Map(e[0]);c.set("offset",0),i.push(c);let l=new Map(e[0]);l.set("offset",wf(a)),i.push(l);let d=e.length-1;for(let u=1;u<=d;u++){let p=new Map(e[u]),m=p.get("offset"),f=n+m*o;p.set("offset",wf(f/s)),i.push(p)}o=s,n=0,r="",e=i}return Tc(this.element,e,this.preStyleProps,this.postStyleProps,o,n,r,!0)}};function wf(t,e=3){let n=Math.pow(10,e-1);return Math.round(t*n)/n}function j_(t,e){let n=new Map,o;return t.forEach(r=>{if(r==="*"){o??=e.keys();for(let i of o)n.set(i,qt)}else for(let[i,s]of r)n.set(i,s)}),n}function Tf(t,e,n,o,r,i,s,a,c,l,d,u,p){return{type:0,element:t,triggerName:e,isRemovalTransition:r,fromState:n,fromStyles:i,toState:o,toStyles:s,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:d,totalTime:u,errors:p}}var uc={},ss=class{_triggerName;ast;_stateStyles;constructor(e,n,o){this._triggerName=e,this.ast=n,this._stateStyles=o}match(e,n,o,r){return $_(this.ast.matchers,e,n,o,r)}buildStyles(e,n,o){let r=this._stateStyles.get("*");return e!==void 0&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(n,o):new Map}build(e,n,o,r,i,s,a,c,l,d){let u=[],p=this.ast.options&&this.ast.options.params||uc,m=a&&a.params||uc,f=this.buildStyles(o,m,u),g=c&&c.params||uc,C=this.buildStyles(r,g,u),h=new Set,v=new Map,x=new Map,P=r==="void",k={params:Ff(g,p),delay:this.ast.options?.delay},N=d?[]:Uf(e,n,this.ast.animation,i,s,f,C,k,l,u),w=0;return N.forEach(L=>{w=Math.max(L.duration+L.delay,w)}),u.length?Tf(n,this._triggerName,o,r,P,f,C,[],[],v,x,w,u):(N.forEach(L=>{let q=L.element,Y=ut(v,q,new Set);L.preStyleProps.forEach(re=>Y.add(re));let we=ut(x,q,new Set);L.postStyleProps.forEach(re=>we.add(re)),q!==n&&h.add(q)}),Tf(n,this._triggerName,o,r,P,f,C,N,[...h.values()],v,x,w))}};function $_(t,e,n,o,r){return t.some(i=>i(e,n,o,r))}function Ff(t,e){let n=y({},e);return Object.entries(t).forEach(([o,r])=>{r!=null&&(n[o]=r)}),n}var Sc=class{styles;defaultParams;normalizer;constructor(e,n,o){this.styles=e,this.defaultParams=n,this.normalizer=o}buildStyles(e,n){let o=new Map,r=Ff(e,this.defaultParams);return this.styles.styles.forEach(i=>{typeof i!="string"&&i.forEach((s,a)=>{s&&(s=Qo(s,r,n));let c=this.normalizer.normalizePropertyName(a,n);s=this.normalizer.normalizeStyleValue(a,c,s,n),o.set(a,s)})}),o}};function G_(t,e,n){return new _c(t,e,n)}var _c=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(e,n,o){this.name=e,this.ast=n,this._normalizer=o,n.states.forEach(r=>{let i=r.options&&r.options.params||{};this.states.set(r.name,new Sc(r.style,i,o))}),Pf(this.states,"true","1"),Pf(this.states,"false","0"),n.transitions.forEach(r=>{this.transitionFactories.push(new ss(e,r,this.states))}),this.fallbackTransition=Y_(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,o,r){return this.transitionFactories.find(s=>s.match(e,n,o,r))||null}matchStyles(e,n,o){return this.fallbackTransition.buildStyles(e,n,o)}};function Y_(t,e,n){let o=[(s,a)=>!0],r={type:X.Sequence,steps:[],options:null},i={type:X.Transition,animation:r,matchers:o,options:null,queryCount:0,depCount:0};return new ss(t,i,e)}function Pf(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}var Q_=new Or,Ec=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(e,n,o){this.bodyNode=e,this._driver=n,this._normalizer=o}register(e,n){let o=[],r=[],i=kf(this._driver,n,o,r);if(o.length)throw lf(o);this._animations.set(e,i)}_buildPlayer(e,n,o){let r=e.element,i=nc(this._normalizer,e.keyframes,n,o);return this._driver.animate(r,i,e.duration,e.delay,e.easing,[],!0)}create(e,n,o={}){let r=[],i=this._animations.get(e),s,a=new Map;if(i?(s=Uf(this._driver,n,i,ac,Gi,new Map,new Map,o,Q_,r),s.forEach(d=>{let u=ut(a,d.element,new Map);d.postStyleProps.forEach(p=>u.set(p,null))})):(r.push(df()),s=[]),r.length)throw uf(r);a.forEach((d,u)=>{d.forEach((p,m)=>{d.set(m,this._driver.computeStyle(u,m,qt))})});let c=s.map(d=>{let u=a.get(d.element);return this._buildPlayer(d,new Map,u)}),l=wn(c);return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){let n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);let o=this.players.indexOf(n);o>=0&&this.players.splice(o,1)}_getPlayer(e){let n=this._playersById.get(e);if(!n)throw pf(e);return n}listen(e,n,o,r){let i=ji(n,"","","");return qi(this._getPlayer(e),o,i,r),()=>{}}command(e,n,o,r){if(o=="register"){this.register(e,r[0]);return}if(o=="create"){let s=r[0]||{};this.create(e,n,s);return}let i=this._getPlayer(e);switch(o){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e);break}}},Af="ng-animate-queued",J_=".ng-animate-queued",pc="ng-animate-disabled",X_=".ng-animate-disabled",Z_="ng-star-inserted",e0=".ng-star-inserted",t0=[],Lf={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},n0={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Gt="__ng_removed",Rr=class{namespaceId;value;options;get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;let o=e&&e.hasOwnProperty("value"),r=o?e.value:e;if(this.value=r0(r),o){let i=e,{value:s}=i,a=ii(i,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let n=e.params;if(n){let o=this.options.params;Object.keys(n).forEach(r=>{o[r]==null&&(o[r]=n[r])})}}},Nr="void",mc=new Rr(Nr),Ic=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(e,n,o){this.id=e,this.hostElement=n,this._engine=o,this._hostClassName="ng-tns-"+e,Ut(n,this._hostClassName)}listen(e,n,o,r){if(!this._triggers.has(n))throw mf(o,n);if(o==null||o.length==0)throw ff(n);if(!i0(o))throw gf(o,n);let i=ut(this._elementListeners,e,[]),s={name:n,phase:o,callback:r};i.push(s);let a=ut(this._engine.statesByElement,e,new Map);return a.has(n)||(Ut(e,Pr),Ut(e,Pr+"-"+n),a.set(n,mc)),()=>{this._engine.afterFlush(()=>{let c=i.indexOf(s);c>=0&&i.splice(c,1),this._triggers.has(n)||a.delete(n)})}}register(e,n){return this._triggers.has(e)?!1:(this._triggers.set(e,n),!0)}_getTrigger(e){let n=this._triggers.get(e);if(!n)throw hf(e);return n}trigger(e,n,o,r=!0){let i=this._getTrigger(n),s=new Mr(this.id,n,e),a=this._engine.statesByElement.get(e);a||(Ut(e,Pr),Ut(e,Pr+"-"+n),this._engine.statesByElement.set(e,a=new Map));let c=a.get(n),l=new Rr(o,this.id);if(!(o&&o.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(n,l),c||(c=mc),!(l.value===Nr)&&c.value===l.value){if(!c0(c.params,l.params)){let g=[],C=i.matchStyles(c.value,c.params,g),h=i.matchStyles(l.value,l.params,g);g.length?this._engine.reportError(g):this._engine.afterFlush(()=>{Wn(e,C),$t(e,h)})}return}let p=ut(this._engine.playersByElement,e,[]);p.forEach(g=>{g.namespaceId==this.id&&g.triggerName==n&&g.queued&&g.destroy()});let m=i.matchTransition(c.value,l.value,e,l.params),f=!1;if(!m){if(!r)return;m=i.fallbackTransition,f=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:m,fromState:c,toState:l,player:s,isFallbackTransition:f}),f||(Ut(e,Af),s.onStart(()=>{Jo(e,Af)})),s.onDone(()=>{let g=this.players.indexOf(s);g>=0&&this.players.splice(g,1);let C=this._engine.playersByElement.get(e);if(C){let h=C.indexOf(s);h>=0&&C.splice(h,1)}}),this.players.push(s),p.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,o)=>{this._elementListeners.set(o,n.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let n=this._engine.playersByElement.get(e);n&&(n.forEach(o=>o.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){let o=this._engine.driver.query(e,Ar,!0);o.forEach(r=>{if(r[Gt])return;let i=this._engine.fetchNamespacesByElement(r);i.size?i.forEach(s=>s.triggerLeaveAnimation(r,n,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>o.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,n,o,r){let i=this._engine.statesByElement.get(e),s=new Map;if(i){let a=[];if(i.forEach((c,l)=>{if(s.set(l,c.value),this._triggers.has(l)){let d=this.trigger(e,l,Nr,r);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,s),o&&wn(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let n=this._elementListeners.get(e),o=this._engine.statesByElement.get(e);if(n&&o){let r=new Set;n.forEach(i=>{let s=i.name;if(r.has(s))return;r.add(s);let c=this._triggers.get(s).fallbackTransition,l=o.get(s)||mc,d=new Rr(Nr),u=new Mr(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:l,toState:d,player:u,isFallbackTransition:!0})})}}removeNode(e,n){let o=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let r=!1;if(o.totalAnimations){let i=o.players.length?o.playersByQueriedElement.get(e):[];if(i&&i.length)r=!0;else{let s=e;for(;s=s.parentNode;)if(o.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)o.markElementAsRemoved(this.id,e,!1,n);else{let i=e[Gt];(!i||i===Lf)&&(o.afterFlush(()=>this.clearElementCache(e)),o.destroyInnerAnimations(e),o._onRemovalComplete(e,n))}}insertNode(e,n){Ut(e,this._hostClassName)}drainQueuedTransitions(e){let n=[];return this._queue.forEach(o=>{let r=o.player;if(r.destroyed)return;let i=o.element,s=this._elementListeners.get(i);s&&s.forEach(a=>{if(a.name==o.triggerName){let c=ji(i,o.triggerName,o.fromState.value,o.toState.value);c._data=e,qi(o.player,a.phase,c,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):n.push(o)}),this._queue=[],n.sort((o,r)=>{let i=o.transition.ast.depCount,s=r.transition.ast.depCount;return i==0||s==0?i-s:this._engine.driver.containsElement(o.element,r.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},bc=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(e,n)=>{};_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,o){this.bodyNode=e,this.driver=n,this._normalizer=o}get queuedPlayers(){let e=[];return this._namespaceList.forEach(n=>{n.players.forEach(o=>{o.queued&&e.push(o)})}),e}createNamespace(e,n){let o=new Ic(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(o,n):(this.newHostElements.set(n,o),this.collectEnterElement(n)),this._namespaceLookup[e]=o}_balanceNamespaceList(e,n){let o=this._namespaceList,r=this.namespacesByHostElement;if(o.length-1>=0){let s=!1,a=this.driver.getParentElement(n);for(;a;){let c=r.get(a);if(c){let l=o.indexOf(c);o.splice(l+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||o.unshift(e)}else o.push(e);return r.set(n,e),e}register(e,n){let o=this._namespaceLookup[e];return o||(o=this.createNamespace(e,n)),o}registerTrigger(e,n,o){let r=this._namespaceLookup[e];r&&r.register(n,o)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let o=this._fetchNamespace(e);this.namespacesByHostElement.delete(o.hostElement);let r=this._namespaceList.indexOf(o);r>=0&&this._namespaceList.splice(r,1),o.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let n=new Set,o=this.statesByElement.get(e);if(o){for(let r of o.values())if(r.namespaceId){let i=this._fetchNamespace(r.namespaceId);i&&n.add(i)}}return n}trigger(e,n,o,r){if(es(n)){let i=this._fetchNamespace(e);if(i)return i.trigger(n,o,r),!0}return!1}insertNode(e,n,o,r){if(!es(n))return;let i=n[Gt];if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;let s=this.collectedLeaveElements.indexOf(n);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(n,o)}r&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ut(e,pc)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Jo(e,pc))}removeNode(e,n,o){if(es(n)){let r=e?this._fetchNamespace(e):null;r?r.removeNode(n,o):this.markElementAsRemoved(e,n,!1,o);let i=this.namespacesByHostElement.get(n);i&&i.id!==e&&i.removeNode(n,o)}else this._onRemovalComplete(n,o)}markElementAsRemoved(e,n,o,r,i){this.collectedLeaveElements.push(n),n[Gt]={namespaceId:e,setForRemoval:r,hasAnimation:o,removedBeforeQueried:!1,previousTriggersValues:i}}listen(e,n,o,r,i){return es(n)?this._fetchNamespace(e).listen(n,o,r,i):()=>{}}_buildInstruction(e,n,o,r,i){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,o,r,e.fromState.options,e.toState.options,n,i)}destroyInnerAnimations(e){let n=this.driver.query(e,Ar,!0);n.forEach(o=>this.destroyActiveAnimationsForElement(o)),this.playersByQueriedElement.size!=0&&(n=this.driver.query(e,Yi,!0),n.forEach(o=>this.finishActiveQueriedAnimationOnElement(o)))}destroyActiveAnimationsForElement(e){let n=this.playersByElement.get(e);n&&n.forEach(o=>{o.queued?o.markedForDestroy=!0:o.destroy()})}finishActiveQueriedAnimationOnElement(e){let n=this.playersByQueriedElement.get(e);n&&n.forEach(o=>o.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return wn(this.players).onDone(()=>e());e()})}processLeaveNode(e){let n=e[Gt];if(n&&n.setForRemoval){if(e[Gt]=Lf,n.namespaceId){this.destroyInnerAnimations(e);let o=this._fetchNamespace(n.namespaceId);o&&o.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(pc)&&this.markElementAsDisabled(e,!1),this.driver.query(e,X_,!0).forEach(o=>{this.markElementAsDisabled(o,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((o,r)=>this._balanceNamespaceList(o,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let o=0;o<this.collectedEnterElements.length;o++){let r=this.collectedEnterElements[o];Ut(r,Z_)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let o=[];try{n=this._flushAnimations(o,e)}finally{for(let r=0;r<o.length;r++)o[r]()}}else for(let o=0;o<this.collectedLeaveElements.length;o++){let r=this.collectedLeaveElements[o];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(o=>o()),this._flushFns=[],this._whenQuietFns.length){let o=this._whenQuietFns;this._whenQuietFns=[],n.length?wn(n).onDone(()=>{o.forEach(r=>r())}):o.forEach(r=>r())}}reportError(e){throw yf(e)}_flushAnimations(e,n){let o=new Or,r=[],i=new Map,s=[],a=new Map,c=new Map,l=new Map,d=new Set;this.disabledNodes.forEach(R=>{d.add(R);let M=this.driver.query(R,J_,!0);for(let B=0;B<M.length;B++)d.add(M[B])});let u=this.bodyNode,p=Array.from(this.statesByElement.keys()),m=Of(p,this.collectedEnterElements),f=new Map,g=0;m.forEach((R,M)=>{let B=ac+g++;f.set(M,B),R.forEach(Q=>Ut(Q,B))});let C=[],h=new Set,v=new Set;for(let R=0;R<this.collectedLeaveElements.length;R++){let M=this.collectedLeaveElements[R],B=M[Gt];B&&B.setForRemoval&&(C.push(M),h.add(M),B.hasAnimation?this.driver.query(M,e0,!0).forEach(Q=>h.add(Q)):v.add(M))}let x=new Map,P=Of(p,Array.from(h));P.forEach((R,M)=>{let B=Gi+g++;x.set(M,B),R.forEach(Q=>Ut(Q,B))}),e.push(()=>{m.forEach((R,M)=>{let B=f.get(M);R.forEach(Q=>Jo(Q,B))}),P.forEach((R,M)=>{let B=x.get(M);R.forEach(Q=>Jo(Q,B))}),C.forEach(R=>{this.processLeaveNode(R)})});let k=[],N=[];for(let R=this._namespaceList.length-1;R>=0;R--)this._namespaceList[R].drainQueuedTransitions(n).forEach(B=>{let Q=B.player,Ie=B.element;if(k.push(Q),this.collectedEnterElements.length){let We=Ie[Gt];if(We&&We.setForMove){if(We.previousTriggersValues&&We.previousTriggersValues.has(B.triggerName)){let on=We.previousTriggersValues.get(B.triggerName),tt=this.statesByElement.get(B.element);if(tt&&tt.has(B.triggerName)){let ri=tt.get(B.triggerName);ri.value=on,tt.set(B.triggerName,ri)}}Q.destroy();return}}let yt=!u||!this.driver.containsElement(u,Ie),et=x.get(Ie),tn=f.get(Ie),G=this._buildInstruction(B,o,tn,et,yt);if(G.errors&&G.errors.length){N.push(G);return}if(yt){Q.onStart(()=>Wn(Ie,G.fromStyles)),Q.onDestroy(()=>$t(Ie,G.toStyles)),r.push(Q);return}if(B.isFallbackTransition){Q.onStart(()=>Wn(Ie,G.fromStyles)),Q.onDestroy(()=>$t(Ie,G.toStyles)),r.push(Q);return}let nn=[];G.timelines.forEach(We=>{We.stretchStartingKeyframe=!0,this.disabledNodes.has(We.element)||nn.push(We)}),G.timelines=nn,o.append(Ie,G.timelines);let ma={instruction:G,player:Q,element:Ie};s.push(ma),G.queriedElements.forEach(We=>ut(a,We,[]).push(Q)),G.preStyleProps.forEach((We,on)=>{if(We.size){let tt=c.get(on);tt||c.set(on,tt=new Set),We.forEach((ri,fa)=>tt.add(fa))}}),G.postStyleProps.forEach((We,on)=>{let tt=l.get(on);tt||l.set(on,tt=new Set),We.forEach((ri,fa)=>tt.add(fa))})});if(N.length){let R=[];N.forEach(M=>{R.push(Cf(M.triggerName,M.errors))}),k.forEach(M=>M.destroy()),this.reportError(R)}let w=new Map,L=new Map;s.forEach(R=>{let M=R.element;o.has(M)&&(L.set(M,M),this._beforeAnimationBuild(R.player.namespaceId,R.instruction,w))}),r.forEach(R=>{let M=R.element;this._getPreviousPlayers(M,!1,R.namespaceId,R.triggerName,null).forEach(Q=>{ut(w,M,[]).push(Q),Q.destroy()})});let q=C.filter(R=>Rf(R,c,l)),Y=new Map;Nf(Y,this.driver,v,l,qt).forEach(R=>{Rf(R,c,l)&&q.push(R)});let re=new Map;m.forEach((R,M)=>{Nf(re,this.driver,new Set(R),c,br)}),q.forEach(R=>{let M=Y.get(R),B=re.get(R);Y.set(R,new Map([...M?.entries()??[],...B?.entries()??[]]))});let ne=[],$e=[],ht={};s.forEach(R=>{let{element:M,player:B,instruction:Q}=R;if(o.has(M)){if(d.has(M)){B.onDestroy(()=>$t(M,Q.toStyles)),B.disabled=!0,B.overrideTotalTime(Q.totalTime),r.push(B);return}let Ie=ht;if(L.size>1){let et=M,tn=[];for(;et=et.parentNode;){let G=L.get(et);if(G){Ie=G;break}tn.push(et)}tn.forEach(G=>L.set(G,Ie))}let yt=this._buildAnimation(B.namespaceId,Q,w,i,re,Y);if(B.setRealPlayer(yt),Ie===ht)ne.push(B);else{let et=this.playersByElement.get(Ie);et&&et.length&&(B.parentPlayer=wn(et)),r.push(B)}}else Wn(M,Q.fromStyles),B.onDestroy(()=>$t(M,Q.toStyles)),$e.push(B),d.has(M)&&r.push(B)}),$e.forEach(R=>{let M=i.get(R.element);if(M&&M.length){let B=wn(M);R.setRealPlayer(B)}}),r.forEach(R=>{R.parentPlayer?R.syncPlayerEvents(R.parentPlayer):R.destroy()});for(let R=0;R<C.length;R++){let M=C[R],B=M[Gt];if(Jo(M,Gi),B&&B.hasAnimation)continue;let Q=[];if(a.size){let yt=a.get(M);yt&&yt.length&&Q.push(...yt);let et=this.driver.query(M,Yi,!0);for(let tn=0;tn<et.length;tn++){let G=a.get(et[tn]);G&&G.length&&Q.push(...G)}}let Ie=Q.filter(yt=>!yt.destroyed);Ie.length?s0(this,M,Ie):this.processLeaveNode(M)}return C.length=0,ne.forEach(R=>{this.players.push(R),R.onDone(()=>{R.destroy();let M=this.players.indexOf(R);this.players.splice(M,1)}),R.play()}),ne}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,o,r,i){let s=[];if(n){let a=this.playersByQueriedElement.get(e);a&&(s=a)}else{let a=this.playersByElement.get(e);if(a){let c=!i||i==Nr;a.forEach(l=>{l.queued||!c&&l.triggerName!=r||s.push(l)})}}return(o||r)&&(s=s.filter(a=>!(o&&o!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(e,n,o){let r=n.triggerName,i=n.element,s=n.isRemovalTransition?void 0:e,a=n.isRemovalTransition?void 0:r;for(let c of n.timelines){let l=c.element,d=l!==i,u=ut(o,l,[]);this._getPreviousPlayers(l,d,s,a,n.toState).forEach(m=>{let f=m.getRealPlayer();f.beforeDestroy&&f.beforeDestroy(),m.destroy(),u.push(m)})}Wn(i,n.fromStyles)}_buildAnimation(e,n,o,r,i,s){let a=n.triggerName,c=n.element,l=[],d=new Set,u=new Set,p=n.timelines.map(f=>{let g=f.element;d.add(g);let C=g[Gt];if(C&&C.removedBeforeQueried)return new oo(f.duration,f.delay);let h=g!==c,v=a0((o.get(g)||t0).map(w=>w.getRealPlayer())).filter(w=>{let L=w;return L.element?L.element===g:!1}),x=i.get(g),P=s.get(g),k=nc(this._normalizer,f.keyframes,x,P),N=this._buildPlayer(f,k,v);if(f.subTimeline&&r&&u.add(g),h){let w=new Mr(e,a,g);w.setRealPlayer(N),l.push(w)}return N});l.forEach(f=>{ut(this.playersByQueriedElement,f.element,[]).push(f),f.onDone(()=>o0(this.playersByQueriedElement,f.element,f))}),d.forEach(f=>Ut(f,cc));let m=wn(p);return m.onDestroy(()=>{d.forEach(f=>Jo(f,cc)),$t(c,n.toStyles)}),u.forEach(f=>{ut(r,f,[]).push(m)}),m}_buildPlayer(e,n,o){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,o):new oo(e.duration,e.delay)}},Mr=class{namespaceId;triggerName;element;_player=new oo;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(e,n,o){this.namespaceId=e,this.triggerName=n,this.element=o}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,o)=>{n.forEach(r=>qi(e,o,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){ut(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let n=this._player;n.triggerCallback&&n.triggerCallback(e)}};function o0(t,e,n){let o=t.get(e);if(o){if(o.length){let r=o.indexOf(n);o.splice(r,1)}o.length==0&&t.delete(e)}return o}function r0(t){return t??null}function es(t){return t&&t.nodeType===1}function i0(t){return t=="start"||t=="done"}function Df(t,e){let n=t.style.display;return t.style.display=e??"none",n}function Nf(t,e,n,o,r){let i=[];n.forEach(c=>i.push(Df(c)));let s=[];o.forEach((c,l)=>{let d=new Map;c.forEach(u=>{let p=e.computeStyle(l,u,r);d.set(u,p),(!p||p.length==0)&&(l[Gt]=n0,s.push(l))}),t.set(l,d)});let a=0;return n.forEach(c=>Df(c,i[a++])),s}function Of(t,e){let n=new Map;if(t.forEach(a=>n.set(a,[])),e.length==0)return n;let o=1,r=new Set(e),i=new Map;function s(a){if(!a)return o;let c=i.get(a);if(c)return c;let l=a.parentNode;return n.has(l)?c=l:r.has(l)?c=o:c=s(l),i.set(a,c),c}return e.forEach(a=>{let c=s(a);c!==o&&n.get(c).push(a)}),n}function Ut(t,e){t.classList?.add(e)}function Jo(t,e){t.classList?.remove(e)}function s0(t,e,n){wn(n).onDone(()=>t.processLeaveNode(e))}function a0(t){let e=[];return Bf(t,e),e}function Bf(t,e){for(let n=0;n<t.length;n++){let o=t[n];o instanceof vi?Bf(o.players,e):e.push(o)}}function c0(t,e){let n=Object.keys(t),o=Object.keys(e);if(n.length!=o.length)return!1;for(let r=0;r<n.length;r++){let i=n[r];if(!e.hasOwnProperty(i)||t[i]!==e[i])return!1}return!0}function Rf(t,e,n){let o=n.get(t);if(!o)return!1;let r=e.get(t);return r?o.forEach(i=>r.add(i)):e.set(t,o),n.delete(t),!0}var Xo=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(e,n)=>{};constructor(e,n,o){this._driver=n,this._normalizer=o,this._transitionEngine=new bc(e.body,n,o),this._timelineEngine=new Ec(e.body,n,o),this._transitionEngine.onRemovalComplete=(r,i)=>this.onRemovalComplete(r,i)}registerTrigger(e,n,o,r,i){let s=e+"-"+r,a=this._triggerCache[s];if(!a){let c=[],l=[],d=kf(this._driver,i,c,l);if(c.length)throw cf(r,c);a=G_(r,d,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(n,r,a)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,o,r){this._transitionEngine.insertNode(e,n,o,r)}onRemove(e,n,o){this._transitionEngine.removeNode(e,n,o)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,o,r){if(o.charAt(0)=="@"){let[i,s]=oc(o),a=r;this._timelineEngine.command(i,n,s,a)}else this._transitionEngine.trigger(e,n,o,r)}listen(e,n,o,r,i){if(o.charAt(0)=="@"){let[s,a]=oc(o);return this._timelineEngine.listen(s,n,a,i)}return this._transitionEngine.listen(e,n,o,r,i)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function l0(t,e){let n=null,o=null;return Array.isArray(e)&&e.length?(n=fc(e[0]),e.length>1&&(o=fc(e[e.length-1]))):e instanceof Map&&(n=fc(e)),n||o?new d0(t,n,o):null}var d0=(()=>{class t{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(n,o,r){this._element=n,this._startStyles=o,this._endStyles=r;let i=t.initialStylesByElement.get(n);i||t.initialStylesByElement.set(n,i=new Map),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&$t(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&($t(this._element,this._initialStyles),this._endStyles&&($t(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(Wn(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Wn(this._element,this._endStyles),this._endStyles=null),$t(this._element,this._initialStyles),this._state=3)}}return t})();function fc(t){let e=null;return t.forEach((n,o)=>{u0(o)&&(e=e||new Map,e.set(o,n))}),e}function u0(t){return t==="display"||t==="position"}var as=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(e,n,o,r){this.element=e,this.keyframes=n,this.options=o,this._specialStyles=r,this._duration=o.duration,this._delay=o.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let n=[];return e.forEach(o=>{n.push(Object.fromEntries(o))}),n}_triggerWebAnimation(e,n,o){return e.animate(this._convertKeyframesToObject(n),o)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((o,r)=>{r!=="offset"&&e.set(r,this._finished?o:Ji(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){let n=e==="start"?this._onStartFns:this._onDoneFns;n.forEach(o=>o()),n.length=0}},cs=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,n){return rc(e,n)}getParentElement(e){return $i(e)}query(e,n,o){return ic(e,n,o)}computeStyle(e,n,o){return Ji(e,n)}animate(e,n,o,r,i,s=[]){let a=r==0?"both":"forwards",c={duration:o,delay:r,fill:a};i&&(c.easing=i);let l=new Map,d=s.filter(m=>m instanceof as);Ef(o,r)&&d.forEach(m=>{m.currentSnapshot.forEach((f,g)=>l.set(g,f))});let u=Sf(n).map(m=>new Map(m));u=If(e,u,l);let p=l0(e,u);return new as(e,u,c,p)}};var ts="@",zf="@.disabled",ls=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(e,n,o,r){this.namespaceId=e,this.delegate=n,this.engine=o,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,o,r=!0){this.delegate.insertBefore(e,n,o),this.engine.onInsert(this.namespaceId,n,e,r)}removeChild(e,n,o){this.parentNode(n)&&this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,o,r){this.delegate.setAttribute(e,n,o,r)}removeAttribute(e,n,o){this.delegate.removeAttribute(e,n,o)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,o,r){this.delegate.setStyle(e,n,o,r)}removeStyle(e,n,o){this.delegate.removeStyle(e,n,o)}setProperty(e,n,o){n.charAt(0)==ts&&n==zf?this.disableAnimations(e,!!o):this.delegate.setProperty(e,n,o)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,o,r){return this.delegate.listen(e,n,o,r)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}},xc=class extends ls{factory;constructor(e,n,o,r,i){super(n,o,r,i),this.factory=e,this.namespaceId=n}setProperty(e,n,o){n.charAt(0)==ts?n.charAt(1)=="."&&n==zf?(o=o===void 0?!0:!!o,this.disableAnimations(e,o)):this.engine.process(this.namespaceId,e,n.slice(1),o):this.delegate.setProperty(e,n,o)}listen(e,n,o,r){if(n.charAt(0)==ts){let i=p0(e),s=n.slice(1),a="";return s.charAt(0)!=ts&&([s,a]=m0(s)),this.engine.listen(this.namespaceId,i,s,a,c=>{let l=c._data||-1;this.factory.scheduleListenerCallback(l,o,c)})}return this.delegate.listen(e,n,o,r)}};function p0(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}function m0(t){let e=t.indexOf("."),n=t.substring(0,e),o=t.slice(e+1);return[n,o]}var ds=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(e,n,o){this.delegate=e,this.engine=n,this._zone=o,n.onRemovalComplete=(r,i)=>{i?.removeChild(null,r)}}createRenderer(e,n){let r=this.delegate.createRenderer(e,n);if(!e||!n?.data?.animation){let l=this._rendererCache,d=l.get(r);if(!d){let u=()=>l.delete(r);d=new ls("",r,this.engine,u),l.set(r,d)}return d}let i=n.id,s=n.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let a=l=>{Array.isArray(l)?l.forEach(a):this.engine.registerTrigger(i,s,e,l.name,l)};return n.data.animation.forEach(a),new xc(this,s,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,n,o){if(e>=0&&e<this._microtaskId){this._zone.run(()=>n(o));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(i=>{let[s,a]=i;s(a)}),this._animationCallbacksBuffer=[]})}),r.push([n,o])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(e){this.engine.flush(),this.delegate.componentReplaced?.(e)}};var g0=(()=>{class t extends Xo{constructor(n,o,r){super(n,o,r)}ngOnDestroy(){this.flush()}static \u0275fac=function(o){return new(o||t)(li(Ze),li(po),li(mo))};static \u0275prov=sn({token:t,factory:t.\u0275fac})}return t})();function h0(){return new ns}function y0(t,e,n){return new ds(t,e,n)}var Vf=[{provide:mo,useFactory:h0},{provide:Xo,useClass:g0},{provide:zl,useFactory:y0,deps:[cd,Xo,Pt]}],SO=[{provide:po,useClass:wc},{provide:ha,useValue:"NoopAnimations"},...Vf],C0=[{provide:po,useFactory:()=>new cs},{provide:ha,useFactory:()=>"BrowserAnimations"},...Vf];function Hf(){return Vl("NgEagerAnimations"),[...C0]}var Wf="Logging",Pc="x-amz-user-agent",Kf="NoHubcallbackProvidedException";var It=(function(t){return t.DEBUG="DEBUG",t.ERROR="ERROR",t.INFO="INFO",t.WARN="WARN",t.VERBOSE="VERBOSE",t.NONE="NONE",t})(It||{});var qf={VERBOSE:1,DEBUG:2,INFO:3,WARN:4,ERROR:5,NONE:6},ye=(()=>{class t{constructor(n,o=It.WARN){this.name=n,this.level=o,this._pluggables=[]}_padding(n){return n<10?"0"+n:""+n}_ts(){let n=new Date;return[this._padding(n.getMinutes()),this._padding(n.getSeconds())].join(":")+"."+n.getMilliseconds()}configure(n){return n?(this._config=n,this._config):this._config}_log(n,...o){let r=this.level;t.LOG_LEVEL&&(r=t.LOG_LEVEL),typeof window<"u"&&window.LOG_LEVEL&&(r=window.LOG_LEVEL);let i=qf[r];if(!(qf[n]>=i))return;let a=console.log.bind(console);n===It.ERROR&&console.error&&(a=console.error.bind(console)),n===It.WARN&&console.warn&&(a=console.warn.bind(console)),t.BIND_ALL_LOG_LEVELS&&(n===It.INFO&&console.info&&(a=console.info.bind(console)),n===It.DEBUG&&console.debug&&(a=console.debug.bind(console)));let c=`[${n}] ${this._ts()} ${this.name}`,l="";if(o.length===1&&typeof o[0]=="string")l=`${c} - ${o[0]}`,a(l);else if(o.length===1)l=`${c} ${o[0]}`,a(c,o[0]);else if(typeof o[0]=="string"){let d=o.slice(1);d.length===1&&(d=d[0]),l=`${c} - ${o[0]} ${d}`,a(`${c} - ${o[0]}`,d)}else l=`${c} ${o}`,a(c,o);for(let d of this._pluggables){let u={message:l,timestamp:Date.now()};d.pushLogs([u])}}log(...n){this._log(It.INFO,...n)}info(...n){this._log(It.INFO,...n)}warn(...n){this._log(It.WARN,...n)}error(...n){this._log(It.ERROR,...n)}debug(...n){this._log(It.DEBUG,...n)}verbose(...n){this._log(It.VERBOSE,...n)}addPluggable(n){n&&n.getCategoryName()===Wf&&(this._pluggables.push(n),n.configure(this._config))}listPluggables(){return this._pluggables}}return t.LOG_LEVEL=null,t.BIND_ALL_LOG_LEVELS=!1,t})();var Ae=class t extends Error{constructor({message:e,name:n,recoverySuggestion:o,underlyingError:r,metadata:i}){if(super(e),this.name=n,this.underlyingError=r,this.recoverySuggestion=o,i){let{extendedRequestId:s,httpStatusCode:a,requestId:c}=i;this.metadata={extendedRequestId:s,httpStatusCode:a,requestId:c}}this.constructor=t,Object.setPrototypeOf(this,t.prototype)}};var mt=(function(t){return t.NoEndpointId="NoEndpointId",t.PlatformNotSupported="PlatformNotSupported",t.Unknown="Unknown",t.NetworkError="NetworkError",t})(mt||{});var Yt=(t,e=Ae)=>(n,o,r)=>{let{message:i,recoverySuggestion:s}=t[o];if(!n)throw new e({name:o,message:r?`${i} ${r}`:i,recoverySuggestion:s})};var qe=typeof Symbol<"u"?Symbol("amplify_default"):"@@amplify_default",kr=new ye("Hub"),us=class{constructor(e){this.listeners=new Map,this.protectedChannels=["core","auth","api","analytics","interactions","pubsub","storage","ui","xr"],this.name=e}_remove(e,n){let o=this.listeners.get(e);if(!o){kr.warn(`No listeners for ${e}`);return}this.listeners.set(e,[...o.filter(({callback:r})=>r!==n)])}dispatch(e,n,o,r){typeof e=="string"&&this.protectedChannels.indexOf(e)>-1&&(r===qe||kr.warn(`WARNING: ${e} is protected and dispatching on it can have unintended consequences`));let i={channel:e,payload:y({},n),source:o,patternInfo:[]};try{this._toListeners(i)}catch(s){kr.error(s)}}listen(e,n,o="noname"){let r;if(typeof n!="function")throw new Ae({name:Kf,message:"No callback supplied to Hub"});r=n;let i=this.listeners.get(e);return i||(i=[],this.listeners.set(e,i)),i.push({name:o,callback:r}),()=>{this._remove(e,r)}}_toListeners(e){let{channel:n,payload:o}=e,r=this.listeners.get(n);r&&r.forEach(i=>{kr.debug(`Dispatching to ${n} with `,o);try{i.callback(e)}catch(s){kr.error(s)}})}},ze=new us("__default__"),fo=new us("internal-hub");var go=()=>{if(typeof window=="object"&&typeof window.crypto=="object")return window.crypto;if(typeof crypto=="object")return crypto;throw new Ae({name:"MissingPolyfill",message:"Cannot resolve the `crypto` function from the environment."})},jf=()=>{if(typeof window<"u"&&typeof window.btoa=="function")return window.btoa;if(typeof btoa=="function")return btoa;throw new Ae({name:"Base64EncoderError",message:"Cannot resolve the `btoa` function from the environment."})},$f=()=>{if(typeof window<"u"&&typeof window.atob=="function")return window.atob;if(typeof atob=="function")return atob;throw new Ae({name:"Base64EncoderError",message:"Cannot resolve the `atob` function from the environment."})};var ho={convert(t,e){let n=t;return e?.urlSafe&&(n=n.replace(/-/g,"+").replace(/_/g,"/")),$f()(n)}};var pn=(function(t){return t.AuthTokenConfigException="AuthTokenConfigException",t.AuthUserPoolAndIdentityPoolException="AuthUserPoolAndIdentityPoolException",t.AuthUserPoolException="AuthUserPoolException",t.InvalidIdentityPoolIdException="InvalidIdentityPoolIdException",t.OAuthNotConfigureException="OAuthNotConfigureException",t})(pn||{}),v0={[pn.AuthTokenConfigException]:{message:"Auth Token Provider not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app."},[pn.AuthUserPoolAndIdentityPoolException]:{message:"Auth UserPool or IdentityPool not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app with UserPoolId and IdentityPoolId."},[pn.AuthUserPoolException]:{message:"Auth UserPool not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app with userPoolId and userPoolClientId."},[pn.InvalidIdentityPoolIdException]:{message:"Invalid identity pool id provided.",recoverySuggestion:"Make sure a valid identityPoolId is given in the config."},[pn.OAuthNotConfigureException]:{message:"oauth param not configured.",recoverySuggestion:"Make sure to call Amplify.configure with oauth parameter in your app."}},ps=Yt(v0);function V(t){let e=!0;t?e=!!t.userPoolId&&!!t.userPoolClientId:e=!1,ps(e,pn.AuthUserPoolException)}function Tn(t){let e=!!t?.loginWith?.oauth?.domain&&!!t?.loginWith?.oauth?.redirectSignOut&&!!t?.loginWith?.oauth?.redirectSignIn&&!!t?.loginWith?.oauth?.responseType;ps(e,pn.OAuthNotConfigureException)}function yo(t){let e=!!t?.identityPoolId;ps(e,pn.InvalidIdentityPoolIdException)}function Ye(t){let e=t.split(".");if(e.length!==3)throw new Error("Invalid token");try{let o=e[1].replace(/-/g,"+").replace(/_/g,"/"),r=decodeURIComponent(ho.convert(o).split("").map(s=>`%${`00${s.charCodeAt(0).toString(16)}`.slice(-2)}`).join("")),i=JSON.parse(r);return{toString:()=>t,payload:i}}catch{throw new Error("Invalid token payload")}}var Ac=t=>{let e=Reflect.ownKeys(t);for(let n of e){let o=t[n];(o&&typeof o=="object"||typeof o=="function")&&Ac(o)}return Object.freeze(t)};var S0=new ye("parseAWSExports"),_0={API_KEY:"apiKey",AWS_IAM:"iam",AMAZON_COGNITO_USER_POOLS:"userPool",OPENID_CONNECT:"oidc",NONE:"none",AWS_LAMBDA:"lambda",LAMBDA:"lambda"},Yf=(t={})=>{if(!Object.prototype.hasOwnProperty.call(t,"aws_project_region"))throw new Ae({name:"InvalidParameterException",message:"Invalid config parameter.",recoverySuggestion:"Ensure passing the config object imported from  `amplifyconfiguration.json`."});let{aws_appsync_apiKey:e,aws_appsync_authenticationType:n,aws_appsync_graphqlEndpoint:o,aws_appsync_region:r,aws_bots_config:i,aws_cognito_identity_pool_id:s,aws_cognito_sign_up_verification_method:a,aws_cognito_mfa_configuration:c,aws_cognito_mfa_types:l,aws_cognito_password_protection_settings:d,aws_cognito_verification_mechanisms:u,aws_cognito_signup_attributes:p,aws_cognito_social_providers:m,aws_cognito_username_attributes:f,aws_mandatory_sign_in:g,aws_mobile_analytics_app_id:C,aws_mobile_analytics_app_region:h,aws_user_files_s3_bucket:v,aws_user_files_s3_bucket_region:x,aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing:P,aws_user_pools_id:k,aws_user_pools_web_client_id:N,geo:w,oauth:L,predictions:q,aws_cloud_logic_custom:Y,Notifications:we,modelIntrospection:re}=t,ne={};C&&(ne.Analytics={Pinpoint:{appId:C,region:h}});let{InAppMessaging:$e,Push:ht}=we??{};if($e?.AWSPinpoint||ht?.AWSPinpoint){if($e?.AWSPinpoint){let{appId:G,region:nn}=$e.AWSPinpoint;ne.Notifications={InAppMessaging:{Pinpoint:{appId:G,region:nn}}}}if(ht?.AWSPinpoint){let{appId:G,region:nn}=ht.AWSPinpoint;ne.Notifications=U(y({},ne.Notifications),{PushNotification:{Pinpoint:{appId:G,region:nn}}})}}if(Array.isArray(i)&&(ne.Interactions={LexV1:Object.fromEntries(i.map(G=>[G.name,G]))}),o){let G=_0[n];G||S0.debug(`Invalid authentication type ${n}. Falling back to IAM.`),ne.API={GraphQL:{endpoint:o,apiKey:e,region:r,defaultAuthMode:G??"iam"}},re&&(ne.API.GraphQL.modelIntrospection=re)}let R=c?{status:c&&c.toLowerCase(),totpEnabled:l?.includes("TOTP")??!1,smsEnabled:l?.includes("SMS")??!1}:void 0,M=d?{minLength:d.passwordPolicyMinLength,requireLowercase:d.passwordPolicyCharacters?.includes("REQUIRES_LOWERCASE")??!1,requireUppercase:d.passwordPolicyCharacters?.includes("REQUIRES_UPPERCASE")??!1,requireNumbers:d.passwordPolicyCharacters?.includes("REQUIRES_NUMBERS")??!1,requireSpecialCharacters:d.passwordPolicyCharacters?.includes("REQUIRES_SYMBOLS")??!1}:void 0,Q=Array.from(new Set([...u??[],...p??[]])).reduce((G,nn)=>U(y({},G),{[nn.toLowerCase()]:{required:!0}}),{}),Ie=f?.includes("EMAIL")??!1,yt=f?.includes("PHONE_NUMBER")??!1;(s||k)&&(ne.Auth={Cognito:{identityPoolId:s,allowGuestAccess:g!=="enable",signUpVerificationMethod:a,userAttributes:Q,userPoolClientId:N,userPoolId:k,mfa:R,passwordFormat:M,loginWith:{username:!(Ie||yt),email:Ie,phone:yt}}});let et=L?Object.keys(L).length>0:!1,tn=m?m.length>0:!1;if(ne.Auth&&et&&(ne.Auth.Cognito.loginWith=U(y({},ne.Auth.Cognito.loginWith),{oauth:y(y({},E0(L)),tn&&{providers:I0(m)})})),v&&(ne.Storage={S3:{bucket:v,region:x,dangerouslyConnectToHttpEndpointForTesting:P}}),w){let{amazon_location_service:G}=w;ne.Geo={LocationService:{maps:G.maps,geofenceCollections:G.geofenceCollections,searchIndices:G.search_indices,region:G.region}}}if(Y&&(ne.API=U(y({},ne.API),{REST:Y.reduce((G,nn)=>{let{name:ma,endpoint:We,region:on,service:tt}=nn;return U(y({},G),{[ma]:y(y({endpoint:We},tt?{service:tt}:void 0),on?{region:on}:void 0)})},{})})),q){let{VoiceId:G}=q?.convert?.speechGenerator?.defaults??{};ne.Predictions=G?U(y({},q),{convert:U(y({},q.convert),{speechGenerator:U(y({},q.convert.speechGenerator),{defaults:{voiceId:G}})})}):q}return ne},Gf=t=>t?.split(",")??[],E0=({domain:t,scope:e,redirectSignIn:n,redirectSignOut:o,responseType:r})=>({domain:t,scopes:e,redirectSignIn:Gf(n),redirectSignOut:Gf(o),responseType:r}),I0=t=>t.map(e=>{let n=e.toLowerCase();return n.charAt(0).toUpperCase()+n.slice(1)});var Ur=Symbol("oauth-listener");var Qe=[];for(let t=0;t<256;++t)Qe.push((t+256).toString(16).slice(1));function Qf(t,e=0){return(Qe[t[e+0]]+Qe[t[e+1]]+Qe[t[e+2]]+Qe[t[e+3]]+"-"+Qe[t[e+4]]+Qe[t[e+5]]+"-"+Qe[t[e+6]]+Qe[t[e+7]]+"-"+Qe[t[e+8]]+Qe[t[e+9]]+"-"+Qe[t[e+10]]+Qe[t[e+11]]+Qe[t[e+12]]+Qe[t[e+13]]+Qe[t[e+14]]+Qe[t[e+15]]).toLowerCase()}var Dc,b0=new Uint8Array(16);function Nc(){if(!Dc){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Dc=crypto.getRandomValues.bind(crypto)}return Dc(b0)}var x0=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Oc={randomUUID:x0};function w0(t,e,n){if(Oc.randomUUID&&!e&&!t)return Oc.randomUUID();t=t||{};let o=t.random??t.rng?.()??Nc();if(o.length<16)throw new Error("Random bytes length must be >= 16");if(o[6]=o[6]&15|64,o[8]=o[8]&63|128,e){if(n=n||0,n<0||n+16>e.length)throw new RangeError(`UUID byte range ${n}:${n+15} is out of buffer bounds`);for(let r=0;r<16;++r)e[n+r]=o[r];return e}return Qf(o)}var Rc=w0;function Xf(t){let{version:e}=t;return e?e.startsWith("1"):!1}function T0(t){if(!t)return;let{bucket_name:e,aws_region:n,buckets:o}=t;return{S3:{bucket:e,region:n,buckets:o&&F0(o)}}}function P0(t){if(!t)return;let{user_pool_id:e,user_pool_client_id:n,identity_pool_id:o,password_policy:r,mfa_configuration:i,mfa_methods:s,unauthenticated_identities_enabled:a,oauth:c,username_attributes:l,standard_required_attributes:d,groups:u}=t,p={Cognito:{userPoolId:e,userPoolClientId:n,groups:u}};return o&&(p.Cognito=U(y({},p.Cognito),{identityPoolId:o})),r&&(p.Cognito.passwordFormat={requireLowercase:r.require_lowercase,requireNumbers:r.require_numbers,requireUppercase:r.require_uppercase,requireSpecialCharacters:r.require_symbols,minLength:r.min_length??6}),i&&(p.Cognito.mfa={status:U0(i),smsEnabled:s?.includes("SMS"),totpEnabled:s?.includes("TOTP")}),a&&(p.Cognito.allowGuestAccess=a),c&&(p.Cognito.loginWith={oauth:{domain:c.domain,redirectSignIn:c.redirect_sign_in_uri,redirectSignOut:c.redirect_sign_out_uri,responseType:c.response_type==="token"?"token":"code",scopes:c.scopes,providers:k0(c.identity_providers)}}),l&&(p.Cognito.loginWith=U(y({},p.Cognito.loginWith),{email:l.includes("email"),phone:l.includes("phone_number"),username:l.includes("username")})),d&&(p.Cognito.userAttributes=d.reduce((m,f)=>U(y({},m),{[f]:{required:!0}}),{})),p}function A0(t){if(!t?.amazon_pinpoint)return;let{amazon_pinpoint:e}=t;return{Pinpoint:{appId:e.app_id,region:e.aws_region}}}function D0(t){if(!t)return;let{aws_region:e,geofence_collections:n,maps:o,search_indices:r}=t;return{LocationService:{region:e,searchIndices:r,geofenceCollections:n,maps:o}}}function N0(t){if(!t)return;let{aws_region:e,default_authorization_type:n,url:o,api_key:r,model_introspection:i}=t;return{GraphQL:{endpoint:o,defaultAuthMode:eg(n),region:e,apiKey:r,modelIntrospection:i}}}function O0(t){if(!t?.events)return;let{url:e,aws_region:n,api_key:o,default_authorization_type:r}=t.events;return{Events:{endpoint:e,defaultAuthMode:eg(r),region:n,apiKey:o}}}function R0(t){if(!t)return;let{aws_region:e,channels:n,amazon_pinpoint_app_id:o}=t,r=n.includes("IN_APP_MESSAGING"),i=n.includes("APNS")||n.includes("FCM");if(!(r||i))return;let s={};return r&&(s.InAppMessaging={Pinpoint:{appId:o,region:e}}),i&&(s.PushNotification={Pinpoint:{appId:o,region:e}}),s}function Zf(t){let e={};if(t.storage&&(e.Storage=T0(t.storage)),t.auth&&(e.Auth=P0(t.auth)),t.analytics&&(e.Analytics=A0(t.analytics)),t.geo&&(e.Geo=D0(t.geo)),t.data&&(e.API=N0(t.data)),t.custom){let n=O0(t.custom);n&&"Events"in n&&(e.API=y(y({},e.API),n))}return t.notifications&&(e.Notifications=R0(t.notifications)),e}var M0={AMAZON_COGNITO_USER_POOLS:"userPool",API_KEY:"apiKey",AWS_IAM:"iam",AWS_LAMBDA:"lambda",OPENID_CONNECT:"oidc"};function eg(t){return M0[t]}var Jf={GOOGLE:"Google",LOGIN_WITH_AMAZON:"Amazon",FACEBOOK:"Facebook",SIGN_IN_WITH_APPLE:"Apple"};function k0(t=[]){return t.reduce((e,n)=>(Jf[n]!==void 0&&e.push(Jf[n]),e),[])}function U0(t){return t==="OPTIONAL"?"optional":t==="REQUIRED"?"on":"off"}function F0(t){let e={};return t.forEach(({name:n,bucket_name:o,aws_region:r,paths:i})=>{if(n in e)throw new Error(`Duplicate friendly name found: ${n}. Name must be unique.`);let s=i?Object.entries(i).reduce((a,[c,l])=>(l!==void 0&&(a[c]=l),a),{}):void 0;e[n]={bucketName:o,region:r,paths:s}}),e}var Fr=t=>Object.keys(t).some(e=>e.startsWith("aws_"))?Yf(t):Xf(t)?Zf(t):t;var ft=64,tg=32,ng=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),og=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],rg=Math.pow(2,53)-1;var Lr=(function(){function t(){this.state=Int32Array.from(og),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return t.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var n=0,o=e.byteLength;if(this.bytesHashed+=o,this.bytesHashed*8>rg)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;o>0;)this.buffer[this.bufferLength++]=e[n++],o--,this.bufferLength===ft&&(this.hashBuffer(),this.bufferLength=0)},t.prototype.digest=function(){if(!this.finished){var e=this.bytesHashed*8,n=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),o=this.bufferLength;if(n.setUint8(this.bufferLength++,128),o%ft>=ft-8){for(var r=this.bufferLength;r<ft;r++)n.setUint8(r,0);this.hashBuffer(),this.bufferLength=0}for(var r=this.bufferLength;r<ft-8;r++)n.setUint8(r,0);n.setUint32(ft-8,Math.floor(e/4294967296),!0),n.setUint32(ft-4,e),this.hashBuffer(),this.finished=!0}for(var i=new Uint8Array(tg),r=0;r<8;r++)i[r*4]=this.state[r]>>>24&255,i[r*4+1]=this.state[r]>>>16&255,i[r*4+2]=this.state[r]>>>8&255,i[r*4+3]=this.state[r]>>>0&255;return i},t.prototype.hashBuffer=function(){for(var e=this,n=e.buffer,o=e.state,r=o[0],i=o[1],s=o[2],a=o[3],c=o[4],l=o[5],d=o[6],u=o[7],p=0;p<ft;p++){if(p<16)this.temp[p]=(n[p*4]&255)<<24|(n[p*4+1]&255)<<16|(n[p*4+2]&255)<<8|n[p*4+3]&255;else{var m=this.temp[p-2],f=(m>>>17|m<<15)^(m>>>19|m<<13)^m>>>10;m=this.temp[p-15];var g=(m>>>7|m<<25)^(m>>>18|m<<14)^m>>>3;this.temp[p]=(f+this.temp[p-7]|0)+(g+this.temp[p-16]|0)}var C=(((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))+(c&l^~c&d)|0)+(u+(ng[p]+this.temp[p]|0)|0)|0,h=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;u=d,d=l,l=c,c=a+C|0,a=s,s=i,i=r,r=C+h|0}o[0]+=r,o[1]+=i,o[2]+=s,o[3]+=a,o[4]+=c,o[5]+=l,o[6]+=d,o[7]+=u},t})();var Mc=t=>new TextEncoder().encode(t);var L0=typeof Buffer<"u"&&Buffer.from?function(t){return Buffer.from(t,"utf8")}:Mc;function ms(t){return t instanceof Uint8Array?t:typeof t=="string"?L0(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t)}function kc(t){return typeof t=="string"?t.length===0:t.byteLength===0}var Pn=(function(){function t(e){this.secret=e,this.hash=new Lr,this.reset()}return t.prototype.update=function(e){if(!(kc(e)||this.error))try{this.hash.update(ms(e))}catch(n){this.error=n}},t.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},t.prototype.digest=function(){return Il(this,void 0,void 0,function(){return bl(this,function(e){return[2,this.digestSync()]})})},t.prototype.reset=function(){if(this.hash=new Lr,this.secret){this.outer=new Lr;var e=B0(this.secret),n=new Uint8Array(ft);n.set(e);for(var o=0;o<ft;o++)e[o]^=54,n[o]^=92;this.hash.update(e),this.outer.update(n);for(var o=0;o<e.byteLength;o++)e[o]=0}},t})();function B0(t){var e=ms(t);if(e.byteLength>ft){var n=new Lr;n.update(e),e=n.digest()}var o=new Uint8Array(ft);return o.set(e),o}var z0={},V0={};for(let t=0;t<256;t++){let e=t.toString(16).toLowerCase();e.length===1&&(e=`0${e}`),z0[t]=e,V0[e]=t}var Ee=(function(t){return t.WebUnknown="0",t.React="1",t.NextJs="2",t.Angular="3",t.VueJs="4",t.Nuxt="5",t.Svelte="6",t.ServerSideUnknown="100",t.ReactSSR="101",t.NextJsSSR="102",t.AngularSSR="103",t.VueJsSSR="104",t.NuxtSSR="105",t.SvelteSSR="106",t.ReactNative="201",t.Expo="202",t})(Ee||{}),fs=(function(t){return t.AI="ai",t.API="api",t.Auth="auth",t.Analytics="analytics",t.DataStore="datastore",t.Geo="geo",t.InAppMessaging="inappmessaging",t.Interactions="interactions",t.Predictions="predictions",t.PubSub="pubsub",t.PushNotification="pushnotification",t.Storage="storage",t})(fs||{});var ie=(function(t){return t.SignUp="1",t.ConfirmSignUp="2",t.ResendSignUpCode="3",t.SignIn="4",t.FetchMFAPreference="6",t.UpdateMFAPreference="7",t.SetUpTOTP="10",t.VerifyTOTPSetup="11",t.ConfirmSignIn="12",t.DeleteUserAttributes="15",t.DeleteUser="16",t.UpdateUserAttributes="17",t.FetchUserAttributes="18",t.ConfirmUserAttribute="22",t.SignOut="26",t.UpdatePassword="27",t.ResetPassword="28",t.ConfirmResetPassword="29",t.FederatedSignIn="30",t.RememberDevice="32",t.ForgetDevice="33",t.FetchDevices="34",t.SendUserAttributeVerificationCode="35",t.SignInWithRedirect="36",t.StartWebAuthnRegistration="37",t.CompleteWebAuthnRegistration="38",t.ListWebAuthnCredentials="39",t.DeleteWebAuthnCredential="40",t})(ie||{});var Uc="6.15.5";var Kn=()=>typeof global<"u";var Ft=()=>typeof window<"u",gs=()=>typeof document<"u",Zo=()=>typeof process<"u",qn=(t,e)=>!!Object.keys(t).find(n=>n.startsWith(e));function ig(){let t=o=>o.startsWith("_react")||o.startsWith("__react"),e=o=>Object.keys(o).find(t),n=()=>Array.from(document.querySelectorAll("[id]"));return gs()&&n().some(e)}function sg(){return Zo()&&typeof process.env<"u"&&!!Object.keys(process.env).find(t=>t.includes("react"))}function ag(){return Ft()&&qn(window,"__VUE")}function cg(){return Kn()&&qn(global,"__VUE")}function lg(){return Ft()&&qn(window,"__SVELTE")}function dg(){return Zo()&&typeof process.env<"u"&&!!Object.keys(process.env).find(t=>t.includes("svelte"))}function ug(){return Ft()&&window.next&&typeof window.next=="object"}function pg(){return Kn()&&(qn(global,"__next")||qn(global,"__NEXT"))}function mg(){return Ft()&&(window.__NUXT__!==void 0||window.$nuxt!==void 0)}function fg(){return Kn()&&typeof global.__NUXT_PATHS__<"u"}function gg(){let t=!!(gs()&&document.querySelector("[ng-version]")),e=!!(Ft()&&typeof window.ng<"u");return t||e}function hg(){return Zo()&&typeof process.env=="object"&&process.env.npm_lifecycle_script?.startsWith("ng ")||!1}function yg(){return typeof navigator<"u"&&typeof navigator.product<"u"&&navigator.product==="ReactNative"}function Cg(){return Kn()&&typeof global.expo<"u"}function vg(){return Ft()}var H0=[{platform:Ee.Expo,detectionMethod:Cg},{platform:Ee.ReactNative,detectionMethod:yg},{platform:Ee.NextJs,detectionMethod:ug},{platform:Ee.Nuxt,detectionMethod:mg},{platform:Ee.Angular,detectionMethod:gg},{platform:Ee.React,detectionMethod:ig},{platform:Ee.VueJs,detectionMethod:ag},{platform:Ee.Svelte,detectionMethod:lg},{platform:Ee.WebUnknown,detectionMethod:vg},{platform:Ee.NextJsSSR,detectionMethod:pg},{platform:Ee.NuxtSSR,detectionMethod:fg},{platform:Ee.ReactSSR,detectionMethod:sg},{platform:Ee.VueJsSSR,detectionMethod:cg},{platform:Ee.AngularSSR,detectionMethod:hg},{platform:Ee.SvelteSSR,detectionMethod:dg}];function Sg(){return H0.find(t=>t.detectionMethod())?.platform||Ee.ServerSideUnknown}var Br,hs=[],ys=!1,W0=10,K0=10,q0=1e3,Cs=()=>{if(!Br){if(Br=Sg(),ys)for(;hs.length;)hs.pop()?.();else hs.forEach(t=>{t()});_g(Ee.ServerSideUnknown,W0),_g(Ee.WebUnknown,K0)}return Br},Eg=t=>{ys||hs.push(t)};function j0(){Br=void 0}function _g(t,e){Br===t&&!ys&&setTimeout(()=>{j0(),ys=!0,setTimeout(Cs,q0)},e)}var $0={};var Ig=(t,e)=>$0[t]?.[e]?.additionalDetails;var bg="aws-amplify",xg=t=>t.replace(/\+.*/,""),Fc=class{constructor(){this.userAgent=`${bg}/${xg(Uc)}`}get framework(){return Cs()}get isReactNative(){return this.framework===Ee.ReactNative||this.framework===Ee.Expo}observeFrameworkChanges(e){Eg(e)}},G0=new Fc,wg=({category:t,action:e}={})=>{let n=[[bg,xg(Uc)]];if(t&&n.push([t,e]),n.push(["framework",Cs()]),t&&e){let o=Ig(t,e);o&&o.forEach(r=>{n.push(r)})}return n},An=t=>wg(t).map(([o,r])=>o&&r?`${o}/${r}`:o).join(" ");var Dn=()=>typeof window<"u"&&typeof window.document<"u";var Tg=new ye("Auth"),vs=class{configure(e,n){this.authConfig=e,this.authOptions=n,e&&e.Cognito?.userPoolEndpoint&&Tg.warn(Pg("Amazon Cognito User Pool")),e&&e.Cognito?.identityPoolEndpoint&&Tg.warn(Pg("Amazon Cognito Identity Pool"))}async fetchAuthSession(e={}){let n,o,r=await this.getTokens(e);return r?(o=r.accessToken?.payload?.sub,n=await this.authOptions?.credentialsProvider?.getCredentialsAndIdentityId({authConfig:this.authConfig,tokens:r,authenticated:!0,forceRefresh:e.forceRefresh})):n=await this.authOptions?.credentialsProvider?.getCredentialsAndIdentityId({authConfig:this.authConfig,authenticated:!1,forceRefresh:e.forceRefresh}),{tokens:r,credentials:n?.credentials,identityId:n?.identityId,userSub:o}}async clearCredentials(){await this.authOptions?.credentialsProvider?.clearCredentialsAndIdentityId()}async getTokens(e){return await this.authOptions?.tokenProvider?.getTokens(e)??void 0}},Pg=t=>`You are using a custom Amazon ${t} endpoint, ensure the endpoint is correct.`;var Ss=class{constructor(){this.oAuthListener=void 0,this.isConfigured=!1,this.resourcesConfig={},this.libraryOptions={},this.Auth=new vs}configure(e,n){let o=Fr(e);this.resourcesConfig=o,n&&(this.libraryOptions=n),this.resourcesConfig=Ac(this.resourcesConfig),this.Auth.configure(this.resourcesConfig.Auth,this.libraryOptions.Auth),ze.dispatch("core",{event:"configure",data:this.resourcesConfig},"Configure",qe),this.notifyOAuthListener(),this.isConfigured=!0}getConfig(){return this.isConfigured||console.warn("Amplify has not been configured. Please call Amplify.configure() before using this service."),this.resourcesConfig}[Ur](e){this.resourcesConfig.Auth?.Cognito.loginWith?.oauth?e(this.resourcesConfig.Auth?.Cognito):this.oAuthListener=e}notifyOAuthListener(){!this.resourcesConfig.Auth?.Cognito.loginWith?.oauth||!this.oAuthListener||(this.oAuthListener(this.resourcesConfig.Auth?.Cognito),this.oAuthListener=void 0)}},$=new Ss;var zr=(t,e)=>t.Auth.fetchAuthSession(e);var Vr=t=>zr($,t);function Hr(){return $.Auth.clearCredentials()}var Co=t=>{let{headers:e,statusCode:n}=t;return U(y({},Y0(t)?t.$metadata:{}),{httpStatusCode:n,requestId:e["x-amzn-requestid"]??e["x-amzn-request-id"]??e["x-amz-request-id"],extendedRequestId:e["x-amz-id-2"],cfId:e["x-amz-cf-id"]})},Y0=t=>typeof t?.$metadata=="object";var bt=async t=>{if(!t||t.statusCode<300)return;let e=await mn(t),o=(s=>{let[a]=s.toString().split(/[,:]+/);return a.includes("#")?a.split("#")[1]:a})(t.headers["x-amzn-errortype"]??e.code??e.__type??"UnknownError"),r=e.message??e.Message??"Unknown error",i=new Error(r);return Object.assign(i,{name:o,$metadata:Co(t)})},mn=async t=>{if(!t.body)throw new Error("Missing response payload");let e=await t.body.json();return Object.assign(e,{$metadata:Co(t)})};var se=(t,e,n,o)=>async(r,i)=>{let s=y(y({},o),r),a=await s.endpointResolver(s,i),c=await e(i,a),l=await t(c,y({},s));return n(l)};function Ag(t=3e5){return o=>{let r=2**o*100+100*Math.random();return r>t?!1:r}}var Lc="amz-sdk-invocation-id",Dg="amz-sdk-request";var Wr=t=>{let n=Ag(3e5)(t);return n===!1?3e5:n};var J0=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch","BadRequestException"],Ng=t=>!!t&&J0.includes(t);var Kr=t=>async(e,n)=>{let o=n??await t(e)??void 0,r=o?.code||o?.name,i=e?.statusCode;return{retryable:tE(n)||eE(i,r)||Ng(r)||nE(i,r)}},X0=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException"],Z0=["TimeoutError","RequestTimeout","RequestTimeoutException"],eE=(t,e)=>t===429||!!e&&X0.includes(e),tE=t=>[mt.NetworkError,"ERR_NETWORK"].includes(t?.name),nE=(t,e)=>!!t&&[500,502,503,504].includes(t)||!!e&&Z0.includes(e);var Bc="cognito-identity",_s={service:Bc,retryDecider:Kr(bt),computeDelay:Wr,cache:"no-store"};var Mg=({maxAttempts:t=3,retryDecider:e,computeDelay:n,abortSignal:o})=>{if(t<1)throw new Error("maxAttempts must be greater than 0");return(r,i)=>async function(a){let c,l=i.attemptsCount??0,d,u=()=>{if(d)return Og(d,l),d;throw Og(c,l),c};for(;!o?.aborted&&l<t;){try{d=await r(a),c=void 0}catch(f){c=f,d=void 0}l=(i.attemptsCount??0)>l?i.attemptsCount??0:l+1,i.attemptsCount=l;let{isCredentialsExpiredError:p,retryable:m}=await e(d,c,i);if(m){if(i.isCredentialsExpired=!!p,!o?.aborted&&l<t){let f=n(l);await oE(f,o)}continue}else return u()}if(o?.aborted)throw new Error("Request aborted.");return u()}},oE=(t,e)=>{if(e?.aborted)return Promise.resolve();let n,o,r=new Promise(i=>{o=i,n=setTimeout(i,t)});return e?.addEventListener("abort",function i(s){clearTimeout(n),e?.removeEventListener("abort",i),o()}),r},Og=(t,e)=>{Object.prototype.toString.call(t)==="[object Object]"&&(t.$metadata=U(y({},t.$metadata??{}),{attempts:e}))};var kg=Rc;var Ug=()=>t=>async function(n){return n.headers[Lc]||(n.headers[Lc]=kg()),t(n)};var Fg=({maxAttempts:t=3})=>(e,n)=>async function(r){let i=n.attemptsCount??0;return r.headers[Dg]=`attempt=${i+1}; max=${t}`,e(r)};var Lg=({userAgentHeader:t="x-amz-user-agent",userAgentValue:e=""})=>n=>async function(r){if(e.trim().length===0)return await n(r);{let i=t.toLowerCase();return r.headers[i]=r.headers[i]?`${r.headers[i]} ${e}`:e,await n(r)}};var vo=(t,e)=>(n,o)=>{let r={},i=s=>t(s,o);for(let s=e.length-1;s>=0;s--){let a=e[s];i=a(o)(i,r)}return i(n)};var Es=t=>{let e;return()=>(e||(e=t()),e)};var rE=t=>!["HEAD","GET"].includes(t.toUpperCase()),Bg=async({url:t,method:e,headers:n,body:o},{abortSignal:r,cache:i,withCrossDomainCredentials:s})=>{let a;try{a=await fetch(t,{method:e,headers:n,body:rE(e)?o:void 0,signal:r,cache:i,credentials:s?"include":"same-origin"})}catch(u){throw u instanceof TypeError?new Ae({name:mt.NetworkError,message:"A network error has occurred.",underlyingError:u}):u}let c={};a.headers?.forEach((u,p)=>{c[p.toLowerCase()]=u});let l={statusCode:a.status,headers:c,body:null},d=Object.assign(a.body??{},{text:Es(()=>a.text()),blob:Es(()=>a.blob()),json:Es(()=>a.json())});return U(y({},l),{body:d})};var qr=vo(Bg,[Lg,Ug,Mg,Fg]);var zg=()=>t=>async function(n){return n.headers["cache-control"]="no-store",t(n)};var Is=vo(qr,[zg]);var bs=t=>(e,n)=>{let o=iE(t),r=JSON.stringify(e);return sE(n,o,r)},iE=t=>({"content-type":"application/x-amz-json-1.1","x-amz-target":`AWSCognitoIdentityService.${t}`}),sE=({url:t},e,n)=>({headers:e,url:t,body:n,method:"POST"});var xs=t=>se(Is,bs("GetCredentialsForIdentity"),aE,U(y(y({},_s),t),{userAgentValue:An()})),aE=async t=>{if(t.statusCode>=300)throw await bt(t);let e=await mn(t);return{IdentityId:e.IdentityId,Credentials:cE(e.Credentials),$metadata:Co(t)}},cE=(n={})=>{var o=n,{Expiration:t}=o,e=ii(o,["Expiration"]);return U(y({},e),{Expiration:t&&new Date(t*1e3)})};var zc=t=>se(Is,bs("GetId"),lE,U(y(y({},_s),t),{userAgentValue:An()})),lE=async t=>{if(t.statusCode>=300)throw await bt(t);return{IdentityId:(await mn(t)).IdentityId,$metadata:Co(t)}};var Vc={id:"aws",outputs:{dnsSuffix:"amazonaws.com"},regionRegex:"^(us|eu|ap|sa|ca|me|af)\\-\\w+\\-\\d+$",regions:["aws-global"]},Vg={partitions:[Vc,{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn"},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:["aws-cn-global"]}]};var jr=t=>{let{partitions:e}=Vg;for(let{regions:n,outputs:o,regionRegex:r}of e){let i=new RegExp(r);if(n.includes(t)||i.test(t))return o.dnsSuffix}return Vc.outputs.dnsSuffix};var ot=URL;var Hc=({region:t})=>({url:new ot(`https://${Bc}.${t}.${jr(t)}`)});var Nn=class extends Ae{constructor(){super({name:mt.PlatformNotSupported,message:"Function not supported on current platform"})}};var fn=class{constructor(e){this.storage=e}async setItem(e,n){if(!this.storage)throw new Nn;this.storage.setItem(e,n)}async getItem(e){if(!this.storage)throw new Nn;return this.storage.getItem(e)}async removeItem(e){if(!this.storage)throw new Nn;this.storage.removeItem(e)}async clear(){if(!this.storage)throw new Nn;this.storage.clear()}};var So=class{constructor(){this.storage=new Map}get length(){return this.storage.size}key(e){return e>this.length-1?null:Array.from(this.storage.keys())[e]}setItem(e,n){this.storage.set(e,n)}getItem(e){return this.storage.get(e)??null}removeItem(e){this.storage.delete(e)}clear(){this.storage.clear()}};var Hg=new ye("CoreStorageUtils"),ws=()=>{try{if(typeof window<"u"&&window.localStorage)return window.localStorage}catch{Hg.info("localStorage not found. InMemoryStorage is used as a fallback.")}return new So},Ts=()=>{try{if(typeof window<"u"&&window.sessionStorage)return window.sessionStorage.getItem("test"),window.sessionStorage;throw new Error("sessionStorage is not defined")}catch{return Hg.info("sessionStorage not found. InMemoryStorage is used as a fallback."),new So}};var Ps=class extends fn{constructor(){super(ws())}};var As=class extends fn{constructor(){super(Ts())}};var Ds=class{constructor(e){this._storage=e}get storage(){if(!this._storage)throw new Nn;return this._storage}setItem(e,n){this.storage.setItem(e,n)}getItem(e){return this.storage.getItem(e)}removeItem(e){this.storage.removeItem(e)}clear(){this.storage.clear()}};var Ns=class extends Ds{constructor(){super(Ts())}};function Os(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)t[o]=n[o]}return t}var dE={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function Wc(t,e){function n(r,i,s){if(!(typeof document>"u")){s=Os({},e,s),typeof s.expires=="number"&&(s.expires=new Date(Date.now()+s.expires*864e5)),s.expires&&(s.expires=s.expires.toUTCString()),r=encodeURIComponent(r).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var c in s)s[c]&&(a+="; "+c,s[c]!==!0&&(a+="="+s[c].split(";")[0]));return document.cookie=r+"="+t.write(i,r)+a}}function o(r){if(!(typeof document>"u"||arguments.length&&!r)){for(var i=document.cookie?document.cookie.split("; "):[],s={},a=0;a<i.length;a++){var c=i[a].split("="),l=c.slice(1).join("=");try{var d=decodeURIComponent(c[0]);if(s[d]=t.read(l,d),r===d)break}catch{}}return r?s[r]:s}}return Object.create({set:n,get:o,remove:function(r,i){n(r,"",Os({},i,{expires:-1}))},withAttributes:function(r){return Wc(this.converter,Os({},this.attributes,r))},withConverter:function(r){return Wc(Os({},this.converter,r),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var $r=Wc(dE,{path:"/"});var er=class{constructor(e={}){let{path:n,domain:o,expires:r,sameSite:i,secure:s}=e;if(this.domain=o,this.path=n||"/",this.expires=Object.prototype.hasOwnProperty.call(e,"expires")?r:365,this.secure=Object.prototype.hasOwnProperty.call(e,"secure")?s:!0,Object.prototype.hasOwnProperty.call(e,"sameSite")){if(!i||!["strict","lax","none"].includes(i))throw new Error('The sameSite value of cookieStorage must be "lax", "strict" or "none".');if(i==="none"&&!this.secure)throw new Error("sameSite = None requires the Secure attribute in latest browser versions.");this.sameSite=i}}async setItem(e,n){$r.set(e,n,this.getData())}async getItem(e){return $r.get(e)??null}async removeItem(e){$r.remove(e,this.getData())}async clear(){let e=$r.get(),n=Object.keys(e).map(o=>this.removeItem(o));await Promise.all(n)}getData(){return y({path:this.path,expires:this.expires,domain:this.domain,secure:this.secure},this.sameSite&&{sameSite:this.sameSite})}};var Lt=new Ps,Wg=new As,Qt=new Ns,Kg=new fn(new So);var jn={keyPrefix:"aws-amplify-cache",capacityInBytes:1048576,itemMaxSize:21e4,defaultTTL:2592e5,defaultPriority:5,warningThreshold:.8},On="CurSize";function Kc(t){let e=0;e=t.length;for(let n=t.length;n>=0;n-=1){let o=t.charCodeAt(n);o>127&&o<=2047?e+=1:o>2047&&o<=65535&&(e+=2),o>=56320&&o<=57343&&(n-=1)}return e}function $n(){return new Date().getTime()}var _o=t=>`${t}${On}`;var Eo=(function(t){return t.NoCacheItem="NoCacheItem",t.NullNextNode="NullNextNode",t.NullPreviousNode="NullPreviousNode",t})(Eo||{}),uE={[Eo.NoCacheItem]:{message:"Item not found in the cache storage."},[Eo.NullNextNode]:{message:"Next node is null."},[Eo.NullPreviousNode]:{message:"Previous node is null."}},qc=Yt(uE);var Me=new ye("StorageCache"),Rs=class{constructor({config:e,keyValueStorage:n}){this.config=y(y({},jn),e),this.keyValueStorage=n,this.sanitizeConfig()}getModuleName(){return"Cache"}configure(e){return e&&(e.keyPrefix&&Me.warn("keyPrefix can not be re-configured on an existing Cache instance."),this.config=y(y({},this.config),e)),this.sanitizeConfig(),this.config}async getCurrentCacheSize(){let e=await this.getStorage().getItem(_o(this.config.keyPrefix));return e||(await this.getStorage().setItem(_o(this.config.keyPrefix),"0"),e="0"),Number(e)}async setItem(e,n,o){if(Me.debug(`Set item: key is ${e}, value is ${n} with options: ${o}`),!e||e===On){Me.warn(`Invalid key: should not be empty or reserved key: '${On}'`);return}if(typeof n>"u"){Me.warn("The value of item should not be undefined!");return}let r={priority:o?.priority!==void 0?o.priority:this.config.defaultPriority,expires:o?.expires!==void 0?o.expires:this.config.defaultTTL+$n()};if(r.priority<1||r.priority>5){Me.warn("Invalid parameter: priority due to out or range. It should be within 1 and 5.");return}let i=`${this.config.keyPrefix}${e}`,s=this.fillCacheItem(i,n,r);if(s.byteSize>this.config.itemMaxSize){Me.warn(`Item with key: ${e} you are trying to put into is too big!`);return}try{let a=await this.getStorage().getItem(i);if(a&&await this.removeCacheItem(i,JSON.parse(a).byteSize),await this.isCacheFull(s.byteSize)){let c=await this.clearInvalidAndGetRemainingKeys();if(await this.isCacheFull(s.byteSize)){let l=await this.sizeToPop(s.byteSize);await this.popOutItems(c,l)}}return this.setCacheItem(i,s)}catch(a){Me.warn(`setItem failed! ${a}`)}}async getItem(e,n){Me.debug(`Get item: key is ${e} with options ${n}`);let o;if(!e||e===On)return Me.warn(`Invalid key: should not be empty or reserved key: '${On}'`),null;let r=`${this.config.keyPrefix}${e}`;try{if(o=await this.getStorage().getItem(r),o!=null)if(await this.isExpired(r))await this.removeCacheItem(r,JSON.parse(o).byteSize);else return(await this.updateVisitedTime(JSON.parse(o),r)).data;if(n?.callback){let i=n.callback();return i!==null&&await this.setItem(e,i,n),i}return null}catch(i){return Me.warn(`getItem failed! ${i}`),null}}async removeItem(e){if(Me.debug(`Remove item: key is ${e}`),!e||e===On){Me.warn(`Invalid key: should not be empty or reserved key: '${On}'`);return}let n=`${this.config.keyPrefix}${e}`;try{let o=await this.getStorage().getItem(n);o&&await this.removeCacheItem(n,JSON.parse(o).byteSize)}catch(o){Me.warn(`removeItem failed! ${o}`)}}async getAllKeys(){try{return await this.getAllCacheKeys()}catch(e){return Me.warn(`getAllkeys failed! ${e}`),[]}}getStorage(){return this.keyValueStorage}async isExpired(e){let n=await this.getStorage().getItem(e);qc(n!==null,Eo.NoCacheItem,`Key: ${e}`);let o=JSON.parse(n);return $n()>=o.expires}async removeCacheItem(e,n){let o=await this.getStorage().getItem(e);qc(o!==null,Eo.NoCacheItem,`Key: ${e}`);let r=n??JSON.parse(o).byteSize;await this.decreaseCurrentSizeInBytes(r);try{await this.getStorage().removeItem(e)}catch(i){await this.increaseCurrentSizeInBytes(r),Me.error(`Failed to remove item: ${i}`)}}fillCacheItem(e,n,o){let r={key:e,data:n,timestamp:$n(),visitedTime:$n(),priority:o.priority??0,expires:o.expires??0,type:typeof n,byteSize:0};return r.byteSize=Kc(JSON.stringify(r)),r.byteSize=Kc(JSON.stringify(r)),r}sanitizeConfig(){this.config.itemMaxSize>this.config.capacityInBytes&&(Me.error("Invalid parameter: itemMaxSize. It should be smaller than capacityInBytes. Setting back to default."),this.config.itemMaxSize=jn.itemMaxSize),(this.config.defaultPriority>5||this.config.defaultPriority<1)&&(Me.error("Invalid parameter: defaultPriority. It should be between 1 and 5. Setting back to default."),this.config.defaultPriority=jn.defaultPriority),(Number(this.config.warningThreshold)>1||Number(this.config.warningThreshold)<0)&&(Me.error("Invalid parameter: warningThreshold. It should be between 0 and 1. Setting back to default."),this.config.warningThreshold=jn.warningThreshold);let e=5*1024*1024;this.config.capacityInBytes>e&&(Me.error("Cache Capacity should be less than 5MB. Setting back to default. Setting back to default."),this.config.capacityInBytes=jn.capacityInBytes)}async increaseCurrentSizeInBytes(e){let n=await this.getCurrentCacheSize();await this.getStorage().setItem(_o(this.config.keyPrefix),(n+e).toString())}async decreaseCurrentSizeInBytes(e){let n=await this.getCurrentCacheSize();await this.getStorage().setItem(_o(this.config.keyPrefix),(n-e).toString())}async updateVisitedTime(e,n){return e.visitedTime=$n(),await this.getStorage().setItem(n,JSON.stringify(e)),e}async setCacheItem(e,n){await this.increaseCurrentSizeInBytes(n.byteSize);try{await this.getStorage().setItem(e,JSON.stringify(n))}catch(o){await this.decreaseCurrentSizeInBytes(n.byteSize),Me.error(`Failed to set item ${o}`)}}async sizeToPop(e){let o=await this.getCurrentCacheSize()+e-this.config.capacityInBytes,r=(1-this.config.warningThreshold)*this.config.capacityInBytes;return o>r?o:r}async isCacheFull(e){let n=await this.getCurrentCacheSize();return e+n>this.config.capacityInBytes}async popOutItems(e,n){let o=[],r=n;for(let i of e){let s=await this.getStorage().getItem(i);if(s!=null){let a=JSON.parse(s);o.push(a)}}o.sort((i,s)=>i.priority>s.priority?-1:i.priority<s.priority?1:i.visitedTime<s.visitedTime?-1:1);for(let i of o)if(await this.removeCacheItem(i.key,i.byteSize),r-=i.byteSize,r<=0)return}async clearInvalidAndGetRemainingKeys(){let e=[],n=await this.getAllCacheKeys({omitSizeKey:!0});for(let o of n)await this.isExpired(o)?await this.removeCacheItem(o):e.push(o);return e}async clear(){Me.debug("Clear Cache");try{let e=await this.getAllKeys();for(let n of e){let o=`${this.config.keyPrefix}${n}`;await this.getStorage().removeItem(o)}}catch(e){Me.warn(`clear failed! ${e}`)}}};var pE=new ye("StorageCache"),Ms=class t extends Rs{constructor(e){let n=ws();super({config:e,keyValueStorage:new fn(n)}),this.storage=n,this.getItem=this.getItem.bind(this),this.setItem=this.setItem.bind(this),this.removeItem=this.removeItem.bind(this)}async getAllCacheKeys(e){let{omitSizeKey:n}=e??{},o=[];for(let r=0;r<this.storage.length;r++){let i=this.storage.key(r);n&&i===_o(this.config.keyPrefix)||i?.startsWith(this.config.keyPrefix)&&o.push(i.substring(this.config.keyPrefix.length))}return o}createInstance(e){return(!e.keyPrefix||e.keyPrefix===jn.keyPrefix)&&(pE.error("invalid keyPrefix, setting keyPrefix with timeStamp"),e.keyPrefix=$n.toString()),new t(e)}};var qg=new Ms;var mE=new ye("I18n"),jg=class{constructor(){this._options=null,this._lang=null,this._dict={}}setDefaultLanguage(){!this._lang&&typeof window<"u"&&window&&window.navigator&&(this._lang=window.navigator.language),mE.debug(this._lang)}setLanguage(e){this._lang=e}get(e,n=void 0){if(this.setDefaultLanguage(),!this._lang)return typeof n<"u"?n:e;let o=this._lang,r=this.getByLanguage(e,o);return r||(o.indexOf("-")>0&&(r=this.getByLanguage(e,o.split("-")[0])),r)?r:typeof n<"u"?n:e}getByLanguage(e,n,o=null){if(!n)return o;let r=this._dict[n];return r?r[e]:o}putVocabulariesForLanguage(e,n){let o=this._dict[e];o||(o=this._dict[e]={}),this._dict[e]=y(y({},o),n)}putVocabularies(e){Object.keys(e).forEach(n=>{this.putVocabulariesForLanguage(n,e[n])})}};var Io=(function(t){return t.NotConfigured="NotConfigured",t})(Io||{}),fE={[Io.NotConfigured]:{message:"i18n is not configured."}},Gr=Yt(fE);var $g=new ye("I18n"),ks={language:null},Jt=null,Yr=class t{static configure(e){return $g.debug("configure I18n"),e&&(ks=Object.assign({},ks,e.I18n||e),t.createInstance()),ks}static getModuleName(){return"I18n"}static createInstance(){$g.debug("create I18n instance"),!Jt&&(Jt=new jg)}static setLanguage(e){t.checkConfig(),Gr(!!Jt,Io.NotConfigured),Jt.setLanguage(e)}static get(e,n){return t.checkConfig()?(Gr(!!Jt,Io.NotConfigured),Jt.get(e,n)):typeof n>"u"?e:n}static putVocabulariesForLanguage(e,n){t.checkConfig(),Gr(!!Jt,Io.NotConfigured),Jt.putVocabulariesForLanguage(e,n)}static putVocabularies(e){t.checkConfig(),Gr(!!Jt,Io.NotConfigured),Jt.putVocabularies(e)}static checkConfig(){return Jt||t.createInstance(),!0}};Yr.createInstance();var jc=t=>{let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=[],o=new Uint8Array(t);go().getRandomValues(o);for(let r of o)n.push(e[r%e.length]);return n.join("")};function $c(t){return(t.match(/.{2}/g)||[]).map(n=>String.fromCharCode(parseInt(n,16))).join("")}function Gc(t){return t.split("").map(e=>e.charCodeAt(0).toString(16).padStart(2,"0")).join("")}var Yc=t=>{let e;return async(...n)=>e||(e=new Promise((o,r)=>{t(...n).then(i=>{o(i)}).catch(i=>{r(i)}).finally(()=>{e=void 0})}),e)};function Us({expiresAt:t,clockDrift:e,tolerance:n=5e3}){return Date.now()+e+n>t}var Qc=async()=>{let{userAgentData:t}=navigator;if(!t)return navigator.userAgent;let{platform:e="",platformVersion:n="",model:o="",architecture:r="",fullVersionList:i=[]}=await t.getHighEntropyValues(["platform","platformVersion","architecture","model","fullVersionList"]),s=i.map(c=>`${c.brand}/${c.version}`).join(";");return[e,n,r,o,e,s].filter(c=>c).join(" ")||navigator.userAgent};function Gg(t){return Array.from(t,e=>String.fromCodePoint(e)).join("")}var Bt={convert(t,e={urlSafe:!1,skipPadding:!1}){let n=typeof t=="string"?t:Gg(t),o=jf()(n);return e.urlSafe&&(o=o.replace(/\+/g,"-").replace(/\//g,"_")),e.skipPadding&&(o=o.replace(/=/g,"")),o}};function Yg(){return go().getRandomValues(new Uint32Array(1))[0]}function gE(t){let{words:e}=t,{sigBytes:n}=t,o=[];for(let r=0;r<n;r++){let i=e[r>>>2]>>>24-r%4*8&255;o.push((i>>>4).toString(16)),o.push((i&15).toString(16))}return o.join("")}var Qr=class t{constructor(e,n){this.words=[];let o=e;o=this.words=o||[],n!==void 0?this.sigBytes=n:this.sigBytes=o.length*4}random(e){let n=[];for(let o=0;o<e;o+=4)n.push(Yg());return new t(n,e)}toString(){return gE(this)}};var H=(function(t){return t.EmptySignInUsername="EmptySignInUsername",t.EmptySignInPassword="EmptySignInPassword",t.CustomAuthSignInPassword="CustomAuthSignInPassword",t.EmptySignUpUsername="EmptySignUpUsername",t.EmptySignUpPassword="EmptySignUpPassword",t.EmptyConfirmSignUpUsername="EmptyConfirmSignUpUsername",t.EmptyConfirmSignUpCode="EmptyConfirmSignUpCode",t.EmptyResendSignUpCodeUsername="EmptyresendSignUpCodeUsername",t.EmptyChallengeResponse="EmptyChallengeResponse",t.EmptyConfirmResetPasswordUsername="EmptyConfirmResetPasswordUsername",t.EmptyConfirmResetPasswordNewPassword="EmptyConfirmResetPasswordNewPassword",t.EmptyConfirmResetPasswordConfirmationCode="EmptyConfirmResetPasswordConfirmationCode",t.EmptyResetPasswordUsername="EmptyResetPasswordUsername",t.EmptyVerifyTOTPSetupCode="EmptyVerifyTOTPSetupCode",t.EmptyConfirmUserAttributeCode="EmptyConfirmUserAttributeCode",t.IncorrectMFAMethod="IncorrectMFAMethod",t.EmptyUpdatePassword="EmptyUpdatePassword",t})(H||{});var Fs={[H.EmptyChallengeResponse]:{message:"challengeResponse is required to confirmSignIn"},[H.EmptyConfirmResetPasswordUsername]:{message:"username is required to confirmResetPassword"},[H.EmptyConfirmSignUpCode]:{message:"code is required to confirmSignUp"},[H.EmptyConfirmSignUpUsername]:{message:"username is required to confirmSignUp"},[H.EmptyConfirmResetPasswordConfirmationCode]:{message:"confirmationCode is required to confirmResetPassword"},[H.EmptyConfirmResetPasswordNewPassword]:{message:"newPassword is required to confirmResetPassword"},[H.EmptyResendSignUpCodeUsername]:{message:"username is required to confirmSignUp"},[H.EmptyResetPasswordUsername]:{message:"username is required to resetPassword"},[H.EmptySignInPassword]:{message:"password is required to signIn"},[H.EmptySignInUsername]:{message:"username is required to signIn"},[H.EmptySignUpPassword]:{message:"password is required to signUp"},[H.EmptySignUpUsername]:{message:"username is required to signUp"},[H.CustomAuthSignInPassword]:{message:"A password is not needed when signing in with CUSTOM_WITHOUT_SRP",recoverySuggestion:"Do not include a password in your signIn call."},[H.IncorrectMFAMethod]:{message:"Incorrect MFA method was chosen. It should be either SMS, TOTP, or EMAIL",recoverySuggestion:"Try to pass SMS, TOTP, or EMAIL as the challengeResponse"},[H.EmptyVerifyTOTPSetupCode]:{message:"code is required to verifyTotpSetup"},[H.EmptyUpdatePassword]:{message:"oldPassword and newPassword are required to changePassword"},[H.EmptyConfirmUserAttributeCode]:{message:"confirmation code is required to confirmUserAttribute"}},je=(function(t){return t.DEFAULT_MSG="Authentication Error",t.EMPTY_EMAIL="Email cannot be empty",t.EMPTY_PHONE="Phone number cannot be empty",t.EMPTY_USERNAME="Username cannot be empty",t.INVALID_USERNAME="The username should either be a string or one of the sign in types",t.EMPTY_PASSWORD="Password cannot be empty",t.EMPTY_CODE="Confirmation code cannot be empty",t.SIGN_UP_ERROR="Error creating account",t.NO_MFA="No valid MFA method provided",t.INVALID_MFA="Invalid MFA type",t.EMPTY_CHALLENGE="Challenge response cannot be empty",t.NO_USER_SESSION="Failed to get the session because the user is empty",t.NETWORK_ERROR="Network Error",t.DEVICE_CONFIG="Device tracking has not been configured in this User Pool",t.AUTOSIGNIN_ERROR="Please use your credentials to sign in",t.OAUTH_ERROR="Couldn't finish OAuth flow, check your User Pool HostedUI settings",t})(je||{}),Rn=(function(t){return t.SignInException="SignInException",t.OAuthSignInError="OAuthSignInException",t})(Rn||{});var D=class t extends Ae{constructor(e){super(e),this.constructor=t,Object.setPrototypeOf(this,t.prototype)}};function ae(t,e){let{message:n,recoverySuggestion:o}=Fs[e];if(!t)throw new D({name:e,message:n,recoverySuggestion:o})}function ee(t){let e=t?.split("_")[0];if(!t||t.indexOf("_")<0||!e||typeof e!="string")throw new D({name:"InvalidUserPoolId",message:"Invalid user pool id provided."});return e}function Jr(t){if(!t||!t.includes(":"))throw new D({name:"InvalidIdentityPoolIdException",message:"Invalid identity pool id provided.",recoverySuggestion:"Make sure a valid identityPoolId is given in the config."});return t.split(":")[0]}function Jc(t){return Object.entries(t).map(([e,n])=>({Name:e,Value:n}))}function Qg(t){let e={};return t?.forEach(n=>{n.Name&&(e[n.Name]=n.Value)}),e}var Ls=(function(t){return t.PasswordResetRequiredException="PasswordResetRequiredException",t.ForbiddenException="ForbiddenException",t.InternalErrorException="InternalErrorException",t.InvalidLambdaResponseException="InvalidLambdaResponseException",t.InvalidParameterException="InvalidParameterException",t.InvalidSmsRoleAccessPolicyException="InvalidSmsRoleAccessPolicyException",t.InvalidSmsRoleTrustRelationshipException="InvalidSmsRoleTrustRelationshipException",t.InvalidUserPoolConfigurationException="InvalidUserPoolConfigurationException",t.NotAuthorizedException="NotAuthorizedException",t.ResourceNotFoundException="ResourceNotFoundException",t.TooManyRequestsException="TooManyRequestsException",t.UnexpectedLambdaException="UnexpectedLambdaException",t.UserLambdaValidationException="UserLambdaValidationException",t.UserNotConfirmedException="UserNotConfirmedException",t.UserNotFoundException="UserNotFoundException",t})(Ls||{});var Xc=(function(t){return t.CodeDeliveryFailureException="CodeDeliveryFailureException",t.InternalErrorException="InternalErrorException",t.InvalidEmailRoleAccessPolicyException="InvalidEmailRoleAccessPolicyException",t.InvalidLambdaResponseException="InvalidLambdaResponseException",t.InvalidParameterException="InvalidParameterException",t.InvalidPasswordException="InvalidPasswordException",t.InvalidSmsRoleAccessPolicyException="InvalidSmsRoleAccessPolicyException",t.InvalidSmsRoleTrustRelationshipException="InvalidSmsRoleTrustRelationshipException",t.NotAuthorizedException="NotAuthorizedException",t.ResourceNotFoundException="ResourceNotFoundException",t.TooManyRequestsException="TooManyRequestsException",t.UnexpectedLambdaException="UnexpectedLambdaException",t.UserLambdaValidationException="UserLambdaValidationException",t.UsernameExistsException="UsernameExistsException",t})(Xc||{});var tr="UserUnAuthenticatedException",Jg="UserAlreadyAuthenticatedException",Xg="DeviceMetadataNotFoundException",Bs="AutoSignInException",hE="InvalidRedirectException",yE="InvalidAppSchemeException",CE="InvalidPreferredRedirectUrlException",Zg=new D({name:hE,message:"signInRedirect or signOutRedirect had an invalid format or was not found.",recoverySuggestion:"Please make sure the signIn/Out redirect in your oauth config is valid."}),tL=new D({name:yE,message:"A valid non-http app scheme was not found in the config.",recoverySuggestion:"Please make sure a valid custom app scheme is present in the config."}),eh=new D({name:CE,message:"The given preferredRedirectUrl does not match any items in the redirectSignOutUrls array from the config.",recoverySuggestion:"Please make sure a matching preferredRedirectUrl is provided."}),vE="InvalidOriginException",th=new D({name:vE,message:"redirect is coming from a different origin. The oauth flow needs to be initiated from the same origin",recoverySuggestion:"Please call signInWithRedirect from the same origin."}),nh="OAuthSignOutException",oh="TokenRefreshException",rh="UnexpectedSignInInterruptionException";function nr(t){if(!t||!t.accessToken)throw new D({name:tr,message:"User needs to be authenticated to call this API.",recoverySuggestion:"Sign in before calling this API again."})}function ih(t){if(!t||!t.idToken)throw new D({name:tr,message:"User needs to be authenticated to call this API.",recoverySuggestion:"Sign in before calling this API again."})}var SE=new D({name:oh,message:`Token refresh is not supported when authenticated with the 'implicit grant' (token) oauth flow. 
	Please change your oauth configuration to use 'code grant' flow.`,recoverySuggestion:`Please logout and change your Amplify configuration to use "code grant" flow. 
	E.g { responseType: 'code' }`}),_E=new D({name:tr,message:"User needs to be authenticated to call this API.",recoverySuggestion:"Sign in before calling this API again."});function zs(t){if(IE(t))throw SE;if(!EE(t))throw _E}function Zc(t){if(!t||!t.deviceKey||!t.deviceGroupKey||!t.randomPassword)throw new D({name:Xg,message:"Either deviceKey, deviceGroupKey or secretPassword were not found during the sign-in process.",recoverySuggestion:"Make sure to not clear storage after calling the signIn API."})}var sh={inflightOAuth:"inflightOAuth",oauthSignIn:"oauthSignIn",oauthPKCE:"oauthPKCE",oauthState:"oauthState"};function ah(t){return t?.accessToken||t?.idToken}function EE(t){return ah(t)&&t?.refreshToken}function IE(t){return ah(t)&&!t?.refreshToken}var ch=async t=>{let e=t.getConfig().Auth?.Cognito;V(e);let n=await t.Auth.getTokens({forceRefresh:!1});nr(n);let{"cognito:username":o,sub:r}=n.idToken?.payload??{},i={username:o,userId:r},s=bE(n);return s&&(i.signInDetails=s),i};function bE(t){return t?.signInDetails}var Vs=async()=>ch($);var de=(t,e)=>An(y({category:fs.Auth,action:t},e));var Ce=t=>(e,n)=>{let o=xE(t),r=JSON.stringify(e);return wE(n,o,r)},xE=t=>({"content-type":"application/x-amz-json-1.1","x-amz-target":`AWSCognitoIdentityProviderService.${t}`}),wE=({url:t},e,n)=>({headers:e,url:t,body:n,method:"POST"});function Ue(t){if(!t||t.name==="Error"||t instanceof TypeError)throw new D({name:mt.Unknown,message:"An unknown error has occurred.",underlyingError:t})}var xe=()=>async t=>{if(t.statusCode>=300){let e=await bt(t);throw Ue(e),new D({name:e.name,message:e.message,metadata:e.$metadata})}return mn(t)};var TE=()=>(t,e)=>async function(o){return o.headers["cache-control"]="no-store",t(o)},ve=vo(qr,[TE]);var Hs="cognito-idp";var Se={service:Hs,retryDecider:Kr(bt),computeDelay:Wr,get userAgentValue(){return An()},cache:"no-store"};var Gn=t=>se(ve,Ce("InitiateAuth"),xe(),y(y({},Se),t));var bo=t=>se(ve,Ce("RespondToAuthChallenge"),xe(),y(y({},Se),t));var lh=t=>se(ve,Ce("AssociateSoftwareToken"),xe(),y(y({},Se),t));var dh=({region:t})=>({url:new ot(`https://${Hs}.${t}.${jr(t)}`)});var te=({endpointOverride:t})=>e=>t?{url:new ot(t)}:dh(e);var uh=t=>se(ve,Ce("GetTokensFromRefreshToken"),xe(),y(y({},Se),t));var PE=async({tokens:t,authConfig:e,username:n})=>{V(e?.Cognito);let{userPoolId:o,userPoolClientId:r,userPoolEndpoint:i}=e.Cognito,s=ee(o);zs(t);let a=uh({endpointResolver:te({endpointOverride:i})}),{AuthenticationResult:c}=await a({region:s},{ClientId:r,RefreshToken:t.refreshToken,DeviceKey:t.deviceMetadata?.deviceKey}),l=Ye(c?.AccessToken??""),d=c?.IdToken?Ye(c.IdToken):void 0,{iat:u}=l.payload;if(!u)throw new D({name:"iatNotFoundException",message:"iat not found in access token"});let p=u*1e3-new Date().getTime();return{accessToken:l,idToken:d,clockDrift:p,refreshToken:c?.RefreshToken??t.refreshToken,username:n}},ph=Yc(PE);var mh={accessToken:"accessToken",idToken:"idToken",oidcProvider:"oidcProvider",clockDrift:"clockDrift",refreshToken:"refreshToken",deviceKey:"deviceKey",randomPasswordKey:"randomPasswordKey",deviceGroupKey:"deviceGroupKey",signInDetails:"signInDetails",oauthMetadata:"oauthMetadata"};var Ws=(function(t){return t.InvalidAuthTokens="InvalidAuthTokens",t})(Ws||{}),AE={[Ws.InvalidAuthTokens]:{message:"Invalid tokens.",recoverySuggestion:"Make sure the tokens are valid."}},fh=Yt(AE);var el="CognitoIdentityServiceProvider";var Ks=class{getKeyValueStorage(){if(!this.keyValueStorage)throw new D({name:"KeyValueStorageNotFoundException",message:"KeyValueStorage was not found in TokenStore"});return this.keyValueStorage}setKeyValueStorage(e){this.keyValueStorage=e}setAuthConfig(e){this.authConfig=e}async loadTokens(){try{let e=await this.getAuthKeys(),n=await this.getKeyValueStorage().getItem(e.accessToken);if(!n)throw new D({name:"NoSessionFoundException",message:"Auth session was not found. Make sure to call signIn."});let o=Ye(n),r=await this.getKeyValueStorage().getItem(e.idToken),i=r?Ye(r):void 0,s=await this.getKeyValueStorage().getItem(e.refreshToken)??void 0,a=await this.getKeyValueStorage().getItem(e.clockDrift)??"0",c=Number.parseInt(a),l=await this.getKeyValueStorage().getItem(e.signInDetails),d={accessToken:o,idToken:i,refreshToken:s,deviceMetadata:await this.getDeviceMetadata()??void 0,clockDrift:c,username:await this.getLastAuthUser()};return l&&(d.signInDetails=JSON.parse(l)),d}catch{return null}}async storeTokens(e){fh(e!==void 0,Ws.InvalidAuthTokens);let n=e.username;await this.getKeyValueStorage().setItem(this.getLastAuthUserKey(),n);let o=await this.getAuthKeys();await this.getKeyValueStorage().setItem(o.accessToken,e.accessToken.toString()),e.idToken?await this.getKeyValueStorage().setItem(o.idToken,e.idToken.toString()):await this.getKeyValueStorage().removeItem(o.idToken),e.refreshToken?await this.getKeyValueStorage().setItem(o.refreshToken,e.refreshToken):await this.getKeyValueStorage().removeItem(o.refreshToken),e.deviceMetadata&&(e.deviceMetadata.deviceKey&&await this.getKeyValueStorage().setItem(o.deviceKey,e.deviceMetadata.deviceKey),e.deviceMetadata.deviceGroupKey&&await this.getKeyValueStorage().setItem(o.deviceGroupKey,e.deviceMetadata.deviceGroupKey),await this.getKeyValueStorage().setItem(o.randomPasswordKey,e.deviceMetadata.randomPassword)),e.signInDetails?await this.getKeyValueStorage().setItem(o.signInDetails,JSON.stringify(e.signInDetails)):await this.getKeyValueStorage().removeItem(o.signInDetails),await this.getKeyValueStorage().setItem(o.clockDrift,`${e.clockDrift}`)}async clearTokens(){let e=await this.getAuthKeys();await Promise.all([this.getKeyValueStorage().removeItem(e.accessToken),this.getKeyValueStorage().removeItem(e.idToken),this.getKeyValueStorage().removeItem(e.clockDrift),this.getKeyValueStorage().removeItem(e.refreshToken),this.getKeyValueStorage().removeItem(e.signInDetails),this.getKeyValueStorage().removeItem(this.getLastAuthUserKey()),this.getKeyValueStorage().removeItem(e.oauthMetadata)])}async getDeviceMetadata(e){let n=await this.getAuthKeys(e),o=await this.getKeyValueStorage().getItem(n.deviceKey),r=await this.getKeyValueStorage().getItem(n.deviceGroupKey),i=await this.getKeyValueStorage().getItem(n.randomPasswordKey);return i&&r&&o?{deviceKey:o,deviceGroupKey:r,randomPassword:i}:null}async clearDeviceMetadata(e){let n=await this.getAuthKeys(e);await Promise.all([this.getKeyValueStorage().removeItem(n.deviceKey),this.getKeyValueStorage().removeItem(n.deviceGroupKey),this.getKeyValueStorage().removeItem(n.randomPasswordKey)])}async getAuthKeys(e){V(this.authConfig?.Cognito);let n=e??await this.getLastAuthUser();return DE(el,`${this.authConfig.Cognito.userPoolClientId}.${n}`)}getLastAuthUserKey(){V(this.authConfig?.Cognito);let e=this.authConfig.Cognito.userPoolClientId;return`${el}.${e}.LastAuthUser`}async getLastAuthUser(){return await this.getKeyValueStorage().getItem(this.getLastAuthUserKey())??"username"}async setOAuthMetadata(e){let{oauthMetadata:n}=await this.getAuthKeys();await this.getKeyValueStorage().setItem(n,JSON.stringify(e))}async getOAuthMetadata(){let{oauthMetadata:e}=await this.getAuthKeys(),n=await this.getKeyValueStorage().getItem(e);return n&&JSON.parse(n)}},DE=(t,e)=>Xr(mh)(`${t}`,e);function Xr(t){let e=Object.values(y({},t));return(n,o)=>e.reduce((r,i)=>U(y({},r),{[i]:`${n}.${o}.${i}`}),{})}var gh="amplify-signin-with-hostedUI",gn="CognitoIdentityServiceProvider",or=class{constructor(e){this.keyValueStorage=e}async clearOAuthInflightData(){V(this.cognitoConfig);let e=hn(gn,this.cognitoConfig.userPoolClientId);await Promise.all([this.keyValueStorage.removeItem(e.inflightOAuth),this.keyValueStorage.removeItem(e.oauthPKCE),this.keyValueStorage.removeItem(e.oauthState)])}async clearOAuthData(){V(this.cognitoConfig);let e=hn(gn,this.cognitoConfig.userPoolClientId);return await this.clearOAuthInflightData(),await this.keyValueStorage.removeItem(gh),this.keyValueStorage.removeItem(e.oauthSignIn)}loadOAuthState(){V(this.cognitoConfig);let e=hn(gn,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.getItem(e.oauthState)}storeOAuthState(e){V(this.cognitoConfig);let n=hn(gn,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.setItem(n.oauthState,e)}loadPKCE(){V(this.cognitoConfig);let e=hn(gn,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.getItem(e.oauthPKCE)}storePKCE(e){V(this.cognitoConfig);let n=hn(gn,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.setItem(n.oauthPKCE,e)}setAuthConfig(e){this.cognitoConfig=e}async loadOAuthInFlight(){V(this.cognitoConfig);let e=hn(gn,this.cognitoConfig.userPoolClientId);return await this.keyValueStorage.getItem(e.inflightOAuth)==="true"}async storeOAuthInFlight(e){V(this.cognitoConfig);let n=hn(gn,this.cognitoConfig.userPoolClientId);await this.keyValueStorage.setItem(n.inflightOAuth,`${e}`)}async loadOAuthSignIn(){V(this.cognitoConfig);let e=hn(gn,this.cognitoConfig.userPoolClientId),n=await this.keyValueStorage.getItem(gh),[o,r]=(await this.keyValueStorage.getItem(e.oauthSignIn))?.split(",")??[];return{isOAuthSignIn:o==="true"||n==="true",preferPrivateSession:r==="true"}}async storeOAuthSignIn(e,n=!1){V(this.cognitoConfig);let o=hn(gn,this.cognitoConfig.userPoolClientId);await this.keyValueStorage.setItem(o.oauthSignIn,`${e},${n}`)}},hn=(t,e)=>Xr(sh)(t,e);var Ve=new or(Lt);var tl=[],hh=t=>{tl.push(t)},qs=()=>{for(;tl.length;)tl.pop()?.()};var js=class{constructor(){this.waitForInflightOAuth=Dn()?async()=>{if(await Ve.loadOAuthInFlight())return this.inflightPromise?this.inflightPromise:(this.inflightPromise=new Promise((e,n)=>{hh(e)}),this.inflightPromise)}:async()=>{}}setAuthConfig(e){Ve.setAuthConfig(e.Cognito),this.authConfig=e}setTokenRefresher(e){this.tokenRefresher=e}setAuthTokenStore(e){this.tokenStore=e}getTokenStore(){if(!this.tokenStore)throw new D({name:"EmptyTokenStoreException",message:"TokenStore not set"});return this.tokenStore}getTokenRefresher(){if(!this.tokenRefresher)throw new D({name:"EmptyTokenRefresherException",message:"TokenRefresher not set"});return this.tokenRefresher}async getTokens(e){let n;try{V(this.authConfig?.Cognito)}catch{return null}await this.waitForInflightOAuth(),this.inflightPromise=void 0,n=await this.getTokenStore().loadTokens();let o=await this.getTokenStore().getLastAuthUser();if(n===null)return null;let r=!!n?.idToken&&Us({expiresAt:(n.idToken?.payload?.exp??0)*1e3,clockDrift:n.clockDrift??0}),i=Us({expiresAt:(n.accessToken?.payload?.exp??0)*1e3,clockDrift:n.clockDrift??0});return(e?.forceRefresh||r||i)&&(n=await this.refreshTokens({tokens:n,username:o}),n===null)?null:{accessToken:n?.accessToken,idToken:n?.idToken,signInDetails:n?.signInDetails}}async refreshTokens({tokens:e,username:n}){try{let{signInDetails:o}=e,r=await this.getTokenRefresher()({tokens:e,authConfig:this.authConfig,username:n});return r.signInDetails=o,await this.setTokens({tokens:r}),ze.dispatch("auth",{event:"tokenRefresh"},"Auth",qe),r}catch(o){return this.handleErrors(o)}}handleErrors(e){if(Ue(e),e.name!==mt.NetworkError&&this.clearTokens(),ze.dispatch("auth",{event:"tokenRefresh_failure",data:{error:e}},"Auth",qe),e.name.startsWith("NotAuthorizedException"))return null;throw e}async setTokens({tokens:e}){return this.getTokenStore().storeTokens(e)}async clearTokens(){return this.getTokenStore().clearTokens()}getDeviceMetadata(e){return this.getTokenStore().getDeviceMetadata(e)}clearDeviceMetadata(e){return this.getTokenStore().clearDeviceMetadata(e)}setOAuthMetadata(e){return this.getTokenStore().setOAuthMetadata(e)}getOAuthMetadata(){return this.getTokenStore().getOAuthMetadata()}};var $s=class{constructor(){this.authTokenStore=new Ks,this.authTokenStore.setKeyValueStorage(Lt),this.tokenOrchestrator=new js,this.tokenOrchestrator.setAuthTokenStore(this.authTokenStore),this.tokenOrchestrator.setTokenRefresher(ph)}getTokens({forceRefresh:e}={forceRefresh:!1}){return this.tokenOrchestrator.getTokens({forceRefresh:e})}setKeyValueStorage(e){this.authTokenStore.setKeyValueStorage(e)}setAuthConfig(e){this.authTokenStore.setAuthConfig(e),this.tokenOrchestrator.setAuthConfig(e)}};var xo=new $s,{tokenOrchestrator:De}=xo;async function rt(t){if(t.AccessToken){let e=Ye(t.AccessToken),n=(e.payload.iat||0)*1e3,o=new Date().getTime(),r=n>0?n-o:0,i,s,a;t.RefreshToken&&(s=t.RefreshToken),t.IdToken&&(i=Ye(t.IdToken)),t?.NewDeviceMetadata&&(a=t.NewDeviceMetadata);let c={accessToken:e,idToken:i,refreshToken:s,clockDrift:r,deviceMetadata:a,username:t.username};t?.signInDetails&&(c.signInDetails=t.signInDetails),await De.setTokens({tokens:c})}else throw new Ae({message:"Invalid tokens",name:"InvalidTokens",recoverySuggestion:"Check Cognito UserPool settings"})}var NE="Unable to get user session following successful sign-in.",gt=async()=>{try{ze.dispatch("auth",{event:"signedIn",data:await Vs()},"Auth",qe)}catch(t){throw t.name===tr?new D({name:rh,message:NE,recoverySuggestion:"This most likely is due to auth tokens not being persisted. If you are using cookie store, please ensure cookies can be correctly set from your server."}):t}};function yh(){return{active:!1}}var OE=(t,e)=>{switch(e.type){case"SET_USERNAME":return U(y({},t),{username:e.value});case"SET_SESSION":return U(y({},t),{session:e.value});case"START":return U(y({},t),{active:!0});case"RESET":return yh();default:return t}},RE=t=>{let e=t(yh(),{type:"RESET"});return{getState:()=>e,dispatch:n=>{e=t(e,n)}}},zt=RE(OE);var ME=180*1e3,Gs="CognitoSignInState",Mn={username:`${Gs}.username`,challengeName:`${Gs}.challengeName`,signInSession:`${Gs}.signInSession`,expiry:`${Gs}.expiry`},kE=(t,e)=>{switch(e.type){case"SET_SIGN_IN_SESSION":return Ys({signInSession:e.value}),U(y({},t),{signInSession:e.value});case"SET_SIGN_IN_STATE":return Ys(e.value),y({},e.value);case"SET_CHALLENGE_NAME":return Ys({challengeName:e.value}),U(y({},t),{challengeName:e.value});case"SET_USERNAME":return Ys({username:e.value}),U(y({},t),{username:e.value});case"SET_INITIAL_STATE":return FE();case"RESET_STATE":return Ch(),nl();default:return t}},UE=t=>{let e=Number(t),n=Date.now();return e<=n},it=()=>{Xt.dispatch({type:"RESET_STATE"})},Ch=()=>{for(let t of Object.values(Mn))Qt.removeItem(t)},nl=()=>({username:void 0,challengeName:void 0,signInSession:void 0}),FE=()=>{let t=Qt.getItem(Mn.expiry);if(!t||UE(t))return Ch(),nl();let e=Qt.getItem(Mn.username)??void 0,n=Qt.getItem(Mn.challengeName)??void 0,o=Qt.getItem(Mn.signInSession)??void 0;return{username:e,challengeName:n,signInSession:o}},LE=t=>{let e=t(nl(),{type:"SET_INITIAL_STATE"});return{getState:()=>e,dispatch:n=>{e=t(e,n)}}},Xt=LE(kE);function Vt(t){Xt.dispatch({type:"SET_SIGN_IN_STATE",value:t})}var Ys=({challengeName:t,signInSession:e,username:n})=>{n&&Qt.setItem(Mn.username,n),t&&Qt.setItem(Mn.challengeName,t),e&&(Qt.setItem(Mn.signInSession,e),Qt.setItem(Mn.expiry,String(Date.now()+ME)))};var Yn=class t extends Ae{constructor(e){super(e),this.constructor=t,Object.setPrototypeOf(this,t.prototype)}},Ne=(function(t){return t.PasskeyNotSupported="PasskeyNotSupported",t.PasskeyAlreadyExists="PasskeyAlreadyExists",t.InvalidPasskeyRegistrationOptions="InvalidPasskeyRegistrationOptions",t.InvalidPasskeyAuthenticationOptions="InvalidPasskeyAuthenticationOptions",t.RelyingPartyMismatch="RelyingPartyMismatch",t.PasskeyRegistrationFailed="PasskeyRegistrationFailed",t.PasskeyRetrievalFailed="PasskeyRetrievalFailed",t.PasskeyRegistrationCanceled="PasskeyRegistrationCanceled",t.PasskeyAuthenticationCanceled="PasskeyAuthenticationCanceled",t.PasskeyOperationAborted="PasskeyOperationAborted",t})(Ne||{}),vh="Passkeys may not be supported on this device. Ensure your application is running in a secure context (HTTPS) and Web Authentication API is supported.",ol="User may have canceled the ceremony or another interruption has occurred. Check underlying error for details.",Sh="Ensure your user pool is configured to support the WEB_AUTHN as an authentication factor.",Qs={[Ne.PasskeyNotSupported]:{message:"Passkeys may not be supported on this device.",recoverySuggestion:vh},[Ne.InvalidPasskeyRegistrationOptions]:{message:"Invalid passkey registration options.",recoverySuggestion:Sh},[Ne.InvalidPasskeyAuthenticationOptions]:{message:"Invalid passkey authentication options.",recoverySuggestion:Sh},[Ne.PasskeyRegistrationFailed]:{message:"Device failed to create passkey.",recoverySuggestion:vh},[Ne.PasskeyRetrievalFailed]:{message:"Device failed to retrieve passkey.",recoverySuggestion:"Passkeys may not be available on this device. Try an alternative authentication factor like PASSWORD, EMAIL_OTP, or SMS_OTP."},[Ne.PasskeyAlreadyExists]:{message:"Passkey already exists in authenticator.",recoverySuggestion:"Proceed with existing passkey or try again after deleting the credential."},[Ne.PasskeyRegistrationCanceled]:{message:"Passkey registration ceremony has been canceled.",recoverySuggestion:ol},[Ne.PasskeyAuthenticationCanceled]:{message:"Passkey authentication ceremony has been canceled.",recoverySuggestion:ol},[Ne.PasskeyOperationAborted]:{message:"Passkey operation has been aborted.",recoverySuggestion:ol},[Ne.RelyingPartyMismatch]:{message:"Relying party does not match current domain.",recoverySuggestion:"Ensure relying party identifier matches current domain."}},rr=Yt(Qs,Yn),_h=t=>{if(t instanceof Yn)return t;if(t instanceof Error&&t.name==="NotAllowedError"){let{message:e,recoverySuggestion:n}=Qs[Ne.PasskeyAuthenticationCanceled];return new Yn({name:Ne.PasskeyAuthenticationCanceled,message:e,recoverySuggestion:n,underlyingError:t})}return BE(t)};var BE=t=>{if(t instanceof Error){if(t.name==="AbortError"){let{message:e,recoverySuggestion:n}=Qs[Ne.PasskeyOperationAborted];return new Yn({name:Ne.PasskeyOperationAborted,message:e,recoverySuggestion:n,underlyingError:t})}if(t.name==="SecurityError"){let{message:e,recoverySuggestion:n}=Qs[Ne.RelyingPartyMismatch];return new Yn({name:Ne.RelyingPartyMismatch,message:e,recoverySuggestion:n,underlyingError:t})}}return new Yn({name:mt.Unknown,message:"An unknown error has occurred.",underlyingError:t})};var Eh=()=>Dn()&&window.isSecureContext&&"credentials"in navigator&&typeof window.PublicKeyCredential=="function";var ir=t=>Bt.convert(new Uint8Array(t),{urlSafe:!0,skipPadding:!0});var rl=t=>Uint8Array.from(ho.convert(t,{urlSafe:!0}),e=>e.charCodeAt(0)).buffer;var Ih=t=>{let e=rl(t.challenge),n=(t.allowCredentials||[]).map(o=>U(y({},o),{id:rl(o.id)}));return U(y({},t),{challenge:e,allowCredentials:n})},bh=t=>{let e={clientDataJSON:ir(t.response.clientDataJSON),authenticatorData:ir(t.response.authenticatorData),signature:ir(t.response.signature)};t.response.userHandle&&(e.userHandle=ir(t.response.userHandle));let n={id:t.id,rawId:ir(t.rawId),type:t.type,clientExtensionResults:t.getClientExtensionResults(),response:e};return t.authenticatorAttachment&&(n.authenticatorAttachment=t.authenticatorAttachment),n};function xh(t){rr(t&&t instanceof PublicKeyCredential&&t.response instanceof AuthenticatorAssertionResponse,Ne.PasskeyRetrievalFailed)}var wh=async t=>{try{let e=Eh();rr(e,Ne.PasskeyNotSupported);let n=Ih(t),o=await navigator.credentials.get({publicKey:n});return xh(o),bh(o)}catch(e){throw _h(e)}};var Th=t=>se(ve,Ce("ConfirmDevice"),xe(),y(y({},Se),t));var sr={convert(t){return new TextEncoder().encode(t)}};function A(t,e){t!=null&&this.fromString(t,e)}function st(){return new A(null,null)}var Qn,zE=0xdeadbeefcafe,Ph=(zE&16777215)===15715070;function VE(t,e,n,o,r,i){for(;--i>=0;){let s=e*this[t++]+n[o]+r;r=Math.floor(s/67108864),n[o++]=s&67108863}return r}function HE(t,e,n,o,r,i){let s=e&32767,a=e>>15;for(;--i>=0;){let c=this[t]&32767,l=this[t++]>>15,d=a*c+l*s;c=s*c+((d&32767)<<15)+n[o]+(r&1073741823),r=(c>>>30)+(d>>>15)+a*l+(r>>>30),n[o++]=c&1073741823}return r}function WE(t,e,n,o,r,i){let s=e&16383,a=e>>14;for(;--i>=0;){let c=this[t]&16383,l=this[t++]>>14,d=a*c+l*s;c=s*c+((d&16383)<<14)+n[o]+r,r=(c>>28)+(d>>14)+a*l,n[o++]=c&268435455}return r}var Ah=typeof navigator<"u";Ah&&Ph&&navigator.appName==="Microsoft Internet Explorer"?(A.prototype.am=HE,Qn=30):Ah&&Ph&&navigator.appName!=="Netscape"?(A.prototype.am=VE,Qn=26):(A.prototype.am=WE,Qn=28);A.prototype.DB=Qn;A.prototype.DM=(1<<Qn)-1;A.prototype.DV=1<<Qn;var il=52;A.prototype.FV=Math.pow(2,il);A.prototype.F1=il-Qn;A.prototype.F2=2*Qn-il;var KE="0123456789abcdefghijklmnopqrstuvwxyz",Js=[],ar,Ht;ar=48;for(Ht=0;Ht<=9;++Ht)Js[ar++]=Ht;ar=97;for(Ht=10;Ht<36;++Ht)Js[ar++]=Ht;ar=65;for(Ht=10;Ht<36;++Ht)Js[ar++]=Ht;function Dh(t){return KE.charAt(t)}function qE(t,e){let n=Js[t.charCodeAt(e)];return n??-1}function jE(t){for(let e=this.t-1;e>=0;--e)t[e]=this[e];t.t=this.t,t.s=this.s}function $E(t){this.t=1,this.s=t<0?-1:0,t>0?this[0]=t:t<-1?this[0]=t+this.DV:this.t=0}function sl(t){let e=st();return e.fromInt(t),e}function GE(t,e){let n;if(e===16)n=4;else if(e===8)n=3;else if(e===2)n=1;else if(e===32)n=5;else if(e===4)n=2;else throw new Error("Only radix 2, 4, 8, 16, 32 are supported");this.t=0,this.s=0;let o=t.length,r=!1,i=0;for(;--o>=0;){let s=qE(t,o);if(s<0){t.charAt(o)==="-"&&(r=!0);continue}r=!1,i===0?this[this.t++]=s:i+n>this.DB?(this[this.t-1]|=(s&(1<<this.DB-i)-1)<<i,this[this.t++]=s>>this.DB-i):this[this.t-1]|=s<<i,i+=n,i>=this.DB&&(i-=this.DB)}this.clamp(),r&&A.ZERO.subTo(this,this)}function YE(){let t=this.s&this.DM;for(;this.t>0&&this[this.t-1]==t;)--this.t}function QE(t){if(this.s<0)return"-"+this.negate().toString(t);let e;if(t==16)e=4;else if(t===8)e=3;else if(t===2)e=1;else if(t===32)e=5;else if(t===4)e=2;else throw new Error("Only radix 2, 4, 8, 16, 32 are supported");let n=(1<<e)-1,o,r=!1,i="",s=this.t,a=this.DB-s*this.DB%e;if(s-- >0)for(a<this.DB&&(o=this[s]>>a)>0&&(r=!0,i=Dh(o));s>=0;)a<e?(o=(this[s]&(1<<a)-1)<<e-a,o|=this[--s]>>(a+=this.DB-e)):(o=this[s]>>(a-=e)&n,a<=0&&(a+=this.DB,--s)),o>0&&(r=!0),r&&(i+=Dh(o));return r?i:"0"}function JE(){let t=st();return A.ZERO.subTo(this,t),t}function XE(){return this.s<0?this.negate():this}function ZE(t){let e=this.s-t.s;if(e!=0)return e;let n=this.t;if(e=n-t.t,e!=0)return this.s<0?-e:e;for(;--n>=0;)if((e=this[n]-t[n])!=0)return e;return 0}function al(t){let e=1,n;return(n=t>>>16)!==0&&(t=n,e+=16),(n=t>>8)!==0&&(t=n,e+=8),(n=t>>4)!==0&&(t=n,e+=4),(n=t>>2)!==0&&(t=n,e+=2),(n=t>>1)!==0&&(t=n,e+=1),e}function eI(){return this.t<=0?0:this.DB*(this.t-1)+al(this[this.t-1]^this.s&this.DM)}function tI(t,e){let n;for(n=this.t-1;n>=0;--n)e[n+t]=this[n];for(n=t-1;n>=0;--n)e[n]=0;e.t=this.t+t,e.s=this.s}function nI(t,e){for(let n=t;n<this.t;++n)e[n-t]=this[n];e.t=Math.max(this.t-t,0),e.s=this.s}function oI(t,e){let n=t%this.DB,o=this.DB-n,r=(1<<o)-1,i=Math.floor(t/this.DB),s=this.s<<n&this.DM,a;for(a=this.t-1;a>=0;--a)e[a+i+1]=this[a]>>o|s,s=(this[a]&r)<<n;for(a=i-1;a>=0;--a)e[a]=0;e[i]=s,e.t=this.t+i+1,e.s=this.s,e.clamp()}function rI(t,e){e.s=this.s;let n=Math.floor(t/this.DB);if(n>=this.t){e.t=0;return}let o=t%this.DB,r=this.DB-o,i=(1<<o)-1;e[0]=this[n]>>o;for(let s=n+1;s<this.t;++s)e[s-n-1]|=(this[s]&i)<<r,e[s-n]=this[s]>>o;o>0&&(e[this.t-n-1]|=(this.s&i)<<r),e.t=this.t-n,e.clamp()}function iI(t,e){let n=0,o=0,r=Math.min(t.t,this.t);for(;n<r;)o+=this[n]-t[n],e[n++]=o&this.DM,o>>=this.DB;if(t.t<this.t){for(o-=t.s;n<this.t;)o+=this[n],e[n++]=o&this.DM,o>>=this.DB;o+=this.s}else{for(o+=this.s;n<t.t;)o-=t[n],e[n++]=o&this.DM,o>>=this.DB;o-=t.s}e.s=o<0?-1:0,o<-1?e[n++]=this.DV+o:o>0&&(e[n++]=o),e.t=n,e.clamp()}function sI(t,e){let n=this.abs(),o=t.abs(),r=n.t;for(e.t=r+o.t;--r>=0;)e[r]=0;for(r=0;r<o.t;++r)e[r+n.t]=n.am(0,o[r],e,r,0,n.t);e.s=0,e.clamp(),this.s!==t.s&&A.ZERO.subTo(e,e)}function aI(t){let e=this.abs(),n=t.t=2*e.t;for(;--n>=0;)t[n]=0;for(n=0;n<e.t-1;++n){let o=e.am(n,e[n],t,2*n,0,1);(t[n+e.t]+=e.am(n+1,2*e[n],t,2*n+1,o,e.t-n-1))>=e.DV&&(t[n+e.t]-=e.DV,t[n+e.t+1]=1)}t.t>0&&(t[t.t-1]+=e.am(n,e[n],t,2*n,0,1)),t.s=0,t.clamp()}function cI(t,e,n){let o=t.abs();if(o.t<=0)return;let r=this.abs();if(r.t<o.t){e?.fromInt(0),n!=null&&this.copyTo(n);return}n===null&&(n=st());let i=st(),s=this.s,a=t.s,c=this.DB-al(o[o.t-1]);c>0?(o.lShiftTo(c,i),r.lShiftTo(c,n)):(o.copyTo(i),r.copyTo(n));let l=i.t,d=i[l-1];if(d===0)return;let u=d*(1<<this.F1)+(l>1?i[l-2]>>this.F2:0),p=this.FV/u,m=(1<<this.F1)/u,f=1<<this.F2,g=n.t,C=g-l,h=e===null?st():e;for(i.dlShiftTo(C,h),n.compareTo(h)>=0&&(n[n.t++]=1,n.subTo(h,n)),A.ONE.dlShiftTo(l,h),h.subTo(i,i);i.t<l;)i[i.t++]=0;for(;--C>=0;){let v=n[--g]===d?this.DM:Math.floor(n[g]*p+(n[g-1]+f)*m);if((n[g]+=i.am(0,v,n,C,0,l))<v)for(i.dlShiftTo(C,h),n.subTo(h,n);n[g]<--v;)n.subTo(h,n)}e!==null&&(n.drShiftTo(l,e),s!==a&&A.ZERO.subTo(e,e)),n.t=l,n.clamp(),c>0&&n.rShiftTo(c,n),s<0&&A.ZERO.subTo(n,n)}function lI(t){let e=st();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(A.ZERO)>0&&t.subTo(e,e),e}function dI(){if(this.t<1)return 0;let t=this[0];if((t&1)===0)return 0;let e=t&3;return e=e*(2-(t&15)*e)&15,e=e*(2-(t&255)*e)&255,e=e*(2-((t&65535)*e&65535))&65535,e=e*(2-t*e%this.DV)%this.DV,e>0?this.DV-e:-e}function uI(t){return this.compareTo(t)===0}function pI(t,e){let n=0,o=0,r=Math.min(t.t,this.t);for(;n<r;)o+=this[n]+t[n],e[n++]=o&this.DM,o>>=this.DB;if(t.t<this.t){for(o+=t.s;n<this.t;)o+=this[n],e[n++]=o&this.DM,o>>=this.DB;o+=this.s}else{for(o+=this.s;n<t.t;)o+=t[n],e[n++]=o&this.DM,o>>=this.DB;o+=t.s}e.s=o<0?-1:0,o>0?e[n++]=o:o<-1&&(e[n++]=this.DV+o),e.t=n,e.clamp()}function mI(t){let e=st();return this.addTo(t,e),e}function fI(t){let e=st();return this.subTo(t,e),e}function gI(t){let e=st();return this.multiplyTo(t,e),e}function hI(t){let e=st();return this.divRemTo(t,e,null),e}function cr(t){this.m=t,this.mp=t.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function yI(t){let e=st();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(A.ZERO)>0&&this.m.subTo(e,e),e}function CI(t){let e=st();return t.copyTo(e),this.reduce(e),e}function vI(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(let e=0;e<this.m.t;++e){let n=t[e]&32767,o=n*this.mpl+((n*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(n=e+this.m.t,t[n]+=this.m.am(0,o,t,e,0,this.m.t);t[n]>=t.DV;)t[n]-=t.DV,t[++n]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)}function SI(t,e){t.squareTo(e),this.reduce(e)}function _I(t,e,n){t.multiplyTo(e,n),this.reduce(n)}cr.prototype.convert=yI;cr.prototype.revert=CI;cr.prototype.reduce=vI;cr.prototype.mulTo=_I;cr.prototype.sqrTo=SI;function EI(t,e,n){let o=t.bitLength(),r,i=sl(1),s=new cr(e);if(o<=0)return i;o<18?r=1:o<48?r=3:o<144?r=4:o<768?r=5:r=6;let a=[],c=3,l=r-1,d=(1<<r)-1;if(a[1]=s.convert(this),r>1){let h=st();for(s.sqrTo(a[1],h);c<=d;)a[c]=st(),s.mulTo(h,a[c-2],a[c]),c+=2}let u=t.t-1,p,m=!0,f=st(),g;for(o=al(t[u])-1;u>=0;){for(o>=l?p=t[u]>>o-l&d:(p=(t[u]&(1<<o+1)-1)<<l-o,u>0&&(p|=t[u-1]>>this.DB+o-l)),c=r;(p&1)===0;)p>>=1,--c;if((o-=c)<0&&(o+=this.DB,--u),m)a[p].copyTo(i),m=!1;else{for(;c>1;)s.sqrTo(i,f),s.sqrTo(f,i),c-=2;c>0?s.sqrTo(i,f):(g=i,i=f,f=g),s.mulTo(f,a[p],i)}for(;u>=0&&(t[u]&1<<o)===0;)s.sqrTo(i,f),g=i,i=f,f=g,--o<0&&(o=this.DB-1,--u)}let C=s.revert(i);return n(null,C),C}A.prototype.copyTo=jE;A.prototype.fromInt=$E;A.prototype.fromString=GE;A.prototype.clamp=YE;A.prototype.dlShiftTo=tI;A.prototype.drShiftTo=nI;A.prototype.lShiftTo=oI;A.prototype.rShiftTo=rI;A.prototype.subTo=iI;A.prototype.multiplyTo=sI;A.prototype.squareTo=aI;A.prototype.divRemTo=cI;A.prototype.invDigit=dI;A.prototype.addTo=pI;A.prototype.toString=QE;A.prototype.negate=JE;A.prototype.abs=XE;A.prototype.compareTo=ZE;A.prototype.bitLength=eI;A.prototype.mod=lI;A.prototype.equals=uI;A.prototype.add=mI;A.prototype.subtract=fI;A.prototype.multiply=gI;A.prototype.divide=hI;A.prototype.modPow=EI;A.ZERO=sl(0);A.ONE=sl(1);var Nh=async({a:t,g:e,k:n,x:o,B:r,N:i,U:s})=>new Promise((a,c)=>{e.modPow(o,i,(l,d)=>{if(l){c(l);return}r.subtract(n.multiply(d)).modPow(t.add(s.multiply(o)),i,(u,p)=>{if(u){c(u);return}a(p.mod(i))})})});var Oh="FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D670C354E4ABC9804F1746C08CA18217C32905E462E36CE3BE39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF6955817183995497CEA956AE515D2261898FA051015728E5A8AAAC42DAD33170D04507A33A85521ABDF1CBA64ECFB850458DBEF0A8AEA71575D060C7DB3970F85A6E1E4C7ABF5AE8CDB0933D71E8C94E04A25619DCEE3D2261AD2EE6BF12FFA06D98A0864D87602733EC86A64521F2B18177B200CBBE117577A615D6C770988C0BAD946E208E24FA074E5AB3143DB5BFCE0FD108E4B82D120A93AD2CAFFFFFFFFFFFFFFFF",cl={},Xs={};for(let t=0;t<256;t++){let e=t.toString(16).toLowerCase();e.length===1&&(e=`0${e}`),cl[t]=e,Xs[e]=t}var yn=t=>{if(t.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let e=new Uint8Array(t.length/2);for(let n=0;n<t.length;n+=2){let o=t.slice(n,n+2).toLowerCase();if(o in Xs)e[n/2]=Xs[o];else throw new Error(`Cannot decode unrecognized sequence ${o} as hexadecimal`)}return e};var lr=t=>{let e="";for(let n=0;n<t.byteLength;n++)e+=cl[t[n]];return e};var Zr=t=>{let e=new Pn;e.update(t);let n=e.digestSync(),o=lr(n);return new Array(64-o.length).join("0")+o};var dr=t=>Zr(yn(t));var II=/^[89a-f]/i,Zt=t=>{if(!(t instanceof A))throw new Error("Not a BigInteger");let e=t.compareTo(A.ZERO)<0,n=t.abs().toString(16);if(n=n.length%2!==0?`0${n}`:n,n=II.test(n)?`00${n}`:n,e){let o=n.split("").map(i=>{let s=~parseInt(i,16)&15;return"0123456789ABCDEF".charAt(s)}).join("");n=new A(o,16).add(A.ONE).toString(16),n.toUpperCase().startsWith("FF8")&&(n=n.substring(2))}return n};var Rh=({A:t,B:e})=>{let n=new A(dr(Zt(t)+Zt(e)),16);if(n.equals(A.ZERO))throw new Error("U cannot be zero.");return n};var Mh=(t,e,n)=>{let o=new Pn(e);o.update(t);let r=o.digestSync(),i=new Pn(r);return i.update(n),i.digestSync().slice(0,16)};var ur=t=>{let e=new Qr().random(t).toString();return yn(e)};var kh=()=>Bt.convert(ur(40));var Zs=class{constructor({userPoolName:e,a:n,g:o,A:r,N:i}){this.encoder=sr,this.userPoolName=e,this.a=n,this.g=o,this.A=r,this.N=i,this.k=new A(dr(`${Zt(i)}${Zt(o)}`),16)}getRandomPassword(){if(!this.randomPassword)throw new D({name:"EmptyBigIntegerRandomPassword",message:"random password is empty"});return this.randomPassword}getSaltToHashDevices(){if(!this.saltToHashDevices)throw new D({name:"EmptyBigIntegersaltToHashDevices",message:"saltToHashDevices is empty"});return this.saltToHashDevices}getVerifierDevices(){if(!this.verifierDevices)throw new D({name:"EmptyBigIntegerVerifierDevices",message:"verifyDevices is empty"});return this.verifierDevices}async generateHashDevice(e,n){this.randomPassword=kh();let o=`${e}${n}:${this.randomPassword}`,r=Zr(o),i=lr(ur(16));return this.saltToHashDevices=Zt(new A(i,16)),new Promise((s,a)=>{this.g.modPow(new A(dr(this.saltToHashDevices+r),16),this.N,(c,l)=>{if(c){a(c);return}this.verifierDevices=Zt(l),s()})})}async getPasswordAuthenticationKey({username:e,password:n,serverBValue:o,salt:r}){if(o.mod(this.N).equals(A.ZERO))throw new Error("B cannot be zero.");let i=Rh({A:this.A,B:o}),s=`${this.userPoolName}${e}:${n}`,a=Zr(s),c=new A(dr(Zt(r)+a),16),l=await Nh({a:this.a,g:this.g,k:this.k,x:c,B:o,N:this.N,U:i}),d=this.encoder.convert("Caldera Derived Key"),u=this.encoder.convert(""),p=new Uint8Array(d.byteLength+u.byteLength);return p.set(d,0),p.set(u,d.byteLength),Mh(yn(Zt(l)),yn(Zt(i)),p)}};var Uh=async({a:t,g:e,N:n})=>new Promise((o,r)=>{e.modPow(t,n,(i,s)=>{if(i){r(i);return}if(s.mod(n).equals(A.ZERO)){r(new Error("Illegal parameter. A mod N cannot be 0."));return}o(s)})});var Jn=async t=>{let e=new A(Oh,16),n=new A("2",16),o=bI(),r=await Uh({a:o,g:n,N:e});return new Zs({userPoolName:t,a:o,g:n,A:r,N:e})},bI=()=>{let t=lr(ur(128));return new A(t,16)};async function Wt({userPoolId:t,userPoolEndpoint:e,newDeviceMetadata:n,accessToken:o}){if(!n)return;let r=t.split("_")[1]||"",i=await Jn(r),s=n?.DeviceKey,a=n?.DeviceGroupKey;try{await i.generateHashDevice(a??"",s??"")}catch{return}let c={Salt:Bt.convert(yn(i.getSaltToHashDevices())),PasswordVerifier:Bt.convert(yn(i.getVerifierDevices()))},l=i.getRandomPassword();try{return await Th({endpointResolver:te({endpointOverride:e})})({region:ee(t)},{AccessToken:o,DeviceName:await Qc(),DeviceKey:n?.DeviceKey,DeviceSecretVerifierConfig:c}),{deviceKey:s,deviceGroupKey:a,randomPassword:l}}catch{return}}async function Fh(t){let e=$.getConfig().Auth?.Cognito;V(e);let{username:n,signInSession:o,signInDetails:r,challengeName:i}=Xt.getState();if(i!=="WEB_AUTHN"||!n)throw new D({name:Rn.SignInException,message:"Unable to proceed due to invalid sign in state."});let{CREDENTIAL_REQUEST_OPTIONS:s}=t;rr(!!s,Ne.InvalidPasskeyAuthenticationOptions);let a=await wh(JSON.parse(s)),c=bo({endpointResolver:te({endpointOverride:e.userPoolEndpoint})}),{ChallengeName:l,ChallengeParameters:d,AuthenticationResult:u,Session:p}=await c({region:ee(e.userPoolId),userAgentValue:de(ie.ConfirmSignIn)},{ChallengeName:"WEB_AUTHN",ChallengeResponses:{USERNAME:n,CREDENTIAL:JSON.stringify(a)},ClientId:e.userPoolClientId,Session:o});if(Vt({signInSession:p,username:n,challengeName:l,signInDetails:r}),u)return await rt(U(y({},u),{username:n,NewDeviceMetadata:await Wt({userPoolId:e.userPoolId,userPoolEndpoint:e.userPoolEndpoint,newDeviceMetadata:u.NewDeviceMetadata,accessToken:u.AccessToken}),signInDetails:r})),Xt.dispatch({type:"RESET_STATE"}),await gt(),{isSignedIn:!0,nextStep:{signInStep:"DONE"}};if(l==="WEB_AUTHN")throw new D({name:Rn.SignInException,message:"Sequential WEB_AUTHN challenges returned from underlying service cannot be handled."});return{challengeName:l,challengeParameters:d}}function ke({username:t,userPoolId:e,userPoolClientId:n}){if(typeof window>"u")return;let o=window.AmazonCognitoAdvancedSecurityData;if(typeof o>"u")return;let r=o.getData(t,e,n);return r?{EncodedData:r}:{}}var xI=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wI=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ea=()=>{let t=new Date,e=wI[t.getUTCDay()],n=xI[t.getUTCMonth()],o=t.getUTCDate(),r=t.getUTCHours();r<10&&(r=`0${r}`);let i=t.getUTCMinutes();i<10&&(i=`0${i}`);let s=t.getUTCSeconds();s<10&&(s=`0${s}`);let a=t.getUTCFullYear();return`${e} ${n} ${o} ${r}:${i}:${s} UTC ${a}`};var ta=({userPoolName:t,username:e,challengeParameters:n,dateNow:o,hkdf:r})=>{let i=sr.convert(t),s=sr.convert(e),a=TI(n.SECRET_BLOCK),c=sr.convert(o),l=new Uint8Array(i.byteLength+s.byteLength+a.byteLength+c.byteLength);l.set(i,0),l.set(s,i.byteLength),l.set(a,i.byteLength+s.byteLength),l.set(c,i.byteLength+s.byteLength+a.byteLength);let d=new Pn(r);d.update(l);let u=d.digestSync();return Bt.convert(u)},TI=t=>{let e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/-/g,"+").replace(/_/g,"/"),o=ho.convert(n),r=new Uint8Array(o.length);for(let i=0;i<o.length;++i)r[i]=o.charCodeAt(i);return r};async function ei({username:t,config:e,clientMetadata:n,session:o,tokenOrchestrator:r}){let{userPoolId:i,userPoolEndpoint:s}=e,a=e.userPoolClientId,c=await r?.getDeviceMetadata(t);Zc(c);let l=await Jn(c.deviceGroupKey),d={USERNAME:t,SRP_A:l.A.toString(16),DEVICE_KEY:c.deviceKey},u={ChallengeName:"DEVICE_SRP_AUTH",ClientId:a,ChallengeResponses:d,ClientMetadata:n,Session:o},p=bo({endpointResolver:te({endpointOverride:s})}),{ChallengeParameters:m,Session:f}=await p({region:ee(i)},u);return PI(t,m,n,f,l,e,r)}async function PI(t,e,n,o,r,{userPoolId:i,userPoolClientId:s,userPoolEndpoint:a},c){let l=await c?.getDeviceMetadata(t);Zc(l);let d=new A(e?.SRP_B,16),u=new A(e?.SALT,16),{deviceKey:p}=l,{deviceGroupKey:m}=l,f=await r.getPasswordAuthenticationKey({username:l.deviceKey,password:l.randomPassword,serverBValue:d,salt:u}),g=ea(),C={USERNAME:e?.USERNAME??t,PASSWORD_CLAIM_SECRET_BLOCK:e?.SECRET_BLOCK,TIMESTAMP:g,PASSWORD_CLAIM_SIGNATURE:ta({username:p,userPoolName:m,challengeParameters:e,dateNow:g,hkdf:f}),DEVICE_KEY:p},h=ke({username:t,userPoolId:i,userPoolClientId:s}),v={ChallengeName:"DEVICE_PASSWORD_VERIFIER",ClientId:s,ChallengeResponses:C,Session:o,ClientMetadata:n,UserContextData:h};return bo({endpointResolver:te({endpointOverride:a})})({region:ee(i)},v)}async function na(t,e,n,o,r,i,s){let{userPoolId:a,userPoolClientId:c,userPoolEndpoint:l}=i,d=a?.split("_")[1]||"",u=new A(e?.SRP_B,16),p=new A(e?.SALT,16),m=e?.USER_ID_FOR_SRP;if(!m)throw new D({name:"EmptyUserIdForSRPException",message:"USER_ID_FOR_SRP was not found in challengeParameters"});let f=await r.getPasswordAuthenticationKey({username:m,password:t,serverBValue:u,salt:p}),g=ea(),C={USERNAME:m,PASSWORD_CLAIM_SECRET_BLOCK:e?.SECRET_BLOCK,TIMESTAMP:g,PASSWORD_CLAIM_SIGNATURE:ta({username:m,userPoolName:d,challengeParameters:e,dateNow:g,hkdf:f})},h=await s.getDeviceMetadata(m);h&&h.deviceKey&&(C.DEVICE_KEY=h.deviceKey);let v=ke({username:m,userPoolId:a,userPoolClientId:c}),x={ChallengeName:"PASSWORD_VERIFIER",ChallengeResponses:C,ClientMetadata:n,Session:o,ClientId:c,UserContextData:v},k=await bo({endpointResolver:te({endpointOverride:l})})({region:ee(a)},x);return k.ChallengeName==="DEVICE_SRP_AUTH"?ei({username:m,config:i,clientMetadata:n,session:k.Session,tokenOrchestrator:s}):k}async function Xn(t,e,n,o){try{return await t(...e)}catch(r){if(r instanceof D&&r.name==="ResourceNotFoundException"&&r.message.includes("Device does not exist."))return await o.clearDeviceMetadata(n),t(...e);throw r}}function Zn(t){let{dispatch:e}=Xt;e({type:"SET_USERNAME",value:t})}async function oa({username:t,password:e,clientMetadata:n,config:o,tokenOrchestrator:r,authFlow:i,preferredChallenge:s}){let{userPoolId:a,userPoolClientId:c,userPoolEndpoint:l}=o,d=a?.split("_")[1]||"",u=await Jn(d),p={USERNAME:t,SRP_A:u.A.toString(16)};i==="USER_AUTH"&&s&&(p.PREFERRED_CHALLENGE=s);let m=ke({username:t,userPoolId:a,userPoolClientId:c}),f={AuthFlow:i,AuthParameters:p,ClientMetadata:n,ClientId:c,UserContextData:m},C=await Gn({endpointResolver:te({endpointOverride:l})})({region:ee(a),userAgentValue:de(ie.SignIn)},f),{ChallengeParameters:h,Session:v}=C,x=h?.USERNAME??t;return Zn(x),C.ChallengeName==="PASSWORD_VERIFIER"?Xn(na,[e,h,n,v,u,o,r],x,r):C}var Lh="userAttributes.";function AI(t){return"isSignedIn"in t&&"nextStep"in t}async function Vh(t,e,n,o,r){let{userPoolClientId:i,userPoolId:s,userPoolEndpoint:a}=o,c={USERNAME:t,PASSWORD:e},l=await r.getDeviceMetadata(t);l&&l.deviceKey&&(c.DEVICE_KEY=l.deviceKey);let d=ke({username:t,userPoolId:s,userPoolClientId:i}),u={AuthFlow:"USER_PASSWORD_AUTH",AuthParameters:c,ClientMetadata:n,ClientId:i,UserContextData:d},m=await Gn({endpointResolver:te({endpointOverride:a})})({region:ee(s),userAgentValue:de(ie.SignIn)},u),f=m.ChallengeParameters?.USERNAME??m.ChallengeParameters?.USER_ID_FOR_SRP??t;return Zn(f),m.ChallengeName==="DEVICE_SRP_AUTH"?ei({username:f,config:o,clientMetadata:n,session:m.Session,tokenOrchestrator:r}):m}async function Hh(t,e,n,o,r){return oa({username:t,password:e,clientMetadata:n,config:o,tokenOrchestrator:r,authFlow:"USER_SRP_AUTH"})}async function Wh(t,e,n,o){let{userPoolClientId:r,userPoolId:i,userPoolEndpoint:s}=n,a={USERNAME:t},c=await o.getDeviceMetadata(t);c&&c.deviceKey&&(a.DEVICE_KEY=c.deviceKey);let l=ke({username:t,userPoolId:i,userPoolClientId:r}),d={AuthFlow:"CUSTOM_AUTH",AuthParameters:a,ClientMetadata:e,ClientId:r,UserContextData:l},p=await Gn({endpointResolver:te({endpointOverride:s})})({region:ee(i),userAgentValue:de(ie.SignIn)},d),m=p.ChallengeParameters?.USERNAME??t;return Zn(m),p.ChallengeName==="DEVICE_SRP_AUTH"?ei({username:m,config:n,clientMetadata:e,session:p.Session,tokenOrchestrator:o}):p}async function Kh(t,e,n,o,r){V(o);let{userPoolId:i,userPoolClientId:s,userPoolEndpoint:a}=o,c=i?.split("_")[1]||"",l=await Jn(c),d={USERNAME:t,SRP_A:l.A.toString(16),CHALLENGE_NAME:"SRP_A"},u=ke({username:t,userPoolId:i,userPoolClientId:s}),p={AuthFlow:"CUSTOM_AUTH",AuthParameters:d,ClientMetadata:n,ClientId:s,UserContextData:u},m=Gn({endpointResolver:te({endpointOverride:a})}),{ChallengeParameters:f,Session:g}=await m({region:ee(i),userAgentValue:de(ie.SignIn)},p),C=f?.USERNAME??t;return Zn(C),Xn(na,[e,f,n,g,l,o,r],C,r)}async function en(t){let{challengeName:e,challengeParameters:n,availableChallenges:o}=t,r=$.getConfig().Auth?.Cognito;switch(V(r),e){case"CUSTOM_CHALLENGE":return{isSignedIn:!1,nextStep:{signInStep:"CONFIRM_SIGN_IN_WITH_CUSTOM_CHALLENGE",additionalInfo:n}};case"MFA_SETUP":{let{signInSession:i,username:s}=Xt.getState(),a=Bh(zh(n.MFAS_CAN_SETUP))||[],c=RI(a),l=c.includes("TOTP"),d=c.includes("EMAIL");if(l&&d)return{isSignedIn:!1,nextStep:{signInStep:"CONTINUE_SIGN_IN_WITH_MFA_SETUP_SELECTION",allowedMFATypes:c}};if(d)return{isSignedIn:!1,nextStep:{signInStep:"CONTINUE_SIGN_IN_WITH_EMAIL_SETUP"}};if(l){let u=lh({endpointResolver:te({endpointOverride:r.userPoolEndpoint})}),{Session:p,SecretCode:m}=await u({region:ee(r.userPoolId)},{Session:i});return Xt.dispatch({type:"SET_SIGN_IN_SESSION",value:p}),{isSignedIn:!1,nextStep:{signInStep:"CONTINUE_SIGN_IN_WITH_TOTP_SETUP",totpSetupDetails:DI(m,s)}}}throw new D({name:Rn.SignInException,message:`Cannot initiate MFA setup from available types: ${a}`})}case"NEW_PASSWORD_REQUIRED":return{isSignedIn:!1,nextStep:{signInStep:"CONFIRM_SIGN_IN_WITH_NEW_PASSWORD_REQUIRED",missingAttributes:NI(n.requiredAttributes)}};case"SELECT_MFA_TYPE":return{isSignedIn:!1,nextStep:{signInStep:"CONTINUE_SIGN_IN_WITH_MFA_SELECTION",allowedMFATypes:Bh(zh(n.MFAS_CAN_CHOOSE))}};case"SMS_OTP":case"SMS_MFA":return{isSignedIn:!1,nextStep:{signInStep:"CONFIRM_SIGN_IN_WITH_SMS_CODE",codeDeliveryDetails:{deliveryMedium:n.CODE_DELIVERY_DELIVERY_MEDIUM,destination:n.CODE_DELIVERY_DESTINATION}}};case"SOFTWARE_TOKEN_MFA":return{isSignedIn:!1,nextStep:{signInStep:"CONFIRM_SIGN_IN_WITH_TOTP_CODE"}};case"EMAIL_OTP":return{isSignedIn:!1,nextStep:{signInStep:"CONFIRM_SIGN_IN_WITH_EMAIL_CODE",codeDeliveryDetails:{deliveryMedium:n.CODE_DELIVERY_DELIVERY_MEDIUM,destination:n.CODE_DELIVERY_DESTINATION}}};case"WEB_AUTHN":{let i=await Fh(n);return AI(i)?i:en(i)}case"PASSWORD":case"PASSWORD_SRP":return{isSignedIn:!1,nextStep:{signInStep:"CONFIRM_SIGN_IN_WITH_PASSWORD"}};case"SELECT_CHALLENGE":return{isSignedIn:!1,nextStep:{signInStep:"CONTINUE_SIGN_IN_WITH_FIRST_FACTOR_SELECTION",availableChallenges:o}}}throw new D({name:Rn.SignInException,message:`An error occurred during the sign in process. ${e} challengeName returned by the underlying service was not addressed.`})}function DI(t,e){return{sharedSecret:t,getSetupUri:(n,o)=>{let r=`otpauth://totp/${n}:${o??e}?secret=${t}&issuer=${n}`;return new ot(r)}}}function Cn(t){if(t===Ls.PasswordResetRequiredException)return{isSignedIn:!1,nextStep:{signInStep:"RESET_PASSWORD"}};if(t===Ls.UserNotConfirmedException)return{isSignedIn:!1,nextStep:{signInStep:"CONFIRM_SIGN_UP"}}}function NI(t){return t?JSON.parse(t).map(n=>n.includes(Lh)?n.replace(Lh,""):n):[]}function OI(t){if(t==="SMS_MFA")return"SMS";if(t==="SOFTWARE_TOKEN_MFA")return"TOTP";if(t==="EMAIL_OTP")return"EMAIL"}function Bh(t){if(t)return t.map(OI).filter(Boolean)}function zh(t){return t?JSON.parse(t):[]}function RI(t){return t.filter(e=>e==="EMAIL"||e==="TOTP")}async function ra(){let t;try{t=await Vs()}catch{}if(t&&t.userId&&t.username)throw new D({name:Jg,message:"There is already a signed in user.",recoverySuggestion:"Call signOut before calling signIn again."})}function vn(t){return Xt.getState().username??t}async function qh(t){let e=$.getConfig().Auth?.Cognito;V(e);let{username:n,password:o,options:r}=t,i={loginId:n,authFlowType:"CUSTOM_WITHOUT_SRP"},s=r?.clientMetadata;ae(!!n,H.EmptySignInUsername),ae(!o,H.CustomAuthSignInPassword);try{let{ChallengeName:a,ChallengeParameters:c,AuthenticationResult:l,Session:d}=await Xn(Wh,[n,s,e,De],n,De),u=vn(n);return Vt({signInSession:d,username:u,challengeName:a,signInDetails:i}),l?(await rt(U(y({username:u},l),{NewDeviceMetadata:await Wt({userPoolId:e.userPoolId,userPoolEndpoint:e.userPoolEndpoint,newDeviceMetadata:l.NewDeviceMetadata,accessToken:l.AccessToken}),signInDetails:i})),it(),await gt(),{isSignedIn:!0,nextStep:{signInStep:"DONE"}}):en({challengeName:a,challengeParameters:c})}catch(a){it(),Ue(a);let c=Cn(a.name);if(c)return c;throw a}}async function jh(t){let{username:e,password:n,options:o}=t,r={loginId:e,authFlowType:"CUSTOM_WITH_SRP"},i=$.getConfig().Auth?.Cognito;V(i);let s=o?.clientMetadata;ae(!!e,H.EmptySignInUsername),ae(!!n,H.EmptySignInPassword);try{let{ChallengeName:a,ChallengeParameters:c,AuthenticationResult:l,Session:d}=await Kh(e,n,s,i,De),u=vn(e);return Vt({signInSession:d,username:u,challengeName:a,signInDetails:r}),l?(await rt(U(y({username:u},l),{NewDeviceMetadata:await Wt({userPoolId:i.userPoolId,userPoolEndpoint:i.userPoolEndpoint,newDeviceMetadata:l.NewDeviceMetadata,accessToken:l.AccessToken}),signInDetails:r})),it(),await gt(),{isSignedIn:!0,nextStep:{signInStep:"DONE"}}):en({challengeName:a,challengeParameters:c})}catch(a){it(),Ue(a);let c=Cn(a.name);if(c)return c;throw a}}var $h=async()=>{throw new D({name:Bs,message:"The autoSignIn flow has not started, or has been cancelled/completed.",recoverySuggestion:"Please try to use the signIn API or log out before starting a new autoSignIn flow."})},Gh=$h;function ti(t){Gh=t}function He(t=!0){t&&(Gh=$h),zt.dispatch({type:"RESET"})}async function ll(t){let{username:e,password:n}=t,o=$.getConfig().Auth?.Cognito,r={loginId:e,authFlowType:"USER_SRP_AUTH"};V(o);let i=t.options?.clientMetadata;ae(!!e,H.EmptySignInUsername),ae(!!n,H.EmptySignInPassword);try{let{ChallengeName:s,ChallengeParameters:a,AuthenticationResult:c,Session:l}=await Hh(e,n,i,o,De),d=vn(e);return Vt({signInSession:l,username:d,challengeName:s,signInDetails:r}),c?(await rt(U(y({username:d},c),{NewDeviceMetadata:await Wt({userPoolId:o.userPoolId,userPoolEndpoint:o.userPoolEndpoint,newDeviceMetadata:c.NewDeviceMetadata,accessToken:c.AccessToken}),signInDetails:r})),it(),await gt(),He(),{isSignedIn:!0,nextStep:{signInStep:"DONE"}}):en({challengeName:s,challengeParameters:a})}catch(s){it(),He(),Ue(s);let a=Cn(s.name);if(a)return a;throw s}}async function Yh(t){let{username:e,password:n,options:o}=t,r=$.getConfig().Auth?.Cognito,i={loginId:e,authFlowType:"USER_PASSWORD_AUTH"};V(r);let s=o?.clientMetadata;ae(!!e,H.EmptySignInUsername),ae(!!n,H.EmptySignInPassword);try{let{ChallengeName:a,ChallengeParameters:c,AuthenticationResult:l,Session:d}=await Xn(Vh,[e,n,s,r,De],e,De),u=vn(e);return Vt({signInSession:d,username:u,challengeName:a,signInDetails:i}),l?(await rt(U(y({},l),{username:u,NewDeviceMetadata:await Wt({userPoolId:r.userPoolId,userPoolEndpoint:r.userPoolEndpoint,newDeviceMetadata:l.NewDeviceMetadata,accessToken:l.AccessToken}),signInDetails:i})),it(),await gt(),He(),{isSignedIn:!0,nextStep:{signInStep:"DONE"}}):en({challengeName:a,challengeParameters:c})}catch(a){it(),He(),Ue(a);let c=Cn(a.name);if(c)return c;throw a}}async function Qh({username:t,clientMetadata:e,config:n,tokenOrchestrator:o,preferredChallenge:r,password:i,session:s}){let{userPoolId:a,userPoolClientId:c,userPoolEndpoint:l}=n,d=ke({username:t,userPoolId:a,userPoolClientId:c}),u={USERNAME:t};if(r){if(r==="PASSWORD_SRP")return ae(!!i,H.EmptySignInPassword),oa({username:t,password:i,clientMetadata:e,config:n,tokenOrchestrator:o,authFlow:"USER_AUTH",preferredChallenge:r});r==="PASSWORD"&&(ae(!!i,H.EmptySignInPassword),u.PASSWORD=i),u.PREFERRED_CHALLENGE=r}let p={AuthFlow:"USER_AUTH",AuthParameters:u,ClientMetadata:e,ClientId:c,UserContextData:d};s&&(p.Session=s);let f=await Gn({endpointResolver:te({endpointOverride:l})})({region:ee(a),userAgentValue:de(ie.SignIn)},p);return Zn(t),f}async function ia(t){let{username:e,password:n,options:o}=t,r=$.getConfig().Auth?.Cognito,i={loginId:e,authFlowType:"USER_AUTH"};V(r);let s=o?.clientMetadata,a=o?.preferredChallenge;ae(!!e,H.EmptySignInUsername);try{let c={username:e,config:r,tokenOrchestrator:De,clientMetadata:s,preferredChallenge:a,password:n},l=zt.getState();l.active&&l.username===e&&(c.session=l.session);let d=await Qh(c),u=vn(e);return Vt({signInSession:d.Session,username:u,challengeName:d.ChallengeName,signInDetails:i}),d.AuthenticationResult?(await rt(U(y({username:u},d.AuthenticationResult),{NewDeviceMetadata:await Wt({userPoolId:r.userPoolId,userPoolEndpoint:r.userPoolEndpoint,newDeviceMetadata:d.AuthenticationResult.NewDeviceMetadata,accessToken:d.AuthenticationResult.AccessToken}),signInDetails:i})),it(),await gt(),He(),{isSignedIn:!0,nextStep:{signInStep:"DONE"}}):en({challengeName:d.ChallengeName,challengeParameters:d.ChallengeParameters,availableChallenges:"AvailableChallenges"in d?d.AvailableChallenges:void 0})}catch(c){it(),He(),Ue(c);let l=Cn(c.name);if(l)return l;throw c}}async function pr(t){He(!1);let e=t.options?.authFlowType;switch(await ra(),e){case"USER_SRP_AUTH":return ll(t);case"USER_PASSWORD_AUTH":return Yh(t);case"CUSTOM_WITHOUT_SRP":return qh(t);case"CUSTOM_WITH_SRP":return jh(t);case"USER_AUTH":return ia(t);default:return ll(t)}}var Jh=180*1e3;function Xh(t){let e=fo.listen("auth-internal",async({payload:o})=>{switch(o.event){case"confirmSignUp":o.data?.isSignUpComplete&&(fo.dispatch("auth-internal",{event:"autoSignIn"}),ti(ty(t)),e())}}),n=setTimeout(()=>{e(),clearTimeout(n),He()},Jh)}function Zh(t,e){let n;return o=>{n||t(...o),clearTimeout(n),n=setTimeout(()=>{n=void 0},e)}}function MI(t,e,n){let o=Date.now(),r=setInterval(async()=>{if(Date.now()-o>Jh)clearInterval(r),n(new D({name:Bs,message:"The account was not confirmed on time.",recoverySuggestion:"Try to verify your account by clicking the link sent your email or phone and then login manually."})),He();else try{let a=await pr(t);a.nextStep.signInStep!=="CONFIRM_SIGN_UP"&&(e(a),clearInterval(r),He())}catch(a){clearInterval(r),n(a),He()}},5e3)}var kI=Zh(MI,300),UI=Zh(FI,300);function ey(t){return async()=>new Promise((e,n)=>{kI([t,e,n])})}async function FI(t,e,n){try{let o=t?.options?.authFlowType==="USER_AUTH"?await ia(t):await pr(t);e(o),He()}catch(o){n(o),He()}}function ty(t){return async()=>new Promise((e,n)=>{UI([t,e,n])})}var ny=ty;var LI=()=>async t=>{if(t.statusCode>=300){let e=await bt(t);if(Ue(e),e.name===Xc.InvalidParameterException&&/'password'/.test(e.message)&&/Member must not be null/.test(e.message)){let n=H.EmptySignUpPassword,{message:o,recoverySuggestion:r}=Fs[n];throw new D({name:n,message:o,recoverySuggestion:r})}throw new D({name:e.name,message:e.message})}return mn(t)},oy=t=>se(ve,Ce("SignUp"),LI(),y(y({},Se),t));async function dl(t){let{username:e,password:n,options:o}=t,r=$.getConfig().Auth?.Cognito,i=r?.signUpVerificationMethod??"code",{clientMetadata:s,validationData:a,autoSignIn:c}=t.options??{};V(r),ae(!!e,H.EmptySignUpUsername);let l=typeof c!="boolean"?c:void 0,d={username:e,options:l};l?.authFlowType!=="CUSTOM_WITHOUT_SRP"&&(d.password=n);let{userPoolId:u,userPoolClientId:p,userPoolEndpoint:m}=r,f=oy({endpointResolver:te({endpointOverride:m})}),g={Username:e,Password:void 0,UserAttributes:o?.userAttributes&&Jc(o?.userAttributes),ClientMetadata:s,ValidationData:a&&Jc(a),ClientId:p,UserContextData:ke({username:e,userPoolId:u,userPoolClientId:p})};n&&(g.Password=n);let{UserSub:C,CodeDeliveryDetails:h,UserConfirmed:v,Session:x}=await f({region:ee(u),userAgentValue:de(ie.SignUp)},g);(l||c===!0)&&(zt.dispatch({type:"START"}),zt.dispatch({type:"SET_USERNAME",value:e}),zt.dispatch({type:"SET_SESSION",value:x}));let P={destination:h?.Destination,deliveryMedium:h?.DeliveryMedium,attributeName:h?.AttributeName},k=!!v,N=zt.getState().active;if(k)return N?(ti(ny(d)),{isSignUpComplete:!0,nextStep:{signUpStep:"COMPLETE_AUTO_SIGN_IN"},userId:C}):{isSignUpComplete:!0,nextStep:{signUpStep:"DONE"},userId:C};if(N){if(i==="link")return ti(ey(d)),{isSignUpComplete:!1,nextStep:{signUpStep:"COMPLETE_AUTO_SIGN_IN",codeDeliveryDetails:P},userId:C};Xh(d)}return{isSignUpComplete:!1,nextStep:{signUpStep:"CONFIRM_SIGN_UP",codeDeliveryDetails:P},userId:C}}var ry=t=>se(ve,Ce("ForgotPassword"),xe(),y(y({},Se),t));async function ul(t){let{username:e}=t;ae(!!e,H.EmptyResetPasswordUsername);let n=$.getConfig().Auth?.Cognito;V(n);let{userPoolClientId:o,userPoolId:r,userPoolEndpoint:i}=n,s=t.options?.clientMetadata,a=ke({username:e,userPoolId:r,userPoolClientId:o}),d=(await ry({endpointResolver:te({endpointOverride:i})})({region:ee(r),userAgentValue:de(ie.ResetPassword)},{Username:e,ClientMetadata:s,ClientId:o,UserContextData:a})).CodeDeliveryDetails;return{isPasswordReset:!1,nextStep:{resetPasswordStep:"CONFIRM_RESET_PASSWORD_WITH_CODE",codeDeliveryDetails:{deliveryMedium:d?.DeliveryMedium,destination:d?.Destination,attributeName:d?.AttributeName}}}}var iy=t=>se(ve,Ce("ConfirmForgotPassword"),xe(),y(y({},Se),t));async function pl(t){let e=$.getConfig().Auth?.Cognito;V(e);let{userPoolClientId:n,userPoolId:o,userPoolEndpoint:r}=e,{username:i,newPassword:s}=t;ae(!!i,H.EmptyConfirmResetPasswordUsername),ae(!!s,H.EmptyConfirmResetPasswordNewPassword);let a=t.confirmationCode;ae(!!a,H.EmptyConfirmResetPasswordConfirmationCode);let c=t.options?.clientMetadata,l=ke({username:i,userPoolId:o,userPoolClientId:n});await iy({endpointResolver:te({endpointOverride:r})})({region:ee(e.userPoolId),userAgentValue:de(ie.ConfirmResetPassword)},{Username:i,ConfirmationCode:a,Password:s,ClientMetadata:c,ClientId:e.userPoolClientId,UserContextData:l})}var sy=t=>se(ve,Ce("ResendConfirmationCode"),xe(),y(y({},Se),t));async function ml(t){let{username:e}=t;ae(!!e,H.EmptySignUpUsername);let n=$.getConfig().Auth?.Cognito;V(n);let{userPoolClientId:o,userPoolId:r,userPoolEndpoint:i}=n,s=t.options?.clientMetadata,a=ke({username:e,userPoolId:r,userPoolClientId:o}),c=sy({endpointResolver:te({endpointOverride:i})}),{CodeDeliveryDetails:l}=await c({region:ee(n.userPoolId),userAgentValue:de(ie.ResendSignUpCode)},{Username:e,ClientMetadata:s,ClientId:n.userPoolClientId,UserContextData:a}),{DeliveryMedium:d,AttributeName:u,Destination:p}=y({},l);return{destination:p,deliveryMedium:d,attributeName:u||void 0}}var ay=t=>se(ve,Ce("ConfirmSignUp"),xe(),y(y({},Se),t));async function fl(t){let{username:e,confirmationCode:n,options:o}=t,r=$.getConfig().Auth?.Cognito;V(r);let{userPoolId:i,userPoolClientId:s,userPoolEndpoint:a}=r,c=o?.clientMetadata;ae(!!e,H.EmptyConfirmSignUpUsername),ae(!!n,H.EmptyConfirmSignUpCode);let l=ke({username:e,userPoolId:i,userPoolClientId:s}),d=ay({endpointResolver:te({endpointOverride:a})}),{Session:u}=await d({region:ee(r.userPoolId),userAgentValue:de(ie.ConfirmSignUp)},{Username:e,ConfirmationCode:n,ClientMetadata:c,ForceAliasCreation:o?.forceAliasCreation,ClientId:r.userPoolClientId,UserContextData:l});return new Promise((p,m)=>{try{let f={isSignUpComplete:!0,nextStep:{signUpStep:"DONE"}},g=zt.getState();if(!g.active||g.username!==e){p(f),He();return}zt.dispatch({type:"SET_SESSION",value:u});let C=fo.listen("auth-internal",({payload:h})=>{switch(h.event){case"autoSignIn":p({isSignUpComplete:!0,nextStep:{signUpStep:"COMPLETE_AUTO_SIGN_IN"}}),C()}});fo.dispatch("auth-internal",{event:"confirmSignUp",data:f})}catch(f){m(f)}})}var cy=t=>se(ve,Ce("GetUser"),xe(),y(y({},Se),t));var SK=new ye("AuthError");var ly={oauthSignInError:{message:je.OAUTH_ERROR,log:"Make sure Cognito Hosted UI has been configured correctly"},noConfig:{message:je.DEFAULT_MSG,log:`
            Error: Amplify has not been configured correctly.
            This error is typically caused by one of the following scenarios:

            1. Make sure you're passing the awsconfig object to Amplify.configure() in your app's entry point
                See https://aws-amplify.github.io/docs/js/authentication#configure-your-app for more information
            
            2. There might be multiple conflicting versions of amplify packages in your node_modules.
				Refer to our docs site for help upgrading Amplify packages (https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js)
        `},missingAuthConfig:{message:je.DEFAULT_MSG,log:`
            Error: Amplify has not been configured correctly. 
            The configuration object is missing required auth properties.
            This error is typically caused by one of the following scenarios:

            1. Did you run \`amplify push\` after adding auth via \`amplify add auth\`?
                See https://aws-amplify.github.io/docs/js/authentication#amplify-project-setup for more information

            2. This could also be caused by multiple conflicting versions of amplify packages, see (https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js) for help upgrading Amplify packages.
        `},emptyUsername:{message:je.EMPTY_USERNAME},invalidUsername:{message:je.INVALID_USERNAME},emptyPassword:{message:je.EMPTY_PASSWORD},emptyCode:{message:je.EMPTY_CODE},signUpError:{message:je.SIGN_UP_ERROR,log:"The first parameter should either be non-null string or object"},noMFA:{message:je.NO_MFA},invalidMFA:{message:je.INVALID_MFA},emptyChallengeResponse:{message:je.EMPTY_CHALLENGE},noUserSession:{message:je.NO_USER_SESSION},deviceConfig:{message:je.DEVICE_CONFIG},networkError:{message:je.NETWORK_ERROR},autoSignInError:{message:je.AUTOSIGNIN_ERROR},default:{message:je.DEFAULT_MSG}};var Sn=(t,e)=>new D({message:t??"An error has occurred during the oauth process.",name:Rn.OAuthSignInError,recoverySuggestion:e??ly.oauthSignInError.log});var gl=(function(t){return t.NoConfig="noConfig",t.MissingAuthConfig="missingAuthConfig",t.EmptyUsername="emptyUsername",t.InvalidUsername="invalidUsername",t.EmptyPassword="emptyPassword",t.EmptyCode="emptyCode",t.SignUpError="signUpError",t.NoMFA="noMFA",t.InvalidMFA="invalidMFA",t.EmptyChallengeResponse="emptyChallengeResponse",t.NoUserSession="noUserSession",t.Default="default",t.DeviceConfig="deviceConfig",t.NetworkError="networkError",t.AutoSignInError="autoSignInError",t.OAuthSignInError="oauthSignInError",t})(gl||{});var BI="`signInWithRedirect` has been canceled.",zI="An error occurred while validating the state.",VI="Try to initiate an OAuth flow from Amplify",hl=async t=>{let e=await Ve.loadOAuthState(),n=t===e?e:void 0;if(!n)throw new D({name:gl.OAuthSignInError,message:t===null?BI:zI,recoverySuggestion:t===null?void 0:VI});return n};var sa=async({currentUrl:t,userAgentValue:e,clientId:n,redirectUri:o,responseType:r,domain:i,preferPrivateSession:s})=>{let a=new ot(t),c=a.searchParams.get("error"),l=a.searchParams.get("error_description");if(c)throw Sn(l??c);return r==="code"?HI({currentUrl:t,userAgentValue:e,clientId:n,redirectUri:o,domain:i,preferPrivateSession:s}):WI({currentUrl:t,redirectUri:o,preferPrivateSession:s})},HI=async({currentUrl:t,userAgentValue:e,clientId:n,redirectUri:o,domain:r,preferPrivateSession:i})=>{let s=new ot(t),a=s.searchParams.get("code"),c=s.searchParams.get("state");if(!a||!c)throw Sn("User cancelled OAuth flow.");let l=await hl(c),d="https://"+r+"/oauth2/token",u=await Ve.loadPKCE(),p=y({grant_type:"authorization_code",code:a,client_id:n,redirect_uri:o},u?{code_verifier:u}:{}),m=Object.entries(p).map(([N,w])=>`${encodeURIComponent(N)}=${encodeURIComponent(w)}`).join("&"),{access_token:f,refresh_token:g,id_token:C,error:h,error_message:v,token_type:x,expires_in:P}=await(await fetch(d,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",[Pc]:e},body:m})).json();if(h)throw Sn(v??h);let k=(f&&Ye(f).payload.username)??"username";return await rt({username:k,AccessToken:f,IdToken:C,RefreshToken:g}),dy({redirectUri:o,state:l,preferPrivateSession:i})},WI=async({currentUrl:t,redirectUri:e,preferPrivateSession:n})=>{let o=new ot(t),{id_token:r,access_token:i,state:s,token_type:a,expires_in:c,error_description:l,error:d}=(o.hash??"#").substring(1).split("&").map(m=>m.split("=")).reduce((m,[f,g])=>U(y({},m),{[f]:g}),{id_token:void 0,access_token:void 0,state:void 0,token_type:void 0,expires_in:void 0,error_description:void 0,error:void 0});if(d)throw Sn(l??d);if(!i)throw Sn("No access token returned from OAuth flow.");let u=await hl(s),p=(i&&Ye(i).payload.username)??"username";return await rt({username:p,AccessToken:i,IdToken:r}),dy({redirectUri:e,state:u,preferPrivateSession:n})},dy=async({redirectUri:t,state:e,preferPrivateSession:n})=>{await De.setOAuthMetadata({oauthSignIn:!0}),await Ve.clearOAuthData(),await Ve.storeOAuthSignIn(!0,n),qs(),jI(t),KI(e)&&ze.dispatch("auth",{event:"customOAuthState",data:$c(qI(e))},"Auth",qe),ze.dispatch("auth",{event:"signInWithRedirect"},"Auth",qe),await gt()},KI=t=>/-/.test(t),qI=t=>t.split("-").splice(1).join("-"),jI=t=>{typeof window<"u"&&typeof window.history<"u"&&window.history.replaceState(window.history.state,"",t)};function mr(t,e){if(e){let n=t?.find(o=>o===e);if(!n)throw eh;return n}else{let n=t?.find($I)??t?.find(GI),o=t?.find(QI)??t?.find(YI);if(n)return n;throw o?th:Zg}}var $I=t=>t.startsWith(String(window.location.origin+(window.location.pathname||"/"))),GI=t=>t.includes(String(window.location.hostname)),YI=t=>t.startsWith("http://"),QI=t=>t.startsWith("https://");var fr=async t=>{qs(),await Ve.clearOAuthInflightData(),ze.dispatch("auth",{event:"signInWithRedirect_failure",data:{error:t}},"Auth",qe)};var uy=async t=>{try{V(t),Tn(t),Ve.setAuthConfig(t)}catch{return}if(await Ve.loadOAuthInFlight())try{let e=window.location.href,{loginWith:n,userPoolClientId:o}=t,{domain:r,redirectSignIn:i,responseType:s}=n.oauth,a=mr(i);await sa({currentUrl:e,clientId:o,domain:r,redirectUri:a,responseType:s,userAgentValue:de(ie.SignInWithRedirect)})}catch(e){await fr(e)}};Dn()&&$[Ur](uy);var py={Google:"Google",Facebook:"Facebook",Amazon:"LoginWithAmazon",Apple:"SignInWithApple"};var aa=async t=>{window?.location&&(window.location.href=t.replace("http://","https://"))};var my="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",fy=t=>{let e=new Uint8Array(t);go().getRandomValues(e);let n="",o;for(let r of e)n+=my.charAt(r%my.length);return{value:n,method:"S256",toCodeChallenge(){return o||(o=JI(n),o)}}};function JI(t){let e=new Pn;return e.update(t),XI(Bt.convert(e.digestSync(),{urlSafe:!0}))}function XI(t){return t.replace(/=/g,"")}var gy=()=>jc(32);var hy=t=>{async function e(n){if(n.persisted&&await t.loadOAuthInFlight()){let r=Sn("User cancelled OAuth flow.");await fr(r)}window.removeEventListener("pageshow",e)}window.addEventListener("pageshow",e)};async function ca(t){let e=$.getConfig().Auth?.Cognito;V(e),Tn(e),Ve.setAuthConfig(e),t?.options?.prompt||await ra();let n="COGNITO";return typeof t?.provider=="string"?n=py[t.provider]:t?.provider?.custom&&(n=t.provider.custom),ZI({oauthConfig:e.loginWith.oauth,clientId:e.userPoolClientId,provider:n,customState:t?.customState,preferPrivateSession:t?.options?.preferPrivateSession,options:{loginHint:t?.options?.loginHint,lang:t?.options?.lang,nonce:t?.options?.nonce,prompt:t?.options?.prompt},authSessionOpener:t?.options?.authSessionOpener})}var ZI=async({oauthConfig:t,provider:e,clientId:n,customState:o,preferPrivateSession:r,options:i,authSessionOpener:s})=>{let{domain:a,redirectSignIn:c,responseType:l,scopes:d}=t,{loginHint:u,lang:p,nonce:m,prompt:f}=i??{},g=gy(),C=s||aa,h=o?`${g}-${Gc(o)}`:g,{value:v,method:x,toCodeChallenge:P}=fy(128),k=mr(t.redirectSignIn);Dn()&&Ve.storeOAuthInFlight(!0),Ve.storeOAuthState(h),Ve.storePKCE(v);let N=new URLSearchParams([["redirect_uri",k],["response_type",l],["client_id",n],["identity_provider",e],["scope",d.join(" ")]]);u&&N.append("login_hint",u),p&&N.append("lang",p),m&&N.append("nonce",m),f&&N.append("prompt",f.toLowerCase()),N.append("state",h),l==="code"&&(N.append("code_challenge",P()),N.append("code_challenge_method",x));let w=new URL("/oauth2/authorize",`https://${a}/`);w.search=N.toString(),hy(Ve);let{type:L,error:q,url:Y}=await C(w.href,c,r)??{};try{if(L==="error")throw Sn(String(q));L==="success"&&Y&&await sa({currentUrl:Y,clientId:n,domain:a,redirectUri:k,responseType:l,userAgentValue:de(ie.SignInWithRedirect),preferPrivateSession:r})}catch(we){throw await fr(we),we}};var yy=async t=>{let e=t.getConfig().Auth?.Cognito;V(e);let{userPoolEndpoint:n,userPoolId:o}=e,{tokens:r}=await zr(t,{forceRefresh:!1});nr(r);let i=cy({endpointResolver:te({endpointOverride:n})}),{UserAttributes:s}=await i({region:ee(o),userAgentValue:de(ie.FetchUserAttributes)},{AccessToken:r.accessToken.toString()});return Qg(s)};var yl=()=>yy($);var Cy=async t=>{await t.clearOAuthData(),De.clearTokens(),await Hr(),ze.dispatch("auth",{event:"signedOut"},"Auth",qe)};var vy=async(t,e=!1,n)=>{Tn(t);let{loginWith:o,userPoolClientId:r}=t,{domain:i,redirectSignOut:s}=o.oauth,a=mr(s,n),c=`https://${i}/logout?${Object.entries({client_id:r,logout_uri:encodeURIComponent(a)}).map(([l,d])=>`${l}=${d}`).join("&")}`;return aa(c)};var Sy=async(t,e,n,o)=>{let{isOAuthSignIn:r}=await e.loadOAuthSignIn(),i=await n.getOAuthMetadata();if(await Cy(e),r||i?.oauthSignIn)return vy(t,!1,o)};var _y=t=>se(ve,Ce("RevokeToken"),xe(),y(y({},Se),t));var Ey=t=>se(ve,Ce("GlobalSignOut"),xe(),y(y({},Se),t));var Iy=new ye("Auth");async function Cl(t){let e=$.getConfig().Auth?.Cognito;V(e),t?.global?await tb(e):await eb(e);let n;try{Tn(e),n=!0}catch{n=!1}if(n){let o=new or(Lt);o.setAuthConfig(e);let{type:r}=await Sy(e,o,De,t?.oauth?.redirectUrl)??{};if(r==="error")throw new D({name:nh,message:"An error occurred when attempting to log out from OAuth provider."})}else De.clearTokens(),await Hr(),ze.dispatch("auth",{event:"signedOut"},"Auth",qe)}async function eb(t){try{let{userPoolEndpoint:e,userPoolId:n,userPoolClientId:o}=t,r=await De.getTokenStore().loadTokens();zs(r),nb(r.accessToken)&&await _y({endpointResolver:te({endpointOverride:e})})({region:ee(n),userAgentValue:de(ie.SignOut)},{ClientId:o,Token:r.refreshToken})}catch{Iy.debug("Client signOut error caught but will proceed with token removal")}}async function tb(t){try{let{userPoolEndpoint:e,userPoolId:n}=t,o=await De.getTokenStore().loadTokens();nr(o),await Ey({endpointResolver:te({endpointOverride:e})})({region:ee(n),userAgentValue:de(ie.SignOut)},{AccessToken:o.accessToken.toString()})}catch{Iy.debug("Global signOut error caught but will proceed with token removal")}}var nb=t=>!!t?.payload?.origin_jti;var by={identityId:"identityId"};var ob=new ye("DefaultIdentityIdStore"),wo=class{setAuthConfig(e){yo(e.Cognito),this.authConfig=e,this._authKeys=rb("Cognito",e.Cognito.identityPoolId)}constructor(e){this._authKeys={},this._hasGuestIdentityId=!1,this.keyValueStorage=e}async loadIdentityId(){yo(this.authConfig?.Cognito);try{if(this._primaryIdentityId)return{id:this._primaryIdentityId,type:"primary"};{let e=await this.keyValueStorage.getItem(this._authKeys.identityId);return e?(this._hasGuestIdentityId=!0,{id:e,type:"guest"}):null}}catch(e){return ob.log("Error getting stored IdentityId.",e),null}}async storeIdentityId(e){yo(this.authConfig?.Cognito),e.type==="guest"?(this.keyValueStorage.setItem(this._authKeys.identityId,e.id),this._primaryIdentityId=void 0,this._hasGuestIdentityId=!0):(this._primaryIdentityId=e.id,this._hasGuestIdentityId&&(this.keyValueStorage.removeItem(this._authKeys.identityId),this._hasGuestIdentityId=!1))}async clearIdentityId(){this._primaryIdentityId=void 0,await this.keyValueStorage.removeItem(this._authKeys.identityId)}},rb=(t,e)=>Xr(by)(`com.amplify.${t}`,e);var ni=({endpointOverride:t})=>e=>t?{url:new ot(t)}:Hc(e);function la(t){let e=Ye(t).payload.iss,n={};if(!e)throw new D({name:"InvalidIdTokenException",message:"Invalid Idtoken."});let o=e.replace(/(^\w+:|^)\/\//,"");return n[o]=t,n}async function xy({tokens:t,authConfig:e,identityIdStore:n}){n.setAuthConfig({Cognito:e});let o=await n.loadIdentityId();if(o)return o.id;let r=t?.idToken?la(t.idToken.toString()):{},i=await ib(r,e);return n.storeIdentityId({id:i,type:t?"primary":"guest"}),i}async function ib(t,e){let n=e?.identityPoolId,o=Jr(n),r=zc({endpointResolver:ni({endpointOverride:e.identityPoolEndpoint})}),i;try{i=(await r({region:o},{IdentityPoolId:n,Logins:t})).IdentityId}catch(s){throw Ue(s),new D(s)}if(!i)throw new D({name:"GetIdResponseException",message:"Received undefined response from getId operation",recoverySuggestion:"Make sure to pass a valid identityPoolId in the configuration."});return i}var da=new ye("CognitoCredentialsProvider"),wy=3e3*1e3,To=class{constructor(e){this._nextCredentialsRefresh=0,this._identityIdStore=e}async clearCredentialsAndIdentityId(){da.debug("Clearing out credentials and identityId"),this._credentialsAndIdentityId=void 0,await this._identityIdStore.clearIdentityId()}async clearCredentials(){da.debug("Clearing out in-memory credentials"),this._credentialsAndIdentityId=void 0}async getCredentialsAndIdentityId(e){let n=e.authenticated,{tokens:o}=e,{authConfig:r}=e;try{yo(r?.Cognito)}catch{return}if(!n&&!r.Cognito.allowGuestAccess)return;let{forceRefresh:i}=e,s=this.hasTokenChanged(o),a=await xy({tokens:o,authConfig:r.Cognito,identityIdStore:this._identityIdStore});return(i||s)&&this.clearCredentials(),n?(ih(o),this.credsForOIDCTokens(r.Cognito,o,a)):this.getGuestCredentials(a,r.Cognito)}async getGuestCredentials(e,n){if(this._credentialsAndIdentityId&&!this.isPastTTL()&&this._credentialsAndIdentityId.isAuthenticatedCreds===!1)return da.info("returning stored credentials as they neither past TTL nor expired."),this._credentialsAndIdentityId;this.clearCredentials();let o=Jr(n.identityPoolId),r=xs({endpointResolver:ni({endpointOverride:n.identityPoolEndpoint})}),i;try{i=await r({region:o},{IdentityId:e})}catch(s){throw Ue(s),new D(s)}if(i?.Credentials?.AccessKeyId&&i?.Credentials?.SecretKey){this._nextCredentialsRefresh=new Date().getTime()+wy;let s={credentials:{accessKeyId:i.Credentials.AccessKeyId,secretAccessKey:i.Credentials.SecretKey,sessionToken:i.Credentials.SessionToken,expiration:i.Credentials.Expiration},identityId:e};return i.IdentityId&&(s.identityId=i.IdentityId,this._identityIdStore.storeIdentityId({id:i.IdentityId,type:"guest"})),this._credentialsAndIdentityId=U(y({},s),{isAuthenticatedCreds:!1}),s}else throw new D({name:"CredentialsNotFoundException",message:"Cognito did not respond with either Credentials, AccessKeyId or SecretKey."})}async credsForOIDCTokens(e,n,o){if(this._credentialsAndIdentityId&&!this.isPastTTL()&&this._credentialsAndIdentityId.isAuthenticatedCreds===!0)return da.debug("returning stored credentials as they neither past TTL nor expired."),this._credentialsAndIdentityId;this.clearCredentials();let r=n.idToken?la(n.idToken.toString()):{},i=Jr(e.identityPoolId),s=xs({endpointResolver:ni({endpointOverride:e.identityPoolEndpoint})}),a;try{a=await s({region:i},{IdentityId:o,Logins:r})}catch(c){throw Ue(c),new D(c)}if(a?.Credentials?.AccessKeyId&&a?.Credentials?.SecretKey){this._nextCredentialsRefresh=new Date().getTime()+wy;let c={credentials:{accessKeyId:a.Credentials.AccessKeyId,secretAccessKey:a.Credentials.SecretKey,sessionToken:a.Credentials.SessionToken,expiration:a.Credentials.Expiration},identityId:o};return a.IdentityId&&(c.identityId=a.IdentityId,this._identityIdStore.storeIdentityId({id:a.IdentityId,type:"primary"})),this._credentialsAndIdentityId=U(y({},c),{isAuthenticatedCreds:!0,associatedIdToken:n.idToken?.toString()}),c}else throw new D({name:"CredentialsException",message:"Cognito did not respond with either Credentials, AccessKeyId or SecretKey."})}isPastTTL(){return this._nextCredentialsRefresh===void 0?!0:this._nextCredentialsRefresh<=Date.now()}hasTokenChanged(e){return!!e&&!!this._credentialsAndIdentityId?.associatedIdToken&&e.idToken?.toString()!==this._credentialsAndIdentityId.associatedIdToken}};var Po=class t{constructor(e,n,o,r){this.state=e;this.user=n;this.tokens=o;this.error=r}static fromError(e){return new t("error",void 0,void 0,e)}static fromAuthenticated(e,n){return new t("authenticated",e,n)}static unknown(){return new t("unknown")}static fromUnauthenticated(){return new t("unauthenticated")}};var vl=new To(new wo(Lt));var ua={configure(t,e){let n=Fr(t),o=new er({sameSite:"lax"}),r=e?.ssr?o:Lt,i=e?.ssr?new To(new wo(o)):vl;if(!n.Auth){$.configure(n,e);return}if(e?.Auth){$.configure(n,e);return}if(!$.libraryOptions.Auth){xo.setAuthConfig(n.Auth),xo.setKeyValueStorage(r),$.configure(n,U(y({},e),{Auth:{tokenProvider:xo,credentialsProvider:i}}));return}if(e){let s=$.libraryOptions.Auth;e.ssr!==void 0&&(xo.setKeyValueStorage(r),s.credentialsProvider=i),$.configure(n,y({Auth:s},e));return}$.configure(n)},getConfig(){return $.getConfig()}};var Sl=new Ol("AUTH_COGNITO_CONFIG"),_l=t=>{let e=t.cognito.oauth,n=[{provide:Sl,useValue:t}];return e?(ua.configure({Auth:{Cognito:{userPoolId:t.cognito.userPoolId,userPoolClientId:t.cognito.userPoolClientId,loginWith:{oauth:y({scopes:["email","openid","aws.cognito.signin.user.admin"],responseType:"code"},e)}}}}),n.push(_r(()=>b(Ao).startListening()))):ua.configure({Auth:{Cognito:{userPoolId:t.cognito.userPoolId,userPoolClientId:t.cognito.userPoolClientId}}}),n};var sb=async t=>{let e=await Vr({forceRefresh:t}),n=e?.tokens?.idToken,o=e?.tokens?.accessToken;return!n||!o?null:{idToken:new Ia(n.toString(),n.payload),accessToken:new Ia(o.toString(),o.payload)}},Ao=class t extends _u{#e=b(xu);#t=b(bu);#c=b(Ln);#i=b(Eu);#l=b(Sl);#d=b(Ze);#r;#s=()=>{};startListening(){this.#s=ze.listen("auth",({payload:e})=>{switch(this.#t.reset(),e.event){case"signInWithRedirect":this.#a(),this.stopListening();break;case"signInWithRedirect_failure":this.stopListening(),this.#n(this.#o("signInWithProvider",e.data.error));break;case"customOAuthState":this.stopListening(),this.#n(new dt("signInWithProvider","invalidConfiguration",new ro("Custom OAuth state handling not implemented")));break}})}stopListening(){this.#s()}authState=nd({defaultValue:Po.unknown(),loader:async()=>{try{if(!(await Vr())?.tokens)return Po.fromUnauthenticated();let n=await yl();if(!n)throw"Runtime error: user authenticated, but cannot be fetched";return Po.fromAuthenticated({displayName:n.name??n.email??"",email:n.email,fullName:n.name,phone:n.phone_number,verified:!!n.email_verified},new vu(sb))}catch(e){return Po.fromError(new Su(e))}}});accessToken$=hi(this.authState.value).pipe(xt(void 0),Fe(e=>e?.tokens||null),at(async e=>e?.getAccessToken()??null));idToken$=hi(this.authState.value).pipe(xt(void 0),Fe(e=>e?.tokens||null),at(async e=>e?.getIdToken()??null));currentUser=to(()=>this.authState.value().user);#u=hi(to(()=>this.authState.value().state==="authenticated")).pipe(Te(Boolean));async signOut(e=!1){try{this.#t.reset();let n=this.#d.defaultView;if(!n)throw new ro("Window is not available. Cannot sign out.","Make sure to run this code in a browser environment.");let o=this.#l.cognito.oauth?.redirectSignOut??[],r=n.location.origin,i=[r,`${r}/`];if(this.#i.routing?.guest){let a=`${r}/${this.#c.createUrlTree(this.#i.routing?.guest).toString()}`;i.unshift(a),i.unshift(`${a}/`)}let s=i.find(a=>o.includes(a));await Cl({global:e,oauth:{redirectUrl:s}}),this.authState.reload(),this.#e.navigateToGuestPage()}catch(n){return this.#n(this.#o("signOut",n))}}async signUp(e){try{this.#t.reset();let n=Object.fromEntries(Object.entries(e.customAttributes||{}).map(([r,i])=>[`custom:${r}`,typeof i=="number"?i:String(i)])),{nextStep:o}=await dl({username:e.email,password:e.password,options:{userAttributes:y({email:e.email,name:e.fullName},n)}});switch(o.signUpStep){case"DONE":this.#e.nextStep("login",{email:e.email});break;case"CONFIRM_SIGN_UP":this.#e.nextStep("confirm_sign_up",{email:e.email});break;case"COMPLETE_AUTO_SIGN_IN":this.#e.nextStep("login",{email:e.email});break}}catch(n){return this.#n(this.#o("signUp",n))}}async confirmSignUp(e){try{this.#t.reset();let{nextStep:n}=await fl({username:e.email,confirmationCode:e.code});switch(n.signUpStep){case"DONE":this.#e.nextStep("login",{email:e.email});break;case"CONFIRM_SIGN_UP":this.#e.nextStep("confirm_sign_up",{email:e.email});break;case"COMPLETE_AUTO_SIGN_IN":this.#e.nextStep("login",{email:e.email});break;default:throw new ro("Unexpected next step: "+n)}}catch(n){return"message"in n&&n.message==="User cannot be confirmed. Current status is CONFIRMED"&&this.#e.nextStep("login",{email:e.email}),this.#n(this.#o("signIn",n))}}async resendSignUpCode(e){try{this.#t.reset(),await ml({username:e.email})}catch(n){return this.#n(this.#o("resendSignUpCode",n))}}async signIn(e){try{this.#t.reset();let{nextStep:n}=await pr({username:e.email,password:e.password});switch(n.signInStep){case"DONE":this.#a();break;case"CONFIRM_SIGN_UP":this.#e.nextStep("confirm_sign_up",{email:e.email});break;case"RESET_PASSWORD":this.#e.nextStep("reset_password",{email:e.email});break;default:throw new ro("Unexpected next step: "+n)}}catch(n){return this.#n(this.#o("signIn",n))}}async forgotPassword(e){try{this.#t.reset();let{nextStep:n}=await ul({username:e.email});switch(n.resetPasswordStep){case"DONE":this.#e.nextStep("login",{email:e.email});break;case"CONFIRM_RESET_PASSWORD_WITH_CODE":this.#e.nextStep("reset_password",{email:e.email});break;default:throw new ro("Unexpected next step: "+n)}}catch(n){return this.#n(this.#o("forgotPassword",n))}}async confirmForgotPassword(e){try{this.#t.reset(),await pl({username:e.email,confirmationCode:e.code,newPassword:e.newPassword}),this.#e.nextStep("login",{email:e.email})}catch(n){return this.#n(this.#o("confirmForgotPassword",n))}}async signInWithProvider(e){try{this.#t.reset();let n;switch(e){case"google":n="Google";break;case"facebook":n="Facebook";break;case"apple":n="Apple";break;case"amazon":n="Amazon";break;default:n={custom:e}}await ca({provider:n})}catch(n){return this.#n(this.#o("signInWithProvider",n))}}#o(e,n){switch(!0){case String(n).includes("Cannot reset password for the user as there is no registered/verified email"):return new dt(e,"notVerified",n);case String(n).includes("already a signed in user"):return new dt(e,"alreadySignedIn",n);case String(n).includes("User already exists."):return new dt(e,"userAlreadyExists",n);case String(n).includes("User is not confirmed."):return new dt(e,"userIsNotConfirmed",n);case String(n).includes("User does not exist."):return new dt(e,"userDoesNotExist",n);case String(n).includes("Incorrect username or password."):return new dt(e,"incorrectUsernameOrPassword",n);case String(n).includes("Username/client id combination not found."):return new dt(e,"usernameNotFound",n);case String(n).includes("Invalid verification code provided, please try again"):return new dt(e,"invalidCode",n);case String(n).includes("The given preferredRedirectUrl"):return console.error(n),new dt(e,"invalidConfiguration",n,!0);case String(n).includes("User cancelled OAuth flow"):return console.error(n),new dt(e,"cancelledFlow",n,!0);case String(n).includes("can not be converted to"):return new dt(e,"invalidConfiguration",new ro("Invalid configuration, see console for details","Make sure you set up the attributes options correctly."),!0);default:return console.error(n),new dt(e,"unknown",n)}}#n(e){return this.#t.handle(e),e}#a(){this.#e.nextStep("login"),this.authState.reload(),!this.#r&&(this.#r=this.#u.subscribe(()=>{this.#e.navigateToSecuredPage(),this.#r?.unsubscribe(),this.#r=void 0}))}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Fl(t)))(o||t)}})();static \u0275prov=sn({token:t,factory:t.\u0275fac,providedIn:"root"})};var oi={cognito:{userPoolId:"todo",userPoolClientId:"todo",userPoolDomain:"todo"},apiTestingUrl:"todo"};var Ty={providers:[kl(),td(),Hf(),va(Sa()),Sd([...Km,{path:"**",redirectTo:"getting-started/what-is-ngx-omni-auth"}],_d({scrollPositionRestoration:"enabled",anchorScrolling:"enabled"})),va(Sa(),ud()),Wm(),zm(),Hm(Li),Vm(Bm),au(Lm),Iu({authService:Ao,bearerAuthentication:{whitelistedEndpoints:[oi.apiTestingUrl]}}),_l({cognito:{userPoolId:oi.cognito.userPoolId,userPoolClientId:oi.cognito.userPoolClientId,oauth:{domain:oi.cognito.userPoolDomain,redirectSignIn:["http://localhost:4200/"],redirectSignOut:["http://localhost:4200/"],providers:["Google"]}}})]};function ab(t,e){t&1&&(S(0,"div",7)(1,"a",8),j(2,"MIT \xA9 2025"),E(),j(3," Piotr Liszka "),E())}var pa=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=F({type:t,selectors:[["app-root"]],features:[Fn([ko])],decls:14,vars:2,consts:[["footerContent",""],[3,"footerContent"],["ngDocNavbarLeft","",1,"brand"],["alt","Logo","height","28","ngSrc","logo.png","width","28",1,"brand-logo"],[1,"brand-title-ngx"],[1,"brand-title-omni-auth"],["ngDocNavbarRight","",1,"header-controls"],[1,"footer"],["href","https://github.com/ngx-addons/omni-auth/blob/main/LICENSE.md","target","_blank"]],template:function(n,o){if(n&1&&(S(0,"ng-doc-root",1)(1,"ng-doc-navbar")(2,"h3",2),O(3,"img",3),S(4,"span",4),j(5,"Ngx"),E(),S(6,"span",5),j(7,"OmniAuth"),E()(),S(8,"div",6),O(9,"ng-doc-theme-toggle"),E()(),O(10,"ng-doc-sidebar")(11,"router-outlet"),J(12,ab,4,0,"ng-template",null,0,pe),E()),n&2){let r=le(13);I("footerContent",r),_(8),I("@preventInitialChild",void 0)}},dependencies:[Cd,Om,Cm,Mm,km,ad],styles:[".brand[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.brand-logo[_ngcontent-%COMP%]{margin-right:8px}.brand-title-ngx[_ngcontent-%COMP%]{font-family:var(--ng-doc-font-family),serif;font-weight:400}.brand-title-omni-auth[_ngcontent-%COMP%]{font-family:var(--ng-doc-heading-font-family),serif;font-weight:700}.header-controls[_ngcontent-%COMP%]{display:flex;margin-left:calc(var(--ng-doc-base-gutter) * 2);gap:calc(var(--ng-doc-base-gutter) * 2)}@media screen and (max-width: 600px){.header-controls[_ngcontent-%COMP%]{gap:calc(var(--ng-doc-base-gutter))}}.footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:calc(var(--ng-doc-base-gutter) * 3);color:var(--ng-doc-text-muted);font-size:12px;gap:8px}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--ng-doc-link-color)}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}"],data:{animation:[wd]},changeDetection:0})};ld(pa,Ty).catch(t=>console.error(t));
